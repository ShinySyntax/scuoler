(this["webpackJsonpischools-react"]=this["webpackJsonpischools-react"]||[]).push([[0],{19:function(e,t,a){},24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),i=a.n(s),o=(a(29),a(2)),l=a(3),c=a(1),u=a(5),d=a(4),p=(a(30),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userId:"",password:"",firstName:"",lastName:"",address1:"",address2:"",city:"",zip:"",phone:"",cell:"",email:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return""===this.props.loggedInUser?r.a.createElement("div",{className:"Header"},r.a.createElement("form",{method:"post",action:"login",onSubmit:this.props.handleSubmit,noValidate:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"flexColLeft"},r.a.createElement("span",{id:"logo"},"Schools.com"),r.a.createElement("br",null),r.a.createElement("label",{style:{color:"red",paddingRight:"50px"}},this.props.errorMessage)),r.a.createElement("div",{id:"flexColRight"},r.a.createElement("a",{id:"HeaderRightLink",href:"/userInsert"},"Register User"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"userId"},"user id"),r.a.createElement("input",{type:"text",id:"userName",name:"userName",tabindex:"1",onChange:this.props.userIdChange,value:this.props.userId}),r.a.createElement("label",{for:"password"},"password"),r.a.createElement("input",{type:"password",id:"password",name:"password",tabindex:"2",onChange:this.props.passwordChange,value:this.props.password}),r.a.createElement("input",{type:"submit",value:"Login",tabindex:"3"}))))):r.a.createElement("div",{className:"Header",noValidate:!0},r.a.createElement("form",{method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"flexColLeft"},r.a.createElement("span",{id:"logo"},"Schools.com"),null!==this.props.startedQuiz?r.a.createElement("label",{style:{color:"maroon",textDecoration:"underline",cursor:"pointer"},onClick:function(t){return window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/quizShowSelected/"+e.props.startedQuiz.id)}},r.a.createElement("br",null),this.props.startedQuiz.description," started (",this.props.startedQuiz.mins_remaining," mins left) "):null),r.a.createElement("div",{id:"flexColRight"},r.a.createElement("span",{id:"loginStatus"},r.a.createElement("a",{id:"HeaderRightLink",href:"/",style:{textDecoration:"underline"},onClick:this.props.logoutUser},"Logout"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Logged in as: "),r.a.createElement("label",{id:"userId"},this.props.loggedInUser))))))}}]),a}(n.Component)),m=function(e){var t=e.property,a=t.index,n=t.image;return r.a.createElement("div",{id:"card-".concat(a),className:"card"},r.a.createElement("img",{src:n,alt:"Hello img"}))},h={properties:[{index:0,image:"https://drive.google.com/thumbnail?id=1tjwS8G9MyI5z7-foeQFi6E7DRJkd5aon&sz=w400-h300"},{index:1,image:"https://drive.google.com/thumbnail?id=14eOz7AGKAllAAQ3lLfQrZ8qsuy0aOuHr&sz=w400-h300"},{index:2,image:"https://drive.google.com/thumbnail?id=1PI6c4yRgZyBol7DaBVqwvErfpJqI4O0C&sz=w400-h300"},{index:3,image:"https://drive.google.com/thumbnail?id=1xrUEuIyzczN0R5-ViQsoE0zaRnjjaFNU&sz=w400-h300"},{index:4,image:"https://drive.google.com/thumbnail?id=1eHZrcjgxxEaL0HwBUDX9_-dZqQZbldkR&sz=w400-h300"},{index:5,image:"https://drive.google.com/thumbnail?id=1-3oKDTCTAk29vqHZTJDgccgmFkUNJdL5&sz=w400-h300"},{index:6,image:"https://drive.google.com/thumbnail?id=112spuYv-XGXmQQi1E3hhut5S1Vzi4h8E&sz=w400-h300"}]},b=(a(31),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).nextProperty=function(){var e=n.state.property.index+1;n.setState({property:n.state.properties[e]})},n.prevProperty=function(){var e=n.state.property.index-1;n.setState({property:n.state.properties[e]})},n.state={properties:h.properties,property:h.properties[0],direction:1},n.nextProperty=n.nextProperty.bind(Object(c.a)(n)),n.prevProperty=n.prevProperty.bind(Object(c.a)(n)),n.rotateImage=n.rotateImage.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.rotateImage()}),3e3)}},{key:"rotateImage",value:function(){var e=this.state.direction;this.state.property.index===h.properties.length-1?e=-1:0===this.state.property.index&&(e=1);var t=this.state.property.index+e;this.setState({direction:e,property:h.properties[t]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.properties,n=t.property;t.direction;return r.a.createElement("div",{className:"App"},r.a.createElement("button",{disabled:this.state.property.index===h.properties.length-1,onClick:function(){return e.nextProperty()}},"Next"),r.a.createElement("button",{disabled:0===this.state.property.index,onClick:function(){return e.prevProperty()}},"Prev"),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"cards-slider active-slide-".concat(n.index)},r.a.createElement("div",{className:"cards-slider-wrapper",style:{transform:"translateX(-".concat(100*n.index/a.length,"%)")}},a.map((function(e){return r.a.createElement(m,{key:e.index,property:e})}))))))}}]),a}(r.a.Component)),g=(a(32),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).problemInsert=function(){""===n.props.loggedInUser?n.props.setErrorMessage("Error: User not Logged In!"):window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/problemInsert")},n.problemsBrowse=function(){window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/problemsBrowse")},n.quizInsert=function(){""===n.props.loggedInUser?n.props.setErrorMessage("Error: User not Logged In!"):window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/quizInsert")},n.quizesBrowse=function(){window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/quizesBrowse")},n.courseInsert=function(){""===n.props.loggedInUser?n.props.setErrorMessage("Error: User not Logged In!"):window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/courseInsert")},n.coursesBrowse=function(){window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/coursesBrowse")},n.userInsert=function(){""!==n.props.loggedInUser?alert("Error: User already registered and logged In !"):window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/userInsert")},n.userShowProfile=function(){window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/userShowSelected/"+n.props.loggedInUser)},n.usersBrowse=function(){window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/usersBrowse")},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("fieldset",{className:"fieldSet"},r.a.createElement("div",{className:"dropdown dropdownProblem"},r.a.createElement("button",{className:"problemMenuButton menuButton"},"Problem"),r.a.createElement("div",{id:"problemMenu",className:"problem-dropdown-content dropdown-content"},r.a.createElement("a",{onClick:function(){return e.problemInsert()}},"Insert"),r.a.createElement("a",{onClick:function(){return e.problemsBrowse()}},"Browse"))),r.a.createElement("div",{className:"dropdown dropdownQuiz"},r.a.createElement("button",{className:"quizMenuButton  menuButton"},"Quiz"),r.a.createElement("div",{id:"quizMenu",className:"quiz-dropdown-content dropdown-content"},r.a.createElement("a",{onClick:function(){return e.quizInsert()}},"Insert"),r.a.createElement("a",{onClick:function(){return e.quizesBrowse()}},"Browse"))),r.a.createElement("div",{className:"dropdown dropdownCourse"},r.a.createElement("button",{className:"courseMenuButton menuButton"},"Course"),r.a.createElement("div",{id:"courseMenu",className:"course-dropdown-content dropdown-content"},r.a.createElement("a",{onClick:function(){return e.courseInsert()}},"Insert"),r.a.createElement("a",{onClick:function(){return e.coursesBrowse()}},"Browse"))),r.a.createElement("div",{className:"dropdown dropdownUser"},r.a.createElement("button",{className:"userMenuButton menuButton"},"User"),r.a.createElement("div",{id:"userMenu",className:"user-dropdown-content dropdown-content"},r.a.createElement("a",{onClick:function(){return e.userInsert()}},"Register"),r.a.createElement("a",{onClick:function(){return e.usersBrowse()}},"Browse"),""!==this.props.loggedInUser?r.a.createElement("a",{onClick:function(){return e.userShowProfile()}},"Profile"):null))))}}]),a}(r.a.Component)),E=(a(19),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.show?"simple-dialog-overlay simple-dialog-display-block":"simple-dialog-overlay simple-dialog-display-none",t=this.props.objectForEdit,a=this.props.quizesArray;return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"simple-dialog",id:"ProblemEditDialog"},r.a.createElement("button",{id:"x",onClick:this.props.handleDismiss},"X"),r.a.createElement("h2",null,"Edit Problem"),r.a.createElement("hr",{class:"rounded"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"flexColLeft"},"Quiz Id:",r.a.createElement("select",{id:"quizId",onChange:this.props.selectChange,name:"quizId",required:"true"},a.map((function(e){return r.a.createElement("option",{value:e.id},e.description)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),"Problem Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"probDescription",name:"probDescription",type:"text",rows:"10",value:t.description,onChange:this.props.descriptionChange,style:{width:"90%"},required:"true"}),r.a.createElement("br",null),r.a.createElement("br",null),"Answer Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"ansDescription",name:"ansDescription",type:"text",rows:"10",value:t.solution,onChange:this.props.solutionChange,style:{width:"90%"},required:"true"})),r.a.createElement("div",{id:"flexColRight"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Option1: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:{width:"50%"},onChange:this.props.option1Change,id:"option1",value:t.option1}),r.a.createElement("br",null),"Option2: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:{width:"50%"},onChange:this.props.option2Change,id:"option2",value:t.option2}),r.a.createElement("br",null),"Option3: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:{width:"50%"},onChange:this.props.option3Change,id:"option3",value:t.option3}),r.a.createElement("br",null),"Option4: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",style:{width:"50%"},onChange:this.props.option4Change,id:"option4",value:t.option4}),r.a.createElement("br",null),"Answer Key: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"answerKey",onChange:this.props.answerkeyChange,style:{width:"50%"},value:t.answerkey}),r.a.createElement("br",null),r.a.createElement("br",null),"Author:",r.a.createElement("br",null),r.a.createElement("input",{id:"authorName",name:"authorName",type:"text",style:{width:"80%"},required:"true",value:t.author_id,readonly:!0})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",id:"x",value:"Save",style:{width:"80%",float:"right"},onClick:this.props.handleSubmit}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{id:"x",style:{width:"80%",textAlign:"center"},onClick:this.props.handleDismiss},"close")))),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(r.a.Component)),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={spinner:!1,problemObjectForEdit:{},showEditProblemDialog:!1},n.handleEditProblemDialogDismiss=n.handleEditProblemDialogDismiss.bind(Object(c.a)(n)),n.selectChange=n.selectChange.bind(Object(c.a)(n)),n.descriptionChange=n.descriptionChange.bind(Object(c.a)(n)),n.solutionChange=n.solutionChange.bind(Object(c.a)(n)),n.option1Change=n.option1Change.bind(Object(c.a)(n)),n.option2Change=n.option2Change.bind(Object(c.a)(n)),n.option3Change=n.option3Change.bind(Object(c.a)(n)),n.option4Change=n.option4Change.bind(Object(c.a)(n)),n.answerkeyChange=n.answerkeyChange.bind(Object(c.a)(n)),n.saveUpdateHandler=n.saveUpdateHandler.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props.loggedInUser),r.a.createElement("div",null,r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Browse Problems"),this.props.problemsArray.map((function(t){return r.a.createElement("div",{id:"par$,".concat(t.id),className:"probParent"},r.a.createElement("hr",null),e.props.loggedInUser===t.author_id||"1"===e.props.admin?r.a.createElement("div",null,r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.deleteProblemHandler(t.id)},id:"delete".concat(t.id),value:"Delete Problem"}),r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.editProblemHandler(t)},id:"e".concat(t.id),value:"Edit Problem"})):null,r.a.createElement("b",null,"Quiz: "),r.a.createElement("div",{id:"quizDescription$,".concat(t.id),className:"Quiz"},t.quiz_description),r.a.createElement("input",{type:"hidden",id:"quizId$,'".concat(t.id),value:t.quiz_id}),r.a.createElement("br",null),r.a.createElement("b",null,"Author")," : ",r.a.createElement("label",{id:"authorId$,".concat(t.id)},t.author_id),r.a.createElement("br",null)," ",r.a.createElement("b",null,"Question: "),r.a.createElement("div",{id:"problemDescription$,".concat(t.id),dangerouslySetInnerHTML:{__html:t.description},className:"Question"}),r.a.createElement("b",null,"Options:"),r.a.createElement("br",null)," 1) ",r.a.createElement("label",{id:"option1$,".concat(t.id)},t.option1),r.a.createElement("br",null)," 2) ",r.a.createElement("label",{id:"option2$,".concat(t.id)},t.option2),r.a.createElement("br",null)," 3) ",r.a.createElement("label",{id:"option3$,".concat(t.id)},t.option3),r.a.createElement("br",null)," 4) ",r.a.createElement("label",{id:"option4$,".concat(t.id)},t.option4),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"showAnswer",onClick:function(){return e.showAnswerHandler("d".concat(t.id))},id:"b".concat(t.id),value:"view solution"}),r.a.createElement("br",null),r.a.createElement("div",{id:"d".concat(t.id),name:"d".concat(t.id),className:"Answer"},r.a.createElement("b",null,"Solution: "),r.a.createElement("label",{id:"solution$,".concat(t.id),dangerouslySetInnerHTML:{__html:t.solution}}),r.a.createElement("br",null),"Ans Key: ",r.a.createElement("label",{id:"answerkey$,".concat(t.id)},t.answerkey)))})),r.a.createElement(E,{objectForEdit:this.state.problemObjectForEdit,show:this.state.showEditProblemDialog,handleDismiss:this.handleEditProblemDialogDismiss,handleSubmit:this.saveUpdateHandler,quizesArray:this.props.quizesArray,selectChange:this.selectChange,descriptionChange:this.descriptionChange,solutionChange:this.solutionChange,option1Change:this.option1Change,option2Change:this.option2Change,option3Change:this.option3Change,option4Change:this.option4Change,answerkeyChange:this.answerkeyChange}))}},{key:"selectChange",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit),a=e.target.value;t.quiz_id=a,this.setState({problemObjectForEdit:t})}},{key:"descriptionChange",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.description=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"solutionChange",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.solution=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"answerkeyChange",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.answerkey=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"option1Change",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.option1=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"option2Change",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.option2=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"option3Change",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.option3=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"option4Change",value:function(e){var t=Object.assign({},this.state.problemObjectForEdit);t.option4=e.target.value,this.setState({problemObjectForEdit:t})}},{key:"componentDidMount",value:function(){this.props.loadProblems(),this.props.loadQuizes()}},{key:"editProblemHandler",value:function(e){this.setState({showEditProblemDialog:!0,problemObjectForEdit:e})}},{key:"deleteProblemHandler",value:function(e){var t=this;if(!0===window.confirm("Are you sure you want to delete")){this.props.showSpinner();var a="id="+encodeURIComponent(e);fetch("/api/deleteProblem",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){if("ok"===a.deletestatus){var n=t.props.problemsArray.filter((function(t){return t.id!==e}));t.props.setProblems(n),t.props.hideSpinner(),alert("problem deleted")}}))}}},{key:"saveUpdateHandler",value:function(){var e=this;this.props.showSpinner();var t="id="+encodeURIComponent(this.state.problemObjectForEdit.id);t+="&description="+encodeURIComponent(this.state.problemObjectForEdit.description),t+="&option1="+encodeURIComponent(this.state.problemObjectForEdit.option1),t+="&option2="+encodeURIComponent(this.state.problemObjectForEdit.option2),t+="&option3="+encodeURIComponent(this.state.problemObjectForEdit.option3),t+="&option4="+encodeURIComponent(this.state.problemObjectForEdit.option4),t+="&answerkey="+encodeURIComponent(this.state.problemObjectForEdit.answerkey),t+="&quizId="+encodeURIComponent(this.state.problemObjectForEdit.quiz_id);var a=this.state.problemObjectForEdit.solution.replace(/%20/g,"+");t+="&solution="+encodeURIComponent(a),t+="&authorId="+encodeURIComponent(this.state.problemObjectForEdit.author_id),fetch("/updateProblem",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){if("ok"===t.updatestatus){var a=JSON.parse(JSON.stringify(e.props.problemsArray));a.forEach((function(t){t.id===e.state.problemObjectForEdit.id&&(t.description=e.state.problemObjectForEdit.description,t.option1=e.state.problemObjectForEdit.option1,t.option2=e.state.problemObjectForEdit.option2,t.option3=e.state.problemObjectForEdit.option3,t.option4=e.state.problemObjectForEdit.option4,t.answerkey=e.state.problemObjectForEdit.answerkey,t.quiz_id=e.state.problemObjectForEdit.quiz_id,t.author_id=e.state.problemObjectForEdit.author_id,t.solution=e.state.problemObjectForEdit.solution)})),e.setState({showEditProblemDialog:!1}),e.props.setProblems(a),e.props.hideSpinner(),alert("problem updated")}}))}},{key:"showAnswerHandler",value:function(e){"block"!==document.getElementById(e).style.display?document.getElementById(e).style.display="block":"block"===document.getElementById(e).style.display&&(document.getElementById(e).style.display="none")}},{key:"handleEditProblemDialogDismiss",value:function(){this.setState({showEditProblemDialog:!1})}}]),a}(r.a.Component),y=a(11),C=a(12),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={quizesArray:[],quiz_id:"",quiz_description:"",description:"",solution:"",option1:"",option2:"",option3:"",option4:"",answerkey:""},n.selectChange=n.selectChange.bind(Object(c.a)(n)),n.descriptionChange=n.descriptionChange.bind(Object(c.a)(n)),n.solutionChange=n.solutionChange.bind(Object(c.a)(n)),n.option1Change=n.option1Change.bind(Object(c.a)(n)),n.option2Change=n.option2Change.bind(Object(c.a)(n)),n.option3Change=n.option3Change.bind(Object(c.a)(n)),n.option4Change=n.option4Change.bind(Object(c.a)(n)),n.answerkeyChange=n.answerkeyChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"selectChange",value:function(e){var t=e.target.value,a=e.target.options[e.target.selectedIndex].text;this.setState({quiz_id:t,quiz_description:a})}},{key:"descriptionChange",value:function(e){this.props.quizesArray.length>0&&this.setState({quiz_id:this.props.quizesArray[0].id,quiz_description:this.props.quizesArray[0].description});var t=e.target.value;this.setState({description:t})}},{key:"solutionChange",value:function(e){var t=e.target.value;this.setState({solution:t})}},{key:"answerkeyChange",value:function(e){var t=e.target.value;this.setState({answerkey:t})}},{key:"option1Change",value:function(e){var t=e.target.value;this.setState({option1:t})}},{key:"option2Change",value:function(e){var t=e.target.value;this.setState({option2:t})}},{key:"option3Change",value:function(e){var t=e.target.value;this.setState({option3:t})}},{key:"option4Change",value:function(e){var t=e.target.value;this.setState({option4:t})}},{key:"handleSubmit",value:function(e){var t=this;this.props.showSpinner();var a="probDescription="+encodeURIComponent(this.state.description);a+="&option1="+encodeURIComponent(this.state.option1),a+="&option2="+encodeURIComponent(this.state.option2),a+="&option3="+encodeURIComponent(this.state.option3),a+="&option4="+encodeURIComponent(this.state.option4),a+="&answerKey="+encodeURIComponent(this.state.answerkey),a+="&quizId="+encodeURIComponent(this.state.quiz_id);var n=this.state.solution.replace(/%20/g,"+");a+="&ansDescription="+encodeURIComponent(n),a+="&authorName="+encodeURIComponent(this.props.loggedInUser),fetch("/api/insertProblemAction",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){var a=Object(y.a)(t.props.problemsArray),n={id:e.problemId,quiz_id:t.state.quiz_id,quiz_description:t.state.quiz_description,description:t.state.description,solution:t.state.solution,option1:t.state.option1,option2:t.state.option2,option3:t.state.option3,option4:t.state.option4,answerKey:t.state.answerkey,author_id:t.props.loggedInUser};a.push(n),t.props.setProblems(a),t.setState({description:"",solution:"",option1:"",option2:"",option3:"",option4:"",answerkey:""}),t.props.hideSpinner(),alert("problem inserted"),window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/problemsBrowse")}))}},{key:"render",value:function(){return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):r.a.createElement("div",{class:"InsertWindow"},r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Insert Problem"),r.a.createElement("fieldset",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"flexColLeft"},"Quiz Id:",r.a.createElement("select",{id:"quizId",onChange:this.selectChange,name:"quizId"},this.props.quizesArray.map((function(e,t){return r.a.createElement("option",{value:e.id},e.description)}))),r.a.createElement("br",null),r.a.createElement("br",null),"Problem Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"probDescription",name:"probDescription",rows:"10",type:"text",style:{width:"90%"},value:this.state.description,onChange:this.descriptionChange}),r.a.createElement("br",null),"Answer Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"ansDescription",name:"ansDescription",rows:"10",type:"text",style:{width:"90%"},value:this.state.solution,onChange:this.solutionChange})),r.a.createElement("div",{id:"flexColRight"},r.a.createElement("br",null),r.a.createElement("br",null),"Option1: ",r.a.createElement("input",{type:"text",style:{width:"100px"},onChange:this.option1Change,id:"option1",value:this.state.option1}),r.a.createElement("br",null),r.a.createElement("br",null),"Option2: ",r.a.createElement("input",{type:"text",style:{width:"100px"},onChange:this.option2Change,id:"option2",value:this.state.option2}),r.a.createElement("br",null),r.a.createElement("br",null),"Option3: ",r.a.createElement("input",{type:"text",style:{width:"100px"},onChange:this.option3Change,id:"option3",value:this.state.option3}),r.a.createElement("br",null),r.a.createElement("br",null),"Option4: ",r.a.createElement("input",{type:"text",style:{width:"100px"},onChange:this.option4Change,id:"option4",value:this.state.option4}),r.a.createElement("br",null),r.a.createElement("br",null),"Answer Key: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"answerKey",onChange:this.answerkeyChange,style:{width:"100px"},value:this.state.answerkey}),r.a.createElement("br",null),r.a.createElement("br",null),"Author:",r.a.createElement("br",null),r.a.createElement("input",{id:"authorName",name:"authorName",type:"text",style:{width:"100px"},value:this.props.loggedInUser,readonly:!0})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Insert Problem",onClick:this.handleSubmit}))),r.a.createElement("div",{style:{display:"block",paddingTop:"30px",width:"100%"}}),r.a.createElement("div",{style:{display:"block",paddingTop:"10px",width:"100%"}})))}},{key:"componentDidMount",value:function(){this.props.loadQuizes()}}]),a}(r.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={spinner:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.loadQuizes()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Browse Quizes"),r.a.createElement("div",{className:"Browse"},r.a.createElement("table",{className:"displayTable",style:{width:"100%"}},r.a.createElement("tr",null,r.a.createElement("th",null,"Quiz"),r.a.createElement("th",null,"Duration(mins)"),r.a.createElement("th",null,"Course"),r.a.createElement("th",null,"Instructor")),this.props.quizesArray.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:"./quizShowSelected/".concat(e.id)},e.description)),r.a.createElement("td",null,e.duration_minutes),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.author_id))})))))}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={spinner:!1,duration_minutes:30,description:"",courseId:"",courseName:""},n.baseState={description:""},n.descriptionChange=n.descriptionChange.bind(Object(c.a)(n)),n.selectChange=n.selectChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.durationChange=n.durationChange.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(){var e=this;if(""!==this.state.description)if(""!==this.state.duration_minutes)if(isNaN(this.state.duration_minutes))alert("Duration has to be a number");else{this.props.showSpinner();var t="quizDescription="+encodeURIComponent(this.state.description);t+="&duration_minutes="+encodeURIComponent(this.state.duration_minutes),t+="&courseId="+encodeURIComponent(this.state.courseId),t+="&authorName="+encodeURIComponent(this.props.loggedInUser),fetch("/api/insertQuizAction",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){var a=Object(y.a)(e.props.quizesArray),n={id:t.quizId,description:e.state.description,duration_minutes:e.state.duration_minutes,name:e.state.courseName,author_id:e.props.loggedInUser};a.push(n),e.props.setQuizes(a),e.setState(e.baseState),e.props.hideSpinner(),alert("Quiz inserted"),window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/quizesBrowse")}))}else alert("Duration cannot be empty");else alert("Description cannot be empty")}},{key:"durationChange",value:function(e){this.setState({duration_minutes:e.target.value})}},{key:"descriptionChange",value:function(e){this.props.coursesArray.length>0&&this.setState({courseId:this.props.coursesArray[0].id,courseName:this.props.coursesArray[0].name});var t=e.target.value;this.setState({description:t})}},{key:"componentDidMount",value:function(){this.props.loadCourses()}},{key:"selectChange",value:function(e){var t=e.target.value,a=e.target.options[e.target.selectedIndex].text;this.setState({courseId:t,courseName:a})}},{key:"render",value:function(){return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):r.a.createElement("div",null,r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Insert Quiz"),r.a.createElement("fieldset",null,"Duration (minutes):",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"durationMinutes",style:{marginLeft:"23px"},onChange:this.durationChange,value:this.state.duration_minutes}),r.a.createElement("br",null),"Quiz Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"quizDescription",name:"quizDescription",type:"text",rows:"10",style:{width:"90%"},onChange:this.descriptionChange,value:this.state.description}),r.a.createElement("br",null),r.a.createElement("br",null),"Course Id:",r.a.createElement("br",null),r.a.createElement("select",{id:"courseId",onChange:this.selectChange,name:"courseId",required:"true"},this.props.coursesArray.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("br",null),"Author:",r.a.createElement("br",null),r.a.createElement("input",{id:"authorName",name:"authorName",type:"text",style:{width:"100px",textAlign:"center"},required:"true",value:this.props.loggedInUser,readonly:!0})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"         ",r.a.createElement("input",{type:"button",value:"Insert Quiz",onClick:this.handleSubmit})))}}]),a}(r.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.loadCourses()}},{key:"render",value:function(){var e=this.props.show?"simple-dialog-overlay simple-dialog-display-block":"simple-dialog-overlay simple-dialog-display-none";return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"simple-dialog"},r.a.createElement("button",{id:"x",onClick:this.props.handleDismiss},"X"),r.a.createElement("h2",null,"Edit Profile"),r.a.createElement("hr",{class:"rounded"}),"Quiz Id:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"userId",style:{marginLeft:"23px"},value:this.props.objectForEdit.id,readonly:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"Duration (minutes):",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"durationMinutes",style:{marginLeft:"23px"},onChange:this.props.durationChange,value:this.props.objectForEdit.duration_minutes}),r.a.createElement("br",null),r.a.createElement("br",null),"Course:",r.a.createElement("br",null),r.a.createElement("select",{id:"courseId",onChange:this.props.selectChange,style:{marginLeft:"23px"},name:"courseId",required:"true"},this.props.coursesArray.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("br",null),"Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"description",style:{marginLeft:"25px",width:"90%"},type:"text",rows:"10",onChange:this.props.descriptionChange,value:this.props.objectForEdit.description}),r.a.createElement("br",null),r.a.createElement("br",null),"Creator:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"creator",style:{marginLeft:"23px"},value:this.props.objectForEdit.instructorId,readonly:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Save Updates",onClick:this.props.handleSubmit}),r.a.createElement("button",{id:"x",style:{width:"100px",textAlign:"center"},onClick:this.props.handleDismiss},"close")))}}]),a}(r.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={quizObj:{},problemsArray:[],showEditQuizDialog:!1,quizObjForEdit:{}},n.editQuizHandler=n.editQuizHandler.bind(Object(c.a)(n)),n.handleEditQuizDialogDismiss=n.handleEditQuizDialogDismiss.bind(Object(c.a)(n)),n.saveUpdateHandler=n.saveUpdateHandler.bind(Object(c.a)(n)),n.descriptionChange=n.descriptionChange.bind(Object(c.a)(n)),n.courseNameChange=n.courseNameChange.bind(Object(c.a)(n)),n.selectChange=n.selectChange.bind(Object(c.a)(n)),n.durationChange=n.durationChange.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleEditQuizDialogDismiss",value:function(e){this.setState({showEditQuizDialog:!1,quizObjForEdit:this.state.quizObj})}},{key:"saveUpdateHandler",value:function(e){var t=this;this.props.showSpinner();var a="id="+encodeURIComponent(this.state.quizObjForEdit.id);a+="&course_id="+encodeURIComponent(this.state.quizObjForEdit.course_id),a+="&description="+encodeURIComponent(this.state.quizObjForEdit.description),a+="&duration_minutes="+encodeURIComponent(this.state.quizObjForEdit.duration_minutes),fetch("/api/updateQuiz",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){if("ok"===e.updatestatus){t.props.loadQuizes();var a=JSON.parse(JSON.stringify(t.props.quizesArray));a.forEach((function(e){e.id===t.state.quizObjForEdit.id&&(e.courseName=t.state.quizObjForEdit.courseName,e.course_id=t.state.quizObjForEdit.course_id,e.description=t.state.quizObjForEdit.description,e.duration_minutes=t.state.quizObjForEdit.duration_minutes)})),t.props.setQuizes(a),t.setState({quizObj:t.state.quizObjForEdit,showEditQuizDialog:!1}),t.props.hideSpinner(),alert("Quiz updated")}else alert("Quiz updation failed!")}))}},{key:"descriptionChange",value:function(e){var t=Object.assign({},this.state.quizObjForEdit);t.description=e.target.value,this.setState({quizObjForEdit:t})}},{key:"courseNameChange",value:function(e){var t=Object.assign({},this.state.quizObjForEdit);t.courseName=e.target.value,this.setState({quizObjForEdit:t})}},{key:"durationChange",value:function(e){var t=Object.assign({},this.state.quizObjForEdit);t.duration_minutes=e.target.value,this.setState({quizObjForEdit:t})}},{key:"componentDidMount",value:function(){var e=this;this.props.showSpinner();var t=this.props.match.params,a="quizId="+encodeURIComponent(t.id);fetch("/api/getTheQuiz",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(n){n.id=t.id,fetch("/api/getProblemListForQuiz",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(t){e.setState({quizObj:n,quizObjForEdit:n,problemsArray:t}),e.props.hideSpinner()}))}))}},{key:"editQuizHandler",value:function(){this.setState({showEditQuizDialog:!0})}},{key:"selectChange",value:function(e){var t=Object.assign({},this.state.quizObjForEdit),a=e.target.value,n=e.target.options[e.target.selectedIndex].text;t.course_id=a,t.courseName=n,this.setState({quizObjForEdit:t})}},{key:"deleteQuizHandler",value:function(e){var t=this;if(!0===window.confirm("Are you sure you want to delete")){this.props.showSpinner();var a="id="+encodeURIComponent(e);fetch("/api/deleteQuiz",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){if("ok"===a.deletestatus){var n=t.props.quizesArray.filter((function(t){return t.id!==e}));t.props.setQuizes(n),t.props.hideSpinner(),alert("Quiz deleted"),window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/quizesBrowse")}}))}}},{key:"render",value:function(){var e=this;return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):r.a.createElement("div",{className:"Panel"},r.a.createElement("a",{className:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{className:"h1"},this.state.quizObj.description),r.a.createElement("b",null,"Course:")," ",this.state.quizObj.courseName,this.props.loggedInUser===this.state.quizObj.instructorId||"1"===this.props.admin?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("b",null,"Duration (minutes):")," ",this.state.quizObj.duration_minutes,r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.editQuizHandler()},id:"e".concat(this.state.quizObj.id),value:"Edit Quiz"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.deleteQuizHandler(e.state.quizObj.id)},id:"d".concat(this.state.quizObj.id),value:"Delete Quiz"})):null,r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"LeftButton",onClick:function(){return e.props.startQuiz(e.state.quizObj)},id:"s".concat(this.state.quizObj.id),value:"Start Quiz"}),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("b",null," Instructor:")," ",this.state.quizObj.instructorId,r.a.createElement("br",null),r.a.createElement("br",null),this.props.isQuizStarted(this.state.quizObj.id)?r.a.createElement("form",null,this.state.problemsArray.map((function(t){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("b",null,"Question: "),r.a.createElement("div",{className:"Question",dangerouslySetInnerHTML:{__html:t.description}}),r.a.createElement("b",null,"Options"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",id:"".concat(t.id,"$option1"),onChange:function(a){return e.props.optionChange(t.id,a.target.value)},checked:null!=e.props.startedQuizAnswers&&"1"===e.props.startedQuizAnswers[t.id],name:"".concat(t.id,"$"),value:"1"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.option1}}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",id:"".concat(t.id,"$option2"),onChange:function(a){return e.props.optionChange(t.id,a.target.value)},checked:null!=e.props.startedQuizAnswers&&"2"===e.props.startedQuizAnswers[t.id],name:"".concat(t.id,"$"),value:"2"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.option2}}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",id:"".concat(t.id,"$option3"),onChange:function(a){return e.props.optionChange(t.id,a.target.value)},checked:null!=e.props.startedQuizAnswers&&"3"===e.props.startedQuizAnswers[t.id],name:"".concat(t.id,"$"),value:"3"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.option3}}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",id:"".concat(t.id,"$option4"),onChange:function(a){return e.props.optionChange(t.id,a.target.value)},checked:null!=e.props.startedQuizAnswers&&"4"===e.props.startedQuizAnswers[t.id],name:"".concat(t.id,"$"),value:"4"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.option4}}),r.a.createElement("br",null))})),r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"LeftButton",onClick:function(t){!0===window.confirm("Are you sure you want to submit the quiz:"+e.state.quizObj.description)&&e.props.submitQuiz()},value:"Submit Quiz"})):null,r.a.createElement(O,{objectForEdit:this.state.quizObjForEdit,show:this.state.showEditQuizDialog,handleDismiss:this.handleEditQuizDialogDismiss,handleSubmit:this.saveUpdateHandler,descriptionChange:this.descriptionChange,courseNameChange:this.courseNameChange,loadCourses:this.props.loadCourses,coursesArray:this.props.coursesArray,selectChange:this.selectChange,durationChange:this.durationChange}))}}]),a}(r.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{className:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{className:"h1"},"Browse Users"),r.a.createElement("div",{className:"Browse"},r.a.createElement("table",{className:"displayTable"},r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"full name"),r.a.createElement("th",null,"address"),r.a.createElement("th",null,"city"),r.a.createElement("th",null,"zip"),r.a.createElement("th",null,"phone"),r.a.createElement("th",null,"mobile"),r.a.createElement("th",null,"email")),this.props.usersArray.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:"./userShowSelected/".concat(e.id)},e.id)),r.a.createElement("td",null,e.first_name+" "+e.last_name),r.a.createElement("td",null,e.address1+" "+e.address2),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.zip),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.mobile),r.a.createElement("td",null,e.email))})))))}}]),a}(r.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={spinner:!1,userId:"",password:"",firstName:"",lastName:"",address1:"",address2:"",city:"",zip:"",phone:"",cell:"",email:""},n.baseState=n.state,n.userIdChange=n.userIdChange.bind(Object(c.a)(n)),n.passwordChange=n.passwordChange.bind(Object(c.a)(n)),n.firstNameChange=n.firstNameChange.bind(Object(c.a)(n)),n.lastNameChange=n.lastNameChange.bind(Object(c.a)(n)),n.address1Change=n.address1Change.bind(Object(c.a)(n)),n.address2Change=n.address2Change.bind(Object(c.a)(n)),n.cityChange=n.cityChange.bind(Object(c.a)(n)),n.zipChange=n.zipChange.bind(Object(c.a)(n)),n.phoneChange=n.phoneChange.bind(Object(c.a)(n)),n.cellChange=n.cellChange.bind(Object(c.a)(n)),n.emailChange=n.emailChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){var t=this;if(""!==this.state.userId&&""!==this.state.password){this.props.showSpinner();var a="userId="+encodeURIComponent(this.state.userId);a+="&password="+encodeURIComponent(this.state.password),a+="&firstName="+encodeURIComponent(this.state.firstName),a+="&lastName="+encodeURIComponent(this.state.lastName),a+="&address1="+encodeURIComponent(this.state.address1),a+="&address2="+encodeURIComponent(this.state.address2),a+="&city="+encodeURIComponent(this.state.city),a+="&zip="+encodeURIComponent(this.state.zip),a+="&phone="+encodeURIComponent(this.state.phone),a+="&cell="+encodeURIComponent(this.state.cell),a+="&email="+encodeURIComponent(this.state.email),fetch("/api/insertUserAction",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){var a=Object(y.a)(t.props.usersArray),n={id:t.state.userId,password:t.state.password,first_name:t.state.firstName,last_name:t.state.lastName,address1:t.state.address1,address2:t.state.address2,city:t.state.city,zip:t.state.zip,phone:t.state.phone,mobile:t.state.cell,email:t.state.email};a.push(n),t.props.setUsers(a),t.setState(t.baseState),t.props.hideSpinner(),alert("User inserted"),window.location.assign("http://"+window.location.hostname+":"+window.location.port)}))}else alert("UserId/Password cannot be empty")}},{key:"emailChange",value:function(e){this.setState({email:e.target.value})}},{key:"cellChange",value:function(e){this.setState({cell:e.target.value})}},{key:"phoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"zipChange",value:function(e){this.setState({zip:e.target.value})}},{key:"cityChange",value:function(e){this.setState({city:e.target.value})}},{key:"address2Change",value:function(e){this.setState({address2:e.target.value})}},{key:"address1Change",value:function(e){this.setState({address1:e.target.value})}},{key:"lastNameChange",value:function(e){this.setState({lastName:e.target.value})}},{key:"firstNameChange",value:function(e){this.setState({firstName:e.target.value})}},{key:"passwordChange",value:function(e){this.setState({password:e.target.value})}},{key:"userIdChange",value:function(e){this.setState({userId:e.target.value})}},{key:"render",value:function(){return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):r.a.createElement("div",{id:"UserInsert"},r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Register User"),r.a.createElement("fieldset",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"flexColLeft"},r.a.createElement("br",null),"User Id:",r.a.createElement("input",{id:"userId",name:"userId",style:{marginLeft:"0.5cm"},type:"text",value:this.state.userId,onChange:this.userIdChange})," ",r.a.createElement("br",null),r.a.createElement("br",null),"Password:",r.a.createElement("input",{id:"password",name:"password",type:"password",value:this.state.password,onChange:this.passwordChange}),r.a.createElement("br",null),r.a.createElement("br",null),"First Name:",r.a.createElement("input",{id:"firstName",name:"firstName",type:"text",rows:"10",size:"18",value:this.state.firstName,onChange:this.firstNameChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Last Name:",r.a.createElement("input",{id:"lastName",name:"lastName",type:"text",rows:"10",size:"19",value:this.state.lastName,onChange:this.lastNameChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Phone:",r.a.createElement("input",{id:"phone",name:"phone",style:{marginLeft:"0.5cm"},type:"text",value:this.state.phone,onChange:this.phoneChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Cell num:",r.a.createElement("input",{id:"cell",name:"cell",type:"text",value:this.state.cell,onChange:this.cellChange}))," ",r.a.createElement("div",{id:"flexColRight"},r.a.createElement("br",null),"Address1:",r.a.createElement("input",{id:"address1",name:"address1",type:"text",value:this.state.address1,onChange:this.address1Change}),r.a.createElement("br",null),r.a.createElement("br",null),"Address2:",r.a.createElement("input",{id:"address2",name:"address2",type:"text",value:this.state.address2,onChange:this.address2Change}),r.a.createElement("br",null),r.a.createElement("br",null),"City:",r.a.createElement("input",{style:{marginLeft:"1cm"},id:"city",name:"city",type:"text",value:this.state.city,onChange:this.cityChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Zip:",r.a.createElement("input",{style:{marginLeft:"1.2cm"},id:"zip",name:"zip",type:"text",value:this.state.zip,onChange:this.zipChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Email:",r.a.createElement("input",{style:{marginLeft:"1cm"},id:"email",name:"email",type:"text",value:this.state.email,onChange:this.emailChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",style:{width:"20%"},value:"submit",onClick:this.handleSubmit}))," ")))}}]),a}(r.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.show?"simple-dialog-overlay simple-dialog-display-block":"simple-dialog-overlay simple-dialog-display-none";return r.a.createElement("div",{id:"UserInsert",className:e},r.a.createElement("div",{className:"simple-dialog"},r.a.createElement("button",{id:"x",onClick:this.props.handleDismiss},"X"),r.a.createElement("h2",null,"Edit Profile"),r.a.createElement("hr",{class:"rounded"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"flexColLeft"},r.a.createElement("br",null),"User Id:",r.a.createElement("input",{type:"text",id:"userId",style:{marginLeft:"23px"},value:this.props.objectForEdit.id,readonly:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"First Name:",r.a.createElement("input",{type:"text",id:"firstName",onChange:this.props.firstNameChange,value:this.props.objectForEdit.firstName}),r.a.createElement("br",null),r.a.createElement("br",null),"Last Name:",r.a.createElement("input",{type:"text",id:"lastName",onChange:this.props.lastNameChange,value:this.props.objectForEdit.lastName}),r.a.createElement("br",null),r.a.createElement("br",null),"Address1:",r.a.createElement("input",{type:"text",id:"address1",style:{marginLeft:"14px"},onChange:this.props.address1Change,value:this.props.objectForEdit.address1}),r.a.createElement("br",null),r.a.createElement("br",null),"Address2:",r.a.createElement("input",{type:"text",id:"address2",style:{marginLeft:"10px"},onChange:this.props.address2Change,value:this.props.objectForEdit.address2})),r.a.createElement("div",{id:"flexColLeft"},r.a.createElement("br",null),"Email:",r.a.createElement("input",{type:"text",id:"email",style:{marginLeft:"25px"},onChange:this.props.emailChange,value:this.props.objectForEdit.email}),r.a.createElement("br",null),r.a.createElement("br",null),"City:",r.a.createElement("input",{type:"text",id:"city",style:{marginLeft:"40px"},onChange:this.props.cityChange,value:this.props.objectForEdit.city}),r.a.createElement("br",null),r.a.createElement("br",null),"Phone:",r.a.createElement("input",{type:"text",id:"phone",style:{marginLeft:"20px"},onChange:this.props.phoneChange,value:this.props.objectForEdit.phone}),r.a.createElement("br",null),r.a.createElement("br",null),"Zip:",r.a.createElement("input",{type:"text",id:"zip",style:{marginLeft:"35px"},onChange:this.props.zipChange,value:this.props.objectForEdit.zip}),r.a.createElement("br",null),r.a.createElement("br",null),"Mobile:",r.a.createElement("input",{type:"text",id:"mobile",style:{marginLeft:"25px"},onChange:this.props.mobileChange,value:this.props.objectForEdit.mobile}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Save Updates",onClick:this.props.handleSubmit}),r.a.createElement("button",{id:"x",style:{width:"100px",textAlign:"center"},onClick:this.props.handleDismiss},"close")))}}]),a}(r.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={showEditUserDialog:!1,userObj:{},coursesArray:[],userObjForEdit:{}},n.handleEditUserDialogDismiss=n.handleEditUserDialogDismiss.bind(Object(c.a)(n)),n.editUserHandler=n.editUserHandler.bind(Object(c.a)(n)),n.saveUpdateHandler=n.saveUpdateHandler.bind(Object(c.a)(n)),n.firstNameChange=n.firstNameChange.bind(Object(c.a)(n)),n.lastNameChange=n.lastNameChange.bind(Object(c.a)(n)),n.address1Change=n.address1Change.bind(Object(c.a)(n)),n.address2Change=n.address2Change.bind(Object(c.a)(n)),n.cityChange=n.cityChange.bind(Object(c.a)(n)),n.zipChange=n.zipChange.bind(Object(c.a)(n)),n.phoneChange=n.phoneChange.bind(Object(c.a)(n)),n.mobileChange=n.mobileChange.bind(Object(c.a)(n)),n.emailChange=n.emailChange.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({spinner:!0});var t=this.props.match.params,a="userId="+encodeURIComponent(t.id);console.log(t.id),fetch("/api/getTheUser",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(n){n.id=t.id,fetch("/api/getCourseListForUser",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(t){e.setState({spinner:!1,userObj:n,userObjForEdit:n,coursesArray:t})}))}))}},{key:"firstNameChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.firstName=e.target.value,this.setState({userObjForEdit:t})}},{key:"lastNameChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.lastName=e.target.value,this.setState({userObjForEdit:t})}},{key:"address1Change",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.address1=e.target.value,this.setState({userObjForEdit:t})}},{key:"address2Change",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.address2=e.target.value,this.setState({userObjForEdit:t})}},{key:"cityChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.city=e.target.value,this.setState({userObjForEdit:t})}},{key:"zipChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.zip=e.target.value,this.setState({userObjForEdit:t})}},{key:"phoneChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.phone=e.target.value,this.setState({userObjForEdit:t})}},{key:"mobileChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.mobile=e.target.value,this.setState({userObjForEdit:t})}},{key:"emailChange",value:function(e){var t=Object.assign({},this.state.userObjForEdit);t.email=e.target.value,this.setState({userObjForEdit:t})}},{key:"handleEditUserDialogDismiss",value:function(){this.setState({userObjForEdit:this.state.userObj,showEditUserDialog:!1})}},{key:"editUserHandler",value:function(){this.setState({showEditUserDialog:!0})}},{key:"saveUpdateHandler",value:function(){var e=this;this.props.showSpinner();var t="id="+encodeURIComponent(this.state.userObjForEdit.id);t+="&firstName="+encodeURIComponent(this.state.userObjForEdit.firstName),t+="&lastName="+encodeURIComponent(this.state.userObjForEdit.lastName),t+="&address1="+encodeURIComponent(this.state.userObjForEdit.address1),t+="&address2="+encodeURIComponent(this.state.userObjForEdit.address2),t+="&city="+encodeURIComponent(this.state.userObjForEdit.city),t+="&zip="+encodeURIComponent(this.state.userObjForEdit.zip),t+="&phone="+encodeURIComponent(this.state.userObjForEdit.phone),t+="&mobile="+encodeURIComponent(this.state.userObjForEdit.mobile),t+="&email="+encodeURIComponent(this.state.userObjForEdit.email),fetch("/api/updateUser",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){if("ok"===t.updatestatus){e.props.loadUsers();var a=JSON.parse(JSON.stringify(e.props.usersArray));a.forEach((function(t){t.id===e.state.userObjForEdit.id&&(t.firstName=e.state.userObjForEdit.firstName,t.lastName=e.state.userObjForEdit.lastName,t.address1=e.state.userObjForEdit.address1,t.address2=e.state.userObjForEdit.address2,t.city=e.state.userObjForEdit.city,t.zip=e.state.userObjForEdit.zip,t.mobile=e.state.userObjForEdit.mobile,t.phone=e.state.userObjForEdit.phone,t.email=e.state.userObjForEdit.email)})),e.props.setUsers(a),e.setState({userObj:e.state.userObjForEdit,showEditUserDialog:!1}),e.props.hideSpinner(),alert("User updated")}}))}},{key:"render",value:function(){var e=this;return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):(console.log(this.props.admin),r.a.createElement("div",{className:"Panel"},r.a.createElement("a",{className:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},this.state.userObj.firstName," ",this.state.userObj.lastName),this.props.loggedInUser===this.state.userObj.id||"1"===this.props.admin?r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.editUserHandler()},id:"e".concat(this.state.userObj.id),value:"Edit User"}):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Address:")," ",this.state.userObj.address1," ",this.state.userObj.address2,"  ",r.a.createElement("br",null),r.a.createElement("p",null,"  ",r.a.createElement("b",null,"City:")," ",this.state.userObj.city),r.a.createElement("p",null,"  ",r.a.createElement("b",null,"Zip:")," ",this.state.userObj.zip),r.a.createElement("b",null,"Phone:")," ",this.state.userObj.phone,"  ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Mobile:")," ",this.state.userObj.mobile," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Email:")," ",this.state.userObj.email,r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("b",null,"List of Courses:"),r.a.createElement("br",null),r.a.createElement("br",null),this.state.coursesArray.map((function(e){return r.a.createElement("div",null,r.a.createElement("a",{href:"http://".concat(window.location.hostname,":").concat(window.location.port,"/courseShowSelected/").concat(e.id)},e.name),r.a.createElement("br",null))})))),r.a.createElement(k,{objectForEdit:this.state.userObjForEdit,show:this.state.showEditUserDialog,handleDismiss:this.handleEditUserDialogDismiss,handleSubmit:this.saveUpdateHandler,firstNameChange:this.firstNameChange,lastNameChange:this.lastNameChange,address1Change:this.address1Change,address2Change:this.address2Change,cityChange:this.cityChange,zipChange:this.zipChange,phoneChange:this.phoneChange,mobileChange:this.mobileChange,emailChange:this.emailChange})))}}]),a}(r.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={spinner:!1,objArray:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.loadCourses()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Browse Courses"),r.a.createElement("table",{className:"displayTable",style:{width:"100%"}},r.a.createElement("tr",null,r.a.createElement("th",null,"Course name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Owner")),this.props.coursesArray.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:"./courseShowSelected/".concat(e.id)},e.name)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.author_id))}))))}}]),a}(r.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={description:"",name:""},n.baseState=n.state,n.descriptionChange=n.descriptionChange.bind(Object(c.a)(n)),n.nameChange=n.nameChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(){var e=this;if(""!==this.state.name&&""!==this.state.description){this.props.showSpinner();var t="courseName="+encodeURIComponent(this.state.name);t+="&courseDescription="+encodeURIComponent(this.state.description),t+="&ownerId="+encodeURIComponent(this.props.loggedInUser),fetch("/api/insertCourseAction",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){var a=Object(y.a)(e.props.coursesArray),n={id:t.courseId,name:e.state.name,description:e.state.description,author_id:e.props.loggedInUser};a.push(n),e.props.setCourses(a),e.setState(e.baseState),e.props.hideSpinner(),alert("Course inserted"),window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/coursesBrowse")}))}else alert("Name/Description cannot be empty")}},{key:"descriptionChange",value:function(e){var t=e.target.value;this.setState({description:t})}},{key:"nameChange",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"render",value:function(){return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):r.a.createElement("div",null,r.a.createElement("a",{class:"HomeLink",href:"/"},"back to home"),r.a.createElement("div",{class:"h1"},"Insert Course"),r.a.createElement("fieldset",null,"Course Name:",r.a.createElement("br",null),r.a.createElement("input",{id:"courseName",name:"courseName",type:"text",onChange:this.nameChange,value:this.state.name}),r.a.createElement("br",null),r.a.createElement("br",null),"Course Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"courseDescription",name:"courseDescription",type:"text",value:this.state.description,onChange:this.descriptionChange,rows:"10",style:{width:"90%"}}),r.a.createElement("br",null),r.a.createElement("br",null),"Owner:",r.a.createElement("br",null),r.a.createElement("input",{id:"ownerId",name:"ownerId",type:"text",required:"true",style:{width:"100px",textAlign:"center"},value:this.props.loggedInUser,readonly:!0})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Insert Course",onClick:this.handleSubmit})))}}]),a}(r.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){console.log(this.props.objectForEdit);var e=this.props.show?"simple-dialog-overlay simple-dialog-display-block":"simple-dialog-overlay simple-dialog-display-none";return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"simple-dialog"},r.a.createElement("button",{id:"x",onClick:this.props.handleDismiss},"X"),r.a.createElement("h2",null,"Edit Course"),r.a.createElement("hr",{class:"rounded"}),"Course Id:",r.a.createElement("input",{type:"text",id:"courseId",value:this.props.objectForEdit.courseId,readonly:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"Name:",r.a.createElement("input",{type:"text",id:"courseName",style:{marginLeft:"20px"},onChange:this.props.nameChange,value:this.props.courseNameEdited}),r.a.createElement("br",null),r.a.createElement("br",null),"Description:",r.a.createElement("br",null),r.a.createElement("textarea",{id:"courseDescription",name:"courseDescription",type:"text",rows:"10",style:{width:"90%"},onChange:this.props.descriptionChange,value:this.props.courseDescriptionEdited}),r.a.createElement("br",null),r.a.createElement("br",null),"Creator:",r.a.createElement("input",{type:"text",id:"Creator",value:this.props.objectForEdit.ownerId,readonly:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Save Updates",onClick:this.props.handleSubmit}),r.a.createElement("button",{id:"x",style:{width:"100px",textAlign:"center"},onClick:this.props.handleDismiss},"close")))}}]),a}(r.a.Component),Q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={courseObj:{},courseNameEdited:"",courseDescriptionEdited:"",quizesArray:[],showEditCourseDialog:!1},n.handleEditCourseDialogDismiss=n.handleEditCourseDialogDismiss.bind(Object(c.a)(n)),n.editCourseHandler=n.editCourseHandler.bind(Object(c.a)(n)),n.descriptionChange=n.descriptionChange.bind(Object(c.a)(n)),n.nameChange=n.nameChange.bind(Object(c.a)(n)),n.saveUpdateHandler=n.saveUpdateHandler.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;this.props.showSpinner();var a="courseId="+encodeURIComponent(t.id);fetch("/api/getTheCourse",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(n){fetch("/api/getQuizListForCourse",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){n.courseId=t.id,e.setState({courseObj:n,courseNameEdited:n.name,courseDescriptionEdited:n.description,quizesArray:a}),e.props.hideSpinner()}))}))}},{key:"editCourseHandler",value:function(e){this.setState({showEditCourseDialog:!0})}},{key:"deleteCourseHandler",value:function(e){var t=this;if(!0===window.confirm("Are you sure you want to delete")){this.props.showSpinner();var a="id="+encodeURIComponent(e);fetch("/api/deleteCourse",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){if("ok"===a.deletestatus){var n=t.props.coursesArray.filter((function(t){return t.id!==e}));t.props.setCourses(n),t.props.hideSpinner(),alert("Course deleted"),window.location.assign("http://"+window.location.hostname+":"+window.location.port+"/coursesBrowse")}}))}}},{key:"descriptionChange",value:function(e){this.setState({courseDescriptionEdited:e.target.value})}},{key:"nameChange",value:function(e){this.setState({courseNameEdited:e.target.value})}},{key:"handleEditCourseDialogDismiss",value:function(e){this.setState({showEditCourseDialog:!1,courseNameEdited:this.state.courseObj.name,courseDescriptionEdited:this.state.courseObj.description})}},{key:"saveUpdateHandler",value:function(e){var t=this;this.props.showSpinner();var a=Object.assign({},this.state.courseObj);a.name=this.state.courseNameEdited,a.description=this.state.courseDescriptionEdited;var n="courseId="+encodeURIComponent(a.courseId);n+="&name="+encodeURIComponent(a.name),n+="&description="+encodeURIComponent(a.description),fetch("/api/updateCourse",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){if("ok"===e.updatestatus){t.props.loadCourses();var n=JSON.parse(JSON.stringify(t.props.coursesArray));n.forEach((function(e){e.courseId===a.courseId&&(e.description=a.description,e.name=a.name)})),t.props.setCourses(n),t.setState({courseObj:a,showEditCourseDialog:!1}),t.props.hideSpinner(),alert("Course updated")}}))}},{key:"render",value:function(){var e=this;return""===this.props.loggedInUser?r.a.createElement(C.a,{to:"/errorLogin"}):(console.log(this.state.courseObj),r.a.createElement("div",{className:"Panel"},r.a.createElement("a",{className:"HomeLink",href:"/"},"back to home"),r.a.createElement("br",null),r.a.createElement("div",{className:"h1"},"Course: ",this.state.courseObj.name),r.a.createElement("p",{style:{textAlign:"left"}}," ",r.a.createElement("b",null,"Description"),": ",this.state.courseObj.description," ",r.a.createElement("br",null)),this.props.loggedInUser===this.state.courseObj.ownerId||"1"===this.props.admin?r.a.createElement("div",null,r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.editCourseHandler()},id:"e".concat(this.state.courseObj.id),value:"Edit Course"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"EditButton",onClick:function(){return e.deleteCourseHandler(e.state.courseObj.courseId)},id:"d".concat(this.state.courseObj.id),value:"Delete Course"})):null,r.a.createElement("br",null),r.a.createElement("b",null," Creator"),": ",this.state.courseObj.ownerId,r.a.createElement("div",{class:"row"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("b",null,"List of Quizes:"),r.a.createElement("br",null),r.a.createElement("br",null),this.state.quizesArray.map((function(e){return r.a.createElement("div",null,r.a.createElement("a",{href:"http://".concat(window.location.hostname,":").concat(window.location.port,"/quizShowSelected/").concat(e.id)},e.description),r.a.createElement("br",null))})))),r.a.createElement(A,{objectForEdit:this.state.courseObj,courseNameEdited:this.state.courseNameEdited,courseDescriptionEdited:this.state.courseDescriptionEdited,show:this.state.showEditCourseDialog,descriptionChange:this.descriptionChange,nameChange:this.nameChange,handleDismiss:this.handleEditCourseDialogDismiss,handleSubmit:this.saveUpdateHandler})))}}]),a}(r.a.Component),D=a(9),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={spinner:!1,userId:null,password:null,loggedInUser:localStorage.getItem("loggedInUser")||"",admin:localStorage.getItem("admin")||"0",errorMessage:null,coursesArray:[],problemsArray:[],quizesArray:[],usersArray:[],startedQuiz:localStorage.getItem("startedQuiz")?JSON.parse(localStorage.getItem("startedQuiz")):null,startedQuizAnswers:localStorage.getItem("startedQuizAnswers")?JSON.parse(localStorage.getItem("startedQuizAnswers")):null},n.userIdChange=n.userIdChange.bind(Object(c.a)(n)),n.passwordChange=n.passwordChange.bind(Object(c.a)(n)),n.handleLoginSubmit=n.handleLoginSubmit.bind(Object(c.a)(n)),n.logoutUser=n.logoutUser.bind(Object(c.a)(n)),n.setErrorMessage=n.setErrorMessage.bind(Object(c.a)(n)),n.setCourses=n.setCourses.bind(Object(c.a)(n)),n.setProblems=n.setProblems.bind(Object(c.a)(n)),n.setQuizes=n.setQuizes.bind(Object(c.a)(n)),n.setUsers=n.setUsers.bind(Object(c.a)(n)),n.loadCourses=n.loadCourses.bind(Object(c.a)(n)),n.loadProblems=n.loadProblems.bind(Object(c.a)(n)),n.loadQuizes=n.loadQuizes.bind(Object(c.a)(n)),n.loadUsers=n.loadUsers.bind(Object(c.a)(n)),n.showSpinner=n.showSpinner.bind(Object(c.a)(n)),n.hideSpinner=n.hideSpinner.bind(Object(c.a)(n)),n.startQuiz=n.startQuiz.bind(Object(c.a)(n)),n.isQuizStarted=n.isQuizStarted.bind(Object(c.a)(n)),n.startedQuizOptionChange=n.startedQuizOptionChange.bind(Object(c.a)(n)),n.startedQuizSubmit=n.startedQuizSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.reviseQuizMinsRemaining()}),6e4)}},{key:"loadCourses",value:function(){var e=this;this.setState({spinner:!0}),fetch("/api/getCourses",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({coursesArray:t,spinner:!1})}))}},{key:"setCourses",value:function(e){this.setState({coursesArray:e})}},{key:"startedQuizOptionChange",value:function(e,t){var a=Object.assign({},this.state.startedQuizAnswers);a[e]=t,this.setState({startedQuizAnswers:a}),localStorage.setItem("startedQuizAnswers",JSON.stringify(a))}},{key:"startQuiz",value:function(e){var t=this;if(null===this.state.startedQuiz){if(!0===window.confirm("Are you sure you want to start the quiz:\r\n"+e.description)){var a=new Date,n=a.getMonth()+1;n=n<10?"0"+n:""+n;var r=a.getDate();r=r<10?"0"+r:""+r;var s=a.getHours();s=s<10?"0"+s:""+s;var i=a.getMinutes();i=i<10?"0"+i:""+i;var o=a.getSeconds();o=o<10?"0"+o:""+o,e.start_time=a.getFullYear()+"-"+n+"-"+r+"T"+s+":"+i+":"+o,e.mins_remaining=e.duration_minutes;var l="quizId="+encodeURIComponent(e.id);l+="&startTime="+encodeURIComponent(e.start_time),l+="&userId="+encodeURIComponent(this.state.loggedInUser),fetch("api/quizStart",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:l}).then((function(e){return e.json()})).then((function(a){console.log(a),"ok"===a.insertstatus?(e.quizInstanceId=a.quizInstanceId,t.setState({startedQuiz:e}),localStorage.setItem("startedQuiz",JSON.stringify(e))):alert("An error occurred in connecting to the server to start the quiz")}))}}else alert("There is already a started quiz:\r\n"+this.state.startedQuiz.description+"\r\n Please submit this quiz to start a new quiz");console.log(this.state.startedQuiz)}},{key:"startedQuizSubmit",value:function(){var e=this;console.log(this.state.startedQuizAnswers),console.log(this.state.startedQuiz);var t="quizId="+encodeURIComponent(this.state.startedQuiz.id);t+="&quizInstanceId="+encodeURIComponent(this.state.startedQuiz.quizInstanceId),t+="&answersObject="+encodeURIComponent(JSON.stringify(this.state.startedQuizAnswers)),fetch("/api/quizAnwersSubmit",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){"ok"===t.insertstatus&&(localStorage.removeItem("startedQuiz"),localStorage.removeItem("startedQuizAnswers"),e.setState({startedQuiz:null,startedQuizAnswers:null}),alert("Quiz Submitted"))}))}},{key:"reviseQuizMinsRemaining",value:function(){if(null!==this.state.startedQuiz){var e=Date.parse(this.state.startedQuiz.start_time),t=new Date;t.setTime(e);var a=Date.now(),n=e+60*parseInt(this.state.startedQuiz.duration_minutes)*1e3-a,r=Math.round(n/6e4);if(r>0){console.log(t),console.log(r);var s=Object.assign({},this.state.startedQuiz);s.mins_remaining=r,this.setState({startedQuiz:s}),localStorage.setItem("startedQuiz",JSON.stringify(s))}else this.startedQuizSubmit()}}},{key:"isQuizStarted",value:function(e){return null!==this.state.startedQuiz&&this.state.startedQuiz.id===e}},{key:"loadProblems",value:function(){var e=this;this.setState({spinner:!0}),fetch("/api/getProblems",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({problemsArray:t,spinner:!1})}))}},{key:"setProblems",value:function(e){this.setState({problemsArray:e})}},{key:"loadQuizes",value:function(){var e=this;this.setState({spinner:!0}),fetch("/api/getQuizes",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({quizesArray:t,spinner:!1})}))}},{key:"setQuizes",value:function(e){this.setState({quizesArray:e})}},{key:"loadUsers",value:function(){var e=this;this.setState({spinner:!0}),fetch("/api/getUsers",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({usersArray:t,spinner:!1})}))}},{key:"setUsers",value:function(e){this.setState({usersArray:e})}},{key:"showSpinner",value:function(){this.setState({spinner:!0})}},{key:"hideSpinner",value:function(){this.setState({spinner:!1})}},{key:"handleLoginSubmit",value:function(e){var t=this;if(null===this.state.userId||null===this.state.password||0===this.state.password.length||0===this.state.userId.length)return e.preventDefault(),void this.setState({errorMessage:"UserId/password cannot be empty"});var a="userId="+encodeURIComponent(this.state.userId);a+="&password="+encodeURIComponent(this.state.password),fetch("/api/login",{headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){console.log(e),"ok"===e.login?(localStorage.setItem("loggedInUser",t.state.userId),localStorage.setItem("admin",e.admin),t.setState({errorMessage:null,loggedInUser:t.state.userId,admin:e.admin})):t.setState({errorMessage:"Login Failed: UserId/password Mismatch"})})),e.preventDefault()}},{key:"userIdChange",value:function(e){var t=e.target.value;this.setState({userId:t})}},{key:"passwordChange",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"logoutUser",value:function(e){!0===window.confirm("Are you sure you want to logout")?(null!==this.state.startedQuiz&&this.startedQuizSubmit(),localStorage.setItem("loggedInUser",""),localStorage.setItem("admin","0"),localStorage.removeItem("startedQuiz"),localStorage.removeItem("startedQuizAnswers"),this.setState({errorMessage:null,loggedInUser:"",admin:"0",startedQuiz:null,startedQuizAnswers:null})):e.preventDefault()}},{key:"setErrorMessage",value:function(e){this.setState({errorMessage:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(D.a,null,r.a.createElement("div",null,r.a.createElement(C.b,{path:"/",render:function(t){return r.a.createElement(p,Object.assign({},t,{userId:e.state.userId,password:e.state.password,errorMessage:e.state.errorMessage,passwordChange:e.passwordChange,userIdChange:e.userIdChange,handleSubmit:e.handleLoginSubmit,logoutUser:e.logoutUser,loggedInUser:e.state.loggedInUser,startedQuiz:e.state.startedQuiz}))}}),r.a.createElement(C.b,{path:"/",render:function(t){return r.a.createElement(g,Object.assign({},t,{loggedInUser:e.state.loggedInUser,setErrorMessage:e.setErrorMessage}))}}),!0===this.state.spinner?r.a.createElement("div",{id:"spinner",className:"loadingContainer"},r.a.createElement("div",{className:"loading"})):null,r.a.createElement(C.b,{exact:!0,path:"/",component:b}),r.a.createElement(C.b,{path:"/problemsBrowse",render:function(t){return r.a.createElement(v,Object.assign({},t,{problemsArray:e.state.problemsArray,quizesArray:e.state.quizesArray,loadProblems:e.loadProblems,setProblems:e.setProblems,loadQuizes:e.loadQuizes,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser,admin:e.state.admin}))}}),r.a.createElement(C.b,{path:"/problemInsert",render:function(t){return r.a.createElement(f,Object.assign({},t,{problemsArray:e.state.problemsArray,quizesArray:e.state.quizesArray,loadQuizes:e.loadQuizes,setProblems:e.setProblems,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(C.b,{path:"/quizesBrowse",render:function(t){return r.a.createElement(w,{quizesArray:e.state.quizesArray,loadQuizes:e.loadQuizes})}}),r.a.createElement(C.b,{path:"/quizInsert",render:function(t){return r.a.createElement(j,Object.assign({},t,{quizesArray:e.state.quizesArray,coursesArray:e.state.coursesArray,loadCourses:e.loadCourses,setQuizes:e.setQuizes,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(C.b,{path:"/quizShowSelected/:id",render:function(t){return r.a.createElement(z,Object.assign({},t,{loadQuizes:e.loadQuizes,quizesArray:e.state.quizesArray,setQuizes:e.setQuizes,loadCourses:e.loadCourses,coursesArray:e.state.coursesArray,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser,startQuiz:e.startQuiz,admin:e.state.admin,setErrorMessage:e.setErrorMessage,isQuizStarted:e.isQuizStarted,optionChange:e.startedQuizOptionChange,submitQuiz:e.startedQuizSubmit,startedQuizAnswers:e.state.startedQuizAnswers}))}}),r.a.createElement(C.b,{path:"/usersBrowse",render:function(t){return r.a.createElement(S,Object.assign({},t,{usersArray:e.state.usersArray,loadUsers:e.loadUsers}))}}),r.a.createElement(C.b,{path:"/userInsert",render:function(t){return r.a.createElement(I,Object.assign({},t,{usersArray:e.state.usersArray,setUsers:e.setUsers,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner}))}}),r.a.createElement(C.b,{path:"/UserShowSelected/:id",render:function(t){return r.a.createElement(U,Object.assign({},t,{loadUsers:e.loadUsers,usersArray:e.state.usersArray,setUsers:e.setUsers,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser,admin:e.state.admin,setErrorMessage:e.setErrorMessage}))}}),r.a.createElement(C.b,{path:"/coursesBrowse",render:function(t){return r.a.createElement(N,{coursesArray:e.state.coursesArray,loadCourses:e.loadCourses})}}),r.a.createElement(C.b,{path:"/courseInsert",render:function(t){return r.a.createElement(x,Object.assign({},t,{coursesArray:e.state.coursesArray,setCourses:e.setCourses,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(C.b,{path:"/CourseShowSelected/:id",render:function(t){return r.a.createElement(Q,Object.assign({},t,{loadCourses:e.loadCourses,coursesArray:e.state.coursesArray,setCourses:e.setCourses,showSpinner:e.showSpinner,hideSpinner:e.hideSpinner,loggedInUser:e.state.loggedInUser,admin:e.state.admin,setErrorMessage:e.setErrorMessage}))}}),""===this.state.loggedInUser&&r.a.createElement(C.b,{path:"/errorLogin",render:function(e){return r.a.createElement("div",{style:{color:"red",fontSize:"1.5em",paddingTop:"1%",textAlign:"center"}},"Error: User not Logged In!")}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.83748d23.chunk.js.map