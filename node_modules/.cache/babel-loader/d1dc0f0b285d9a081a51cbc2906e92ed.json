{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/components/MeetingInsert.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport data from './data';\nimport { Redirect } from 'react-router-dom';\n\nclass MeetingInsert extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.descriptionChange = e => {\n      this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.handleMeetingInsert = e => {\n      if (this.state.description === '') {\n        alert('Description cannot be empty');\n        return;\n      } else {\n        this.props.showSpinner();\n        var reqBody = \"meetingDescription=\" + encodeURIComponent(this.state.description);\n        reqBody += '&organiserId=' + encodeURIComponent(this.props.loggedInUser);\n        fetch(`/api/insertMeetingAction`, {\n          headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded'\n          },\n          method: 'POST',\n          body: reqBody\n        }).then(res => res.json()).then(data => {\n          //if(data.updatestatus==\"ok\")\n          let meetingsArrayCopy = [...this.props.meetingsArray];\n          let obj = {\n            id: data.meetingId,\n            description: this.state.description,\n            organiser_id: this.props.loggedInUser\n          };\n          meetingsArrayCopy.push(obj);\n          this.props.setMeetings(meetingsArrayCopy); //console.log(data);\n\n          this.setState(this.baseState);\n          this.props.hideSpinner();\n          alert('Meeting inserted');\n          window.location.assign(\"http://\" + window.location.hostname + ':' + window.location.port + \"/meetingsBrowse\");\n        });\n      }\n    };\n\n    this.state = {\n      description: '',\n      spinner: false,\n      icons: data.icons\n    };\n    this.baseState = {\n      description: ''\n    };\n  }\n\n  render() {\n    if (this.props.loggedInUser === '') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/errorLogin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"meetingInsert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"HomeLink\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"homeIcon\",\n      src: this.state.icons.home,\n      alt: \"back to home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"Insert Meeting\"), /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }), \"Meeting Description:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"meetingDescription\",\n      name: \"meetingDescription\",\n      type: \"text\",\n      rows: \"10\",\n      style: {\n        width: '90%'\n      },\n      onChange: this.descriptionChange,\n      value: this.state.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 18\n      }\n    }), \"Organiser:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"organiserName\",\n      name: \"organiserName\",\n      type: \"text\",\n      style: {\n        width: '100px',\n        textAlign: 'center'\n      },\n      required: \"true\",\n      value: this.props.loggedInUser,\n      readonly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Insert Meeting\",\n      onClick: this.handleMeetingInsert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default MeetingInsert;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/components/MeetingInsert.js"],"names":["React","ReactDOM","data","Redirect","MeetingInsert","Component","constructor","props","descriptionChange","e","setState","description","target","value","handleMeetingInsert","state","alert","showSpinner","reqBody","encodeURIComponent","loggedInUser","fetch","headers","method","body","then","res","json","meetingsArrayCopy","meetingsArray","obj","id","meetingId","organiser_id","push","setMeetings","baseState","hideSpinner","window","location","assign","hostname","port","spinner","icons","render","home","width","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom'\nimport data from './data';\nimport {  Redirect } from 'react-router-dom';\n\nclass MeetingInsert extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      description:'',\n      spinner:false,\n      icons: data.icons\n    }\n    this.baseState={\n      description:''\n    }\n  }\n\n  descriptionChange=(e)=>{\n    this.setState({description: e.target.value});\n  }\n\n  handleMeetingInsert=(e)=>{\n    if(this.state.description===''){\n      alert('Description cannot be empty');\n      return;\n    }\n    else{\n      this.props.showSpinner();\n      var reqBody=\"meetingDescription=\"+encodeURIComponent(this.state.description);\n          reqBody+='&organiserId='+encodeURIComponent(this.props.loggedInUser);\n\n      fetch(`/api/insertMeetingAction`, {\n        headers:{\n          'Accept':'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      })\n      .then(res=>res.json())\n      .then(data=>{\n        //if(data.updatestatus==\"ok\")\n            let meetingsArrayCopy=[...this.props.meetingsArray];\n            let obj={\n              id: data.meetingId,\n              description: this.state.description,\n              organiser_id:this.props.loggedInUser\n            };\n            meetingsArrayCopy.push(obj);\n            this.props.setMeetings(meetingsArrayCopy);\n            //console.log(data);\n            this.setState(this.baseState);\n            this.props.hideSpinner();\n            alert('Meeting inserted');\n            window.location.assign(\"http://\"+window.location.hostname+':'+window.location.port+\"/meetingsBrowse\");\n      })\n    }\n  }\n\n  render(){\n    if(this.props.loggedInUser===''){\n      return <Redirect to=\"/errorLogin\"/>\n    }\n\n    return (\n      <div className=\"meetingInsert\">\n          <a class=\"HomeLink\" href=\"/\">\n              <img class=\"homeIcon\" src={this.state.icons.home} alt=\"back to home\"/>\n          {/*back to home*/}\n          </a>\n          <div class=\"h1\">\n            Insert Meeting\n          </div>\n          <fieldset>\n            <br/>\n            Meeting Description:<br/>\n            <textarea id=\"meetingDescription\" name=\"meetingDescription\" type=\"text\" rows=\"10\"\n             style={{width:'90%'}}\n             onChange={this.descriptionChange}\n             value={this.state.description}\n             >\n            </textarea>\n            <br/><br/>\n            Organiser:<br/>\n            <input id=\"organiserName\" name=\"organiserName\" type=\"text\" style={{width:'100px', textAlign: 'center'}}\n            required=\"true\" value={this.props.loggedInUser} readonly>\n            </input>\n            <br/>\n            <br/>\n            <input type=\"button\" value=\"Insert Meeting\" onClick={this.handleMeetingInsert}/>\n          </fieldset>\n      </div>\n    )\n   }\n}\n\nexport default MeetingInsert;\n"]},"metadata":{},"sourceType":"module"}