{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools/src/components/chat/VideoExt.js\";\nimport React, { PureComponent } from 'react';\n\nclass VideoExt extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.addStreamTrack = async () => {\n      const {\n        localStream,\n        peerConnection\n      } = this.props; //console.log('addMediaStream: ', localMediaStream);\n\n      if (localStream) {\n        await localStream.getTracks().forEach(streamTrack => {\n          peerConnection.addTrack(streamTrack);\n        });\n      }\n    };\n\n    this.addStream = video => {\n      const {\n        mediaStream\n      } = this.props; // Prevents throwing error upon a setState change when mediaStream is null\n      // upon initial render\n\n      if (mediaStream && video) video.srcObject = mediaStream;\n    };\n  }\n\n  render() {\n    const {\n      mediaStream,\n      controls,\n      muted,\n      ...rest\n    } = this.props; //console.log('mediaStream: ', mediaStream);\n\n    return /*#__PURE__*/React.createElement(\"video\", Object.assign({\n      className: \"rtc__video\",\n      controls: controls,\n      muted: muted,\n      style: {\n        width: '480px',\n        backgroundColor: 'black'\n      },\n      autoPlay: true,\n      ref: mediaStream ? this.addStream : null\n    }, rest, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"track\", {\n      default: true,\n      kind: \"captions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\n;\nexport default VideoExt;","map":{"version":3,"sources":["/home/mathew/javascript/ischools/src/components/chat/VideoExt.js"],"names":["React","PureComponent","VideoExt","constructor","props","addStreamTrack","localStream","peerConnection","getTracks","forEach","streamTrack","addTrack","addStream","video","mediaStream","srcObject","render","controls","muted","rest","width","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;;AAEA,MAAMC,QAAN,SAAuBD,aAAvB,CAAqC;AACnCE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAInBC,cAJmB,GAIF,YAAY;AACzB,YAAM;AAAEC,QAAAA,WAAF;AAAeC,QAAAA;AAAf,UAAkC,KAAKH,KAA7C,CADyB,CAEzB;;AACA,UAAIE,WAAJ,EAAiB;AACf,cAAMA,WAAW,CAACE,SAAZ,GAAwBC,OAAxB,CAAiCC,WAAD,IAAiB;AACrDH,UAAAA,cAAc,CAACI,QAAf,CAAwBD,WAAxB;AACD,SAFK,CAAN;AAGD;AACJ,KAZkB;;AAAA,SAcnBE,SAdmB,GAcNC,KAAD,IAAW;AACrB,YAAM;AAAEC,QAAAA;AAAF,UAAkB,KAAKV,KAA7B,CADqB,CAErB;AACA;;AACA,UAAIU,WAAW,IAAID,KAAnB,EAA0BA,KAAK,CAACE,SAAN,GAAkBD,WAAlB;AAC3B,KAnBkB;AAElB;;AAmBDE,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEF,MAAAA,WAAF;AAAeG,MAAAA,QAAf;AAAyBC,MAAAA,KAAzB;AAAgC,SAAGC;AAAnC,QAA2C,KAAKf,KAAtD,CADO,CAEP;;AAEA,wBACE;AACE,MAAA,SAAS,EAAC,YADZ;AAEE,MAAA,QAAQ,EAAEa,QAFZ;AAGE,MAAA,KAAK,EAAEC,KAHT;AAIE,MAAA,KAAK,EAAE;AAACE,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,eAAe,EAAE;AAAlC,OAJT;AAKE,MAAA,QAAQ,MALV;AAME,MAAA,GAAG,EAAEP,WAAW,GAAG,KAAKF,SAAR,GAAoB;AANtC,OAOMO,IAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBASE;AAAO,MAAA,OAAO,MAAd;AAAe,MAAA,IAAI,EAAC,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADF;AAaD;;AAvCkC;;AAwCpC;AAED,eAAejB,QAAf","sourcesContent":["import React, { PureComponent } from 'react';\n\nclass VideoExt extends PureComponent {\n  constructor(props) {\n    super(props)\n  }\n\n  addStreamTrack = async () => {\n      const { localStream, peerConnection } = this.props\n      //console.log('addMediaStream: ', localMediaStream);\n      if (localStream) {\n        await localStream.getTracks().forEach((streamTrack) => {\n          peerConnection.addTrack(streamTrack);\n        });\n      }\n  }\n\n  addStream = (video) => {\n    const { mediaStream } = this.props;\n    // Prevents throwing error upon a setState change when mediaStream is null\n    // upon initial render\n    if (mediaStream && video) video.srcObject = mediaStream;\n  }\n\n  render() {\n    const { mediaStream, controls, muted, ...rest} = this.props;\n    //console.log('mediaStream: ', mediaStream);\n\n    return (\n      <video\n        className=\"rtc__video\"\n        controls={controls}\n        muted={muted}\n        style={{width: '480px', backgroundColor: 'black'}}\n        autoPlay\n        ref={mediaStream ? this.addStream : null}\n        {...rest}\n      >\n        <track default kind=\"captions\" />\n      </video>\n    );\n  }\n};\n\nexport default VideoExt;\n"]},"metadata":{},"sourceType":"module"}