{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/App.js\";\nimport React from 'react';\nimport './css/App.css';\nimport Header from './components/Header';\nimport ImageSlider from './components/ImageSlider';\nimport DropdownMenuHover from './components/DropdownMenuHover';\nimport ProblemsBrowse from './components/ProblemsBrowse';\nimport ProblemInsert from './components/ProblemInsert';\nimport QuizesBrowse from './components/QuizesBrowse';\nimport QuizInsert from './components/QuizInsert';\nimport QuizShowSelected from './components/QuizShowSelected';\nimport UsersBrowse from './components/UsersBrowse';\nimport UserInsert from './components/UserInsert';\nimport UserShowSelected from './components/UserShowSelected';\nimport CoursesBrowse from './components/CoursesBrowse';\nimport CourseInsert from './components/CourseInsert';\nimport CourseShowSelected from './components/CourseShowSelected';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport { getMinutesRemaining } from './utils/utils';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spinner: false,\n      userId: null,\n      password: null,\n      loggedInUser: localStorage.getItem('loggedInUser') || '',\n      admin: localStorage.getItem('admin') || \"0\",\n      errorMessage: null,\n      coursesArray: [],\n      problemsArray: [],\n      quizesArray: [],\n      usersArray: [],\n      startedQuiz: localStorage.getItem('startedQuiz') ? JSON.parse(localStorage.getItem('startedQuiz')) : null,\n      startedQuizAnswers: localStorage.getItem('startedQuizAnswers') ? JSON.parse(localStorage.getItem('startedQuizAnswers')) : null\n    };\n    this.userIdChange = this.userIdChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.handleLoginSubmit = this.handleLoginSubmit.bind(this);\n    this.logoutUser = this.logoutUser.bind(this);\n    this.setErrorMessage = this.setErrorMessage.bind(this);\n    this.setCourses = this.setCourses.bind(this);\n    this.setProblems = this.setProblems.bind(this);\n    this.setQuizes = this.setQuizes.bind(this);\n    this.setUsers = this.setUsers.bind(this);\n    this.loadCourses = this.loadCourses.bind(this);\n    this.loadProblems = this.loadProblems.bind(this);\n    this.loadQuizes = this.loadQuizes.bind(this);\n    this.loadUsers = this.loadUsers.bind(this);\n    this.showSpinner = this.showSpinner.bind(this);\n    this.hideSpinner = this.hideSpinner.bind(this);\n    this.startQuiz = this.startQuiz.bind(this);\n    this.isQuizStarted = this.isQuizStarted.bind(this);\n    this.startedQuizOptionChange = this.startedQuizOptionChange.bind(this);\n    this.startedQuizSubmit = this.startedQuizSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    var timer = setInterval(() => {\n      this.reviseQuizMinsRemaining();\n    }, 60000);\n  }\n\n  loadCourses() {\n    this.setState({\n      spinner: true\n    });\n    fetch(`/api/getCourses`, {\n      headers: {\n        'Accept': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      //console.log(data);\n      this.setState({\n        coursesArray: data,\n        spinner: false\n      });\n    });\n  }\n\n  setCourses(arr) {\n    this.setState({\n      coursesArray: arr\n    });\n  }\n\n  startedQuizOptionChange(problemId, optionSelectedValue) {\n    const copied = Object.assign({}, this.state.startedQuizAnswers);\n    copied[problemId] = optionSelectedValue;\n    this.setState({\n      startedQuizAnswers: copied\n    }); //console.log(copied);\n\n    localStorage.setItem('startedQuizAnswers', JSON.stringify(copied));\n  }\n\n  startQuiz(quizObj) {\n    if (this.state.startedQuiz === null) {\n      if (window.confirm('Are you sure you want to start the quiz:\\r\\n' + quizObj.description) === true) {\n        const current_timestamp = new Date();\n        let mm = current_timestamp.getMonth() + 1;\n        mm = mm < 10 ? \"0\" + mm : \"\" + mm;\n        let dd = current_timestamp.getDate();\n        dd = dd < 10 ? \"0\" + dd : \"\" + dd;\n        let hh = current_timestamp.getHours();\n        hh = hh < 10 ? \"0\" + hh : \"\" + hh;\n        let mins = current_timestamp.getMinutes();\n        mins = mins < 10 ? \"0\" + mins : \"\" + mins;\n        let ss = current_timestamp.getSeconds();\n        ss = ss < 10 ? \"0\" + ss : \"\" + ss;\n        quizObj['start_time'] = current_timestamp.getFullYear() + '-' + mm + '-' + dd + 'T' + hh + ':' + mins + ':' + ss; //quizObj['mins_remaining']=quizObj['duration_minutes'];\n\n        var reqBody = \"quizId=\" + encodeURIComponent(quizObj.id);\n        reqBody += '&startTime=' + encodeURIComponent(quizObj.start_time);\n        reqBody += '&userId=' + encodeURIComponent(this.state.loggedInUser);\n        fetch(`/api/quizStart`, {\n          headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded'\n          },\n          method: 'POST',\n          body: reqBody\n        }).then(res => res.json()).then(data => {\n          console.log(data);\n\n          if (data.insertstatus === \"ok\") {\n            quizObj['quizInstanceId'] = data.quizInstanceId;\n            this.setState({\n              startedQuiz: quizObj\n            });\n            localStorage.setItem('startedQuiz', JSON.stringify(quizObj));\n          } else {\n            alert('An error occurred in connecting to the server to start the quiz');\n          }\n        });\n      }\n    } else {\n      alert('There is already a started quiz:\\r\\n' + this.state.startedQuiz.description + '\\r\\n Please submit this quiz to start a new quiz');\n    }\n\n    console.log(this.state.startedQuiz);\n  }\n\n  startedQuizSubmit() {\n    console.log(this.state.startedQuizAnswers);\n    console.log(this.state.startedQuiz);\n    var reqBody = \"quizId=\" + encodeURIComponent(this.state.startedQuiz.id);\n    reqBody += '&quizInstanceId=' + encodeURIComponent(this.state.startedQuiz.quizInstanceId);\n    reqBody += '&answersObject=' + encodeURIComponent(JSON.stringify(this.state.startedQuizAnswers));\n    fetch(`/api/quizAnwersSubmit`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/x-www-form-urlencoded'\n      },\n      method: 'POST',\n      body: reqBody\n    }).then(res => res.json()).then(data => {\n      //console.log(data);\n      if (data.insertstatus === \"ok\") {\n        localStorage.removeItem('startedQuiz');\n        localStorage.removeItem('startedQuizAnswers');\n        this.setState({\n          startedQuiz: null,\n          startedQuizAnswers: null\n        });\n        alert('Quiz Submitted');\n      }\n    });\n  }\n\n  reviseQuizMinsRemaining() {\n    if (this.state.startedQuiz !== null) {\n      /*var startTime=new Date();\n      const start_timestamp=Date.parse(this.state.startedQuiz.start_time);\n      startTime.setTime(start_timestamp);\n      const current_timestamp=Date.now();\n       const MsRemaining=start_timestamp+\n                        parseInt(this.state.startedQuiz.duration_minutes)*60*1000-current_timestamp;\n      var mins_remaining = Math.round(MsRemaining/60000);; // minutes*/\n      var mins_remaining = getMinutesRemaining(this.state.startedQuiz.start_time, this.state.startedQuiz.duration_minutes);\n\n      if (mins_remaining > 0) {\n        console.log(mins_remaining);\n        const copied = Object.assign({}, this.state.startedQuiz); //copied['mins_remaining']=mins_remaining;\n\n        this.setState({\n          startedQuiz: copied\n        });\n        localStorage.setItem('startedQuiz', JSON.stringify(copied));\n      } else {\n        this.startedQuizSubmit();\n      }\n    }\n  }\n\n  isQuizStarted(quizId) {\n    if (this.state.startedQuiz !== null && this.state.startedQuiz.id === quizId) return true;else return false;\n  }\n\n  loadProblems() {\n    this.setState({\n      spinner: true\n    });\n    fetch(`/api/getProblems`, {\n      headers: {\n        'Accept': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        problemsArray: data,\n        spinner: false\n      });\n    });\n  }\n\n  setProblems(arr) {\n    this.setState({\n      problemsArray: arr\n    });\n  }\n\n  loadQuizes() {\n    this.setState({\n      spinner: true\n    });\n    fetch(`/api/getQuizes`, {\n      headers: {\n        'Accept': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      //console.log(data);\n      this.setState({\n        quizesArray: data,\n        spinner: false\n      });\n    });\n  }\n\n  setQuizes(arr) {\n    this.setState({\n      quizesArray: arr\n    });\n  }\n\n  loadUsers() {\n    this.setState({\n      spinner: true\n    });\n    fetch(`/api/getUsers`, {\n      headers: {\n        'Accept': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        usersArray: data,\n        spinner: false\n      });\n    });\n  }\n\n  setUsers(arr) {\n    this.setState({\n      usersArray: arr\n    });\n  }\n\n  showSpinner() {\n    this.setState({\n      spinner: true\n    });\n  }\n\n  hideSpinner() {\n    this.setState({\n      spinner: false\n    });\n  }\n\n  handleLoginSubmit(event) {\n    if (this.state.userId === null || this.state.password === null || this.state.password.length === 0 || this.state.userId.length === 0) {\n      event.preventDefault();\n      this.setState({\n        errorMessage: \"UserId/password cannot be empty\"\n      });\n      return;\n    }\n\n    var reqBody = \"userId=\" + encodeURIComponent(this.state.userId);\n    reqBody += '&password=' + encodeURIComponent(this.state.password);\n    fetch(`/api/login`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/x-www-form-urlencoded'\n      },\n      method: 'POST',\n      body: reqBody\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.login === \"ok\") {\n        localStorage.setItem('loggedInUser', this.state.userId);\n        localStorage.setItem('admin', data.admin);\n        this.setState({\n          errorMessage: null,\n          loggedInUser: this.state.userId,\n          admin: data.admin\n        });\n      } else {\n        this.setState({\n          errorMessage: \"Login Failed: UserId/password Mismatch\"\n        });\n      }\n    });\n    event.preventDefault();\n  }\n\n  userIdChange(e) {\n    const newUserId = e.target.value;\n    this.setState({\n      userId: newUserId\n    });\n  }\n\n  passwordChange(e) {\n    const newPassword = e.target.value;\n    this.setState({\n      password: newPassword\n    });\n  }\n\n  logoutUser(e) {\n    //e.preventDefault();\n    let confirmMsg = 'Are you sure you want to logout?';\n\n    if (this.state.startedQuiz !== null) {\n      confirmMsg += '\\r\\nThere is an active quiz that is unsumitted!';\n    }\n\n    let b = window.confirm(confirmMsg);\n\n    if (b === true) {\n      if (this.state.startedQuiz !== null) this.startedQuizSubmit();\n      localStorage.setItem('loggedInUser', '');\n      localStorage.setItem('admin', \"0\");\n      localStorage.removeItem('startedQuiz');\n      localStorage.removeItem('startedQuizAnswers');\n      this.setState({\n        errorMessage: null,\n        loggedInUser: '',\n        admin: \"0\",\n        startedQuiz: null,\n        startedQuizAnswers: null\n      });\n    } else {\n      e.preventDefault();\n    }\n  }\n\n  setErrorMessage(errMsg) {\n    this.setState({\n      errorMessage: errMsg\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      render: props => /*#__PURE__*/React.createElement(Header, Object.assign({}, props, {\n        userId: this.state.userId,\n        password: this.state.password,\n        errorMessage: this.state.errorMessage,\n        passwordChange: this.passwordChange,\n        userIdChange: this.userIdChange,\n        handleSubmit: this.handleLoginSubmit,\n        logoutUser: this.logoutUser,\n        loggedInUser: this.state.loggedInUser,\n        startedQuiz: this.state.startedQuiz,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 46\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      render: props => /*#__PURE__*/React.createElement(DropdownMenuHover, Object.assign({}, props, {\n        loggedInUser: this.state.loggedInUser,\n        setErrorMessage: this.setErrorMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 46\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 13\n      }\n    }), this.state.spinner === true ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"spinner\",\n      className: \"loadingContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 90\n      }\n    })) : null, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: ImageSlider,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/problemsBrowse\",\n      render: props => /*#__PURE__*/React.createElement(ProblemsBrowse, Object.assign({}, props, {\n        problemsArray: this.state.problemsArray,\n        quizesArray: this.state.quizesArray,\n        loadProblems: this.loadProblems,\n        setProblems: this.setProblems,\n        loadQuizes: this.loadQuizes,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        admin: this.state.admin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 60\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/problemInsert\",\n      render: props => /*#__PURE__*/React.createElement(ProblemInsert, Object.assign({}, props, {\n        problemsArray: this.state.problemsArray,\n        quizesArray: this.state.quizesArray,\n        loadQuizes: this.loadQuizes,\n        setProblems: this.setProblems,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 59\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/quizesBrowse\",\n      render: props => /*#__PURE__*/React.createElement(QuizesBrowse, {\n        quizesArray: this.state.quizesArray,\n        loadQuizes: this.loadQuizes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 58\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/quizInsert\",\n      render: props => /*#__PURE__*/React.createElement(QuizInsert, Object.assign({}, props, {\n        quizesArray: this.state.quizesArray,\n        coursesArray: this.state.coursesArray,\n        loadCourses: this.loadCourses,\n        setQuizes: this.setQuizes,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 56\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/quizShowSelected/:id\",\n      render: props => /*#__PURE__*/React.createElement(QuizShowSelected, Object.assign({}, props, {\n        loadQuizes: this.loadQuizes,\n        quizesArray: this.state.quizesArray,\n        setQuizes: this.setQuizes,\n        loadCourses: this.loadCourses,\n        coursesArray: this.state.coursesArray,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        startQuiz: this.startQuiz,\n        admin: this.state.admin,\n        setErrorMessage: this.setErrorMessage,\n        isQuizStarted: this.isQuizStarted,\n        optionChange: this.startedQuizOptionChange,\n        submitQuiz: this.startedQuizSubmit,\n        startedQuizAnswers: this.state.startedQuizAnswers,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 66\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/usersBrowse\",\n      render: props => /*#__PURE__*/React.createElement(UsersBrowse, Object.assign({}, props, {\n        usersArray: this.state.usersArray,\n        loadUsers: this.loadUsers,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 57\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/userInsert\",\n      render: props => /*#__PURE__*/React.createElement(UserInsert, Object.assign({}, props, {\n        usersArray: this.state.usersArray,\n        setUsers: this.setUsers,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 56\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/UserShowSelected/:id\",\n      render: props => /*#__PURE__*/React.createElement(UserShowSelected, Object.assign({}, props, {\n        loadUsers: this.loadUsers,\n        usersArray: this.state.usersArray,\n        setUsers: this.setUsers,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        admin: this.state.admin,\n        setErrorMessage: this.setErrorMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 66\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/coursesBrowse\",\n      render: props => /*#__PURE__*/React.createElement(CoursesBrowse, {\n        coursesArray: this.state.coursesArray,\n        loadCourses: this.loadCourses,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 59\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/courseInsert\",\n      render: props => /*#__PURE__*/React.createElement(CourseInsert, Object.assign({}, props, {\n        coursesArray: this.state.coursesArray,\n        setCourses: this.setCourses,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 58\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/CourseShowSelected/:id\",\n      render: props => /*#__PURE__*/React.createElement(CourseShowSelected, Object.assign({}, props, {\n        loadCourses: this.loadCourses,\n        coursesArray: this.state.coursesArray,\n        setCourses: this.setCourses,\n        showSpinner: this.showSpinner,\n        hideSpinner: this.hideSpinner,\n        loggedInUser: this.state.loggedInUser,\n        admin: this.state.admin,\n        setErrorMessage: this.setErrorMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 68\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 13\n      }\n    }), this.state.loggedInUser === \"\" && /*#__PURE__*/React.createElement(Route, {\n      path: \"/errorLogin\",\n      render: props => /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\",\n          fontSize: \"1.5em\",\n          paddingTop: \"1%\",\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 89\n        }\n      }, \"Error: User not Logged In!\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 45\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/App.js"],"names":["React","Header","ImageSlider","DropdownMenuHover","ProblemsBrowse","ProblemInsert","QuizesBrowse","QuizInsert","QuizShowSelected","UsersBrowse","UserInsert","UserShowSelected","CoursesBrowse","CourseInsert","CourseShowSelected","Route","BrowserRouter","Router","getMinutesRemaining","App","Component","constructor","props","state","spinner","userId","password","loggedInUser","localStorage","getItem","admin","errorMessage","coursesArray","problemsArray","quizesArray","usersArray","startedQuiz","JSON","parse","startedQuizAnswers","userIdChange","bind","passwordChange","handleLoginSubmit","logoutUser","setErrorMessage","setCourses","setProblems","setQuizes","setUsers","loadCourses","loadProblems","loadQuizes","loadUsers","showSpinner","hideSpinner","startQuiz","isQuizStarted","startedQuizOptionChange","startedQuizSubmit","componentDidMount","timer","setInterval","reviseQuizMinsRemaining","setState","fetch","headers","then","res","json","data","arr","problemId","optionSelectedValue","copied","Object","assign","setItem","stringify","quizObj","window","confirm","description","current_timestamp","Date","mm","getMonth","dd","getDate","hh","getHours","mins","getMinutes","ss","getSeconds","getFullYear","reqBody","encodeURIComponent","id","start_time","method","body","console","log","insertstatus","quizInstanceId","alert","removeItem","mins_remaining","duration_minutes","quizId","event","length","preventDefault","login","e","newUserId","target","value","newPassword","confirmMsg","b","errMsg","render","color","fontSize","paddingTop","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './css/App.css';\nimport Header from './components/Header';\nimport ImageSlider from './components/ImageSlider';\nimport DropdownMenuHover from './components/DropdownMenuHover';\nimport ProblemsBrowse from './components/ProblemsBrowse';\nimport ProblemInsert from './components/ProblemInsert';\nimport QuizesBrowse from './components/QuizesBrowse';\nimport QuizInsert from './components/QuizInsert';\nimport QuizShowSelected from './components/QuizShowSelected';\nimport UsersBrowse from './components/UsersBrowse';\nimport UserInsert from './components/UserInsert';\nimport UserShowSelected from './components/UserShowSelected';\nimport CoursesBrowse from './components/CoursesBrowse';\nimport CourseInsert from './components/CourseInsert';\nimport CourseShowSelected from './components/CourseShowSelected';\nimport { Route, BrowserRouter as Router} from 'react-router-dom';\nimport {getMinutesRemaining} from './utils/utils';\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      spinner:false,\n      userId:null,\n      password:null,\n      loggedInUser:localStorage.getItem('loggedInUser') || '',\n      admin:localStorage.getItem('admin')||\"0\",\n      errorMessage:null,\n      coursesArray:[],\n      problemsArray:[],\n      quizesArray:[],\n      usersArray:[],\n      startedQuiz:localStorage.getItem('startedQuiz')?JSON.parse(localStorage.getItem('startedQuiz')):null,\n      startedQuizAnswers:localStorage.getItem('startedQuizAnswers')?JSON.parse(localStorage.getItem('startedQuizAnswers')):null\n    }\n    this.userIdChange=this.userIdChange.bind(this);\n    this.passwordChange=this.passwordChange.bind(this);\n    this.handleLoginSubmit=this.handleLoginSubmit.bind(this);\n    this.logoutUser=this.logoutUser.bind(this);\n    this.setErrorMessage=this.setErrorMessage.bind(this);\n    this.setCourses=this.setCourses.bind(this);\n    this.setProblems=this.setProblems.bind(this);\n    this.setQuizes=this.setQuizes.bind(this);\n    this.setUsers=this.setUsers.bind(this);\n    this.loadCourses=this.loadCourses.bind(this);\n    this.loadProblems=this.loadProblems.bind(this);\n    this.loadQuizes=this.loadQuizes.bind(this);\n    this.loadUsers=this.loadUsers.bind(this);\n    this.showSpinner=this.showSpinner.bind(this);\n    this.hideSpinner=this.hideSpinner.bind(this);\n    this.startQuiz=this.startQuiz.bind(this);\n    this.isQuizStarted=this.isQuizStarted.bind(this);\n    this.startedQuizOptionChange=this.startedQuizOptionChange.bind(this);\n    this.startedQuizSubmit=this.startedQuizSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    var timer = setInterval(() => {this.reviseQuizMinsRemaining();}, 60000)\n  }\n\n  loadCourses(){\n    this.setState({spinner:true});\n    fetch(`/api/getCourses`, {\n      headers:{\n        'Accept':'application/json'\n      }\n    })\n    .then(res=>res.json())\n    .then(data=>{\n      //console.log(data);\n      this.setState({coursesArray: data, spinner: false});\n    })\n  }\n\n  setCourses(arr){\n    this.setState({coursesArray:arr});\n  }\n\n  startedQuizOptionChange(problemId, optionSelectedValue){\n    const copied = Object.assign({}, this.state.startedQuizAnswers);\n    copied[problemId]=optionSelectedValue;\n    this.setState({startedQuizAnswers:copied});\n    //console.log(copied);\n    localStorage.setItem('startedQuizAnswers', JSON.stringify(copied));\n  }\n\n  startQuiz(quizObj){\n    if(this.state.startedQuiz===null){\n      if(window.confirm('Are you sure you want to start the quiz:\\r\\n'+quizObj.description)===true){\n        const current_timestamp=new Date();\n        let mm=current_timestamp.getMonth()+1;\n        mm=mm<10?\"0\"+mm:\"\"+mm;\n        let dd=current_timestamp.getDate();\n        dd=dd<10?\"0\"+dd:\"\"+dd;\n        let hh=current_timestamp.getHours();\n        hh=hh<10?\"0\"+hh:\"\"+hh;\n        let mins=current_timestamp.getMinutes();\n        mins=mins<10?\"0\"+mins:\"\"+mins;\n        let ss=current_timestamp.getSeconds();\n        ss=ss<10?\"0\"+ss:\"\"+ss;\n        quizObj['start_time']=current_timestamp.getFullYear()+'-'+mm+'-'+\n        dd+'T'+hh+':'+mins+':'+ss;\n        //quizObj['mins_remaining']=quizObj['duration_minutes'];\n        var reqBody=\"quizId=\"+encodeURIComponent(quizObj.id);\n            reqBody+='&startTime='+encodeURIComponent(quizObj.start_time);\n            reqBody+='&userId='+encodeURIComponent(this.state.loggedInUser);\n        fetch(`/api/quizStart`, {\n          headers:{\n            'Accept':'application/json',\n            'Content-type': 'application/x-www-form-urlencoded'\n          },\n          method: 'POST',\n          body: reqBody\n        })\n        .then(res=>res.json())\n        .then(\n          data=>{\n            console.log(data);\n            if(data.insertstatus=== \"ok\"){\n              quizObj['quizInstanceId']=data.quizInstanceId;\n              this.setState({startedQuiz:quizObj});\n              localStorage.setItem('startedQuiz', JSON.stringify(quizObj));\n            }\n            else{\n              alert('An error occurred in connecting to the server to start the quiz');\n            }\n          });\n      }\n    }\n    else{\n      alert('There is already a started quiz:\\r\\n'+\n             this.state.startedQuiz.description+\n            '\\r\\n Please submit this quiz to start a new quiz')\n    }\n     console.log(this.state.startedQuiz);\n  }\n\n  startedQuizSubmit(){\n    console.log(this.state.startedQuizAnswers);\n    console.log(this.state.startedQuiz);\n\n    var reqBody=\"quizId=\"+encodeURIComponent(this.state.startedQuiz.id);\n        reqBody+='&quizInstanceId='+encodeURIComponent(this.state.startedQuiz.quizInstanceId);\n        reqBody+='&answersObject='+encodeURIComponent(JSON.stringify(this.state.startedQuizAnswers));\n\n        fetch(`/api/quizAnwersSubmit`, {\n          headers:{\n            'Accept':'application/json',\n            'Content-type': 'application/x-www-form-urlencoded'\n          },\n          method: 'POST',\n          body: reqBody\n        })\n        .then(res=>res.json())\n        .then(\n          data=>{\n            //console.log(data);\n            if(data.insertstatus=== \"ok\"){\n              localStorage.removeItem('startedQuiz');\n              localStorage.removeItem('startedQuizAnswers');\n              this.setState({startedQuiz:null, startedQuizAnswers:null});\n              alert('Quiz Submitted');\n            }\n          }\n        );\n  }\n\n  reviseQuizMinsRemaining(){\n    if(this.state.startedQuiz!==null){\n          /*var startTime=new Date();\n          const start_timestamp=Date.parse(this.state.startedQuiz.start_time);\n          startTime.setTime(start_timestamp);\n          const current_timestamp=Date.now();\n\n          const MsRemaining=start_timestamp+\n                            parseInt(this.state.startedQuiz.duration_minutes)*60*1000-current_timestamp;\n          var mins_remaining = Math.round(MsRemaining/60000);; // minutes*/\n          var mins_remaining= getMinutesRemaining(this.state.startedQuiz.start_time, this.state.startedQuiz.duration_minutes);\n\n          if(mins_remaining>0){\n            console.log(mins_remaining);\n            const copied = Object.assign({}, this.state.startedQuiz);\n            //copied['mins_remaining']=mins_remaining;\n            this.setState({startedQuiz:copied});\n            localStorage.setItem('startedQuiz', JSON.stringify(copied));\n         }\n         else{\n           this.startedQuizSubmit();\n         }\n    }\n  }\n\n\n\n  isQuizStarted(quizId){\n    if(this.state.startedQuiz!==null&&this.state.startedQuiz.id===quizId)\n        return true;\n    else\n        return false;\n  }\n\n\n  loadProblems(){\n    this.setState({spinner:true});\n    fetch(`/api/getProblems`, {\n      headers:{\n        'Accept':'application/json'\n      }\n    })\n    .then(res=>res.json())\n    .then(data=>{\n        this.setState({problemsArray: data, spinner: false});\n    })\n  }\n\n  setProblems(arr){\n    this.setState({problemsArray:arr});\n  }\n\n  loadQuizes(){\n    this.setState({spinner:true});\n    fetch(`/api/getQuizes`, {\n      headers:{\n        'Accept':'application/json'\n      }\n    })\n    .then(res=>res.json())\n    .then(data=>{\n      //console.log(data);\n      this.setState({ quizesArray: data, spinner: false});\n    })\n  }\n\n  setQuizes(arr){\n    this.setState({quizesArray:arr});\n  }\n\n  loadUsers(){\n    this.setState({spinner:true});\n    fetch(`/api/getUsers`, {\n      headers:{\n        'Accept':'application/json'\n      }\n    })\n    .then(res=>res.json())\n    .then(data=>{\n      this.setState({usersArray: data, spinner:false});\n    })\n  }\n\n  setUsers(arr){\n    this.setState({usersArray:arr});\n  }\n\n  showSpinner(){\n    this.setState({spinner:true});\n  }\n\n  hideSpinner(){\n    this.setState({spinner:false});\n  }\n\n  handleLoginSubmit(event){\n    if(this.state.userId===null\n        ||this.state.password===null\n        ||this.state.password.length===0\n        ||this.state.userId.length===0)\n    {\n      event.preventDefault();\n      this.setState({errorMessage: \"UserId/password cannot be empty\"})\n      return;\n    }\n    var reqBody=\"userId=\"+encodeURIComponent(this.state.userId);\n        reqBody+='&password='+encodeURIComponent(this.state.password);\n\n        fetch(`/api/login`, {\n          headers:{\n            'Accept':'application/json',\n            'Content-type': 'application/x-www-form-urlencoded'\n          },\n          method: 'POST',\n          body: reqBody\n        })\n        .then(res=>res.json())\n        .then(\n          data=>{\n            console.log(data);\n            if(data.login===\"ok\"){\n              localStorage.setItem('loggedInUser', this.state.userId);\n              localStorage.setItem('admin', data.admin);\n              this.setState({errorMessage:null, loggedInUser: this.state.userId, admin: data.admin});\n            }\n            else{\n              this.setState({errorMessage: \"Login Failed: UserId/password Mismatch\"});\n            }\n          }\n        );\n    event.preventDefault();\n\n  }\n\n  userIdChange(e){\n    const newUserId=e.target.value;\n    this.setState({userId: newUserId});\n  }\n\n  passwordChange(e){\n    const newPassword=e.target.value;\n    this.setState({password: newPassword});\n  }\n\n  logoutUser(e){\n    //e.preventDefault();\n    let confirmMsg='Are you sure you want to logout?';\n    if(this.state.startedQuiz!==null){\n        confirmMsg+='\\r\\nThere is an active quiz that is unsumitted!'\n    }\n    let b=window.confirm(confirmMsg)\n    if(b===true){\n      if(this.state.startedQuiz!==null)\n         this.startedQuizSubmit();\n      localStorage.setItem('loggedInUser', '');\n      localStorage.setItem('admin', \"0\");\n      localStorage.removeItem('startedQuiz');\n      localStorage.removeItem('startedQuizAnswers');\n      this.setState({errorMessage:null, loggedInUser: '', admin:\"0\",\n                      startedQuiz:null, startedQuizAnswers:null});\n    }\n    else{\n      e.preventDefault();\n    }\n  }\n\n  setErrorMessage(errMsg){\n    this.setState({errorMessage:errMsg});\n  }\n\n\n    render(){\n      return (\n        <Router>\n          <div>\n            <Route path=\"/\" render={(props)=><Header\n                                                {...props}\n                                                userId={this.state.userId}\n                                                password={this.state.password}\n                                                errorMessage={this.state.errorMessage}\n                                                passwordChange={this.passwordChange}\n                                                userIdChange={this.userIdChange}\n                                                handleSubmit={this.handleLoginSubmit}\n                                                logoutUser={this.logoutUser}\n                                                loggedInUser={this.state.loggedInUser}\n                                                startedQuiz={this.state.startedQuiz}\n                                              />}\n            />\n            <Route path=\"/\" render={(props)=><DropdownMenuHover\n                                              {...props}\n                                               loggedInUser={this.state.loggedInUser}\n                                               setErrorMessage={this.setErrorMessage}\n                                              />\n                                    }\n             />\n             {\n               this.state.spinner===true?(<div id=\"spinner\" className=\"loadingContainer\"><div className=\"loading\"></div></div>):null\n             }\n            <Route exact path=\"/\" component={ImageSlider} />\n            <Route path=\"/problemsBrowse\" render={(props)=><ProblemsBrowse {...props}\n                                                            problemsArray={this.state.problemsArray}\n                                                            quizesArray={this.state.quizesArray}\n                                                            loadProblems={this.loadProblems}\n                                                            setProblems={this.setProblems}\n                                                            loadQuizes={this.loadQuizes}\n                                                            showSpinner={this.showSpinner}\n                                                            hideSpinner={this.hideSpinner}\n                                                            loggedInUser={this.state.loggedInUser}\n                                                            admin={this.state.admin}\n                                                            />\n                                                 }\n            />\n            <Route path=\"/problemInsert\" render={(props)=><ProblemInsert {...props}\n                                                           problemsArray={this.state.problemsArray}\n                                                           quizesArray={this.state.quizesArray}\n                                                           loadQuizes={this.loadQuizes}\n                                                           setProblems={this.setProblems}\n                                                           showSpinner={this.showSpinner}\n                                                           hideSpinner={this.hideSpinner}\n                                                           loggedInUser={this.state.loggedInUser}\n                                                          />\n                                                }\n            />\n            <Route path=\"/quizesBrowse\" render={(props)=><QuizesBrowse\n                                                          quizesArray={this.state.quizesArray}\n                                                          loadQuizes={this.loadQuizes}\n                                                        />\n                                               }\n             />\n            <Route path=\"/quizInsert\" render={(props)=><QuizInsert {...props}\n                                                        quizesArray={this.state.quizesArray}\n                                                        coursesArray={this.state.coursesArray}\n                                                        loadCourses={this.loadCourses}\n                                                        setQuizes={this.setQuizes}\n                                                        showSpinner={this.showSpinner}\n                                                        hideSpinner={this.hideSpinner}\n                                                        loggedInUser={this.state.loggedInUser}\n                                                       />\n                                             }\n            />\n            <Route path=\"/quizShowSelected/:id\" render={(props)=><QuizShowSelected {...props}\n                                                                  loadQuizes={this.loadQuizes}\n                                                                  quizesArray={this.state.quizesArray}\n                                                                  setQuizes={this.setQuizes}\n                                                                  loadCourses={this.loadCourses}\n                                                                  coursesArray={this.state.coursesArray}\n                                                                  showSpinner={this.showSpinner}\n                                                                  hideSpinner={this.hideSpinner}\n                                                                  loggedInUser={this.state.loggedInUser}\n                                                                  startQuiz={this.startQuiz}\n                                                                  admin={this.state.admin}\n                                                                  setErrorMessage={this.setErrorMessage}\n                                                                  isQuizStarted={this.isQuizStarted}\n                                                                  optionChange={this.startedQuizOptionChange}\n                                                                  submitQuiz={this.startedQuizSubmit}\n                                                                  startedQuizAnswers={this.state.startedQuizAnswers}\n                                                                 />\n                                                       }\n            />\n            <Route path=\"/usersBrowse\" render={(props)=><UsersBrowse {...props}\n                                                          usersArray={this.state.usersArray}\n                                                          loadUsers={this.loadUsers}\n                                                        />\n                                              }\n            />\n            <Route path=\"/userInsert\" render={(props)=><UserInsert {...props}\n                                                        usersArray={this.state.usersArray}\n                                                        setUsers={this.setUsers}\n                                                        showSpinner={this.showSpinner}\n                                                        hideSpinner={this.hideSpinner}\n                                                       />\n                                             }\n            />\n            <Route path=\"/UserShowSelected/:id\" render={(props)=><UserShowSelected {...props}\n                                                                  loadUsers={this.loadUsers}\n                                                                  usersArray={this.state.usersArray}\n                                                                  setUsers={this.setUsers}\n                                                                  showSpinner={this.showSpinner}\n                                                                  hideSpinner={this.hideSpinner}\n                                                                  loggedInUser={this.state.loggedInUser}\n                                                                  admin={this.state.admin}\n                                                                  setErrorMessage={this.setErrorMessage}\n                                                                 />\n                                                       }\n            />\n            <Route path=\"/coursesBrowse\" render={(props)=><CoursesBrowse\n                                                           coursesArray={this.state.coursesArray}\n                                                           loadCourses={this.loadCourses}\n                                                          />\n                                                }\n            />\n            <Route path=\"/courseInsert\" render={(props)=><CourseInsert {...props}\n                                                          coursesArray={this.state.coursesArray}\n                                                          setCourses={this.setCourses}\n                                                          showSpinner={this.showSpinner}\n                                                          hideSpinner={this.hideSpinner}\n                                                          loggedInUser={this.state.loggedInUser}\n                                                          />\n                                               }\n            />\n            <Route path=\"/CourseShowSelected/:id\" render={(props)=><CourseShowSelected {...props}\n                                                                    loadCourses={this.loadCourses}\n                                                                    coursesArray={this.state.coursesArray}\n                                                                    setCourses={this.setCourses}\n                                                                    showSpinner={this.showSpinner}\n                                                                    hideSpinner={this.hideSpinner}\n                                                                    loggedInUser={this.state.loggedInUser}\n                                                                    admin={this.state.admin}\n                                                                    setErrorMessage={this.setErrorMessage}\n                                                                  />\n                                                          }\n            />\n            {\n            this.state.loggedInUser===\"\" && <Route path=\"/errorLogin\" render={(props)=>(<div\n                                                           style={{color:\"red\", fontSize: \"1.5em\",\n                                                             paddingTop:\"1%\",\n                                                            textAlign:\"center\"}}>\n                                                            Error: User not Logged In!\n                                                       </div>\n                                                       )\n                                              }\n           />\n           }\n\n          </div>\n        </Router>\n      )\n    }\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}