{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/stores/appStore.js\";\nimport React from 'react';\nimport { Provider, Consumer } from 'react-quickstore';\nimport { SHOW_OPEN_SPINNER, HIDE_SPINNER, USER_ID_CHANGE, PASSWORD_CHANGE, SET_ERROR_MESSAGE, ON_LOGIN, LOAD_PROBLEMS, SET_PROBLEMS, NEXT_PROBLEMS_PAGE, PREVIOUS_PROBLEMS_PAGE, SET_PROBLEMS_PAGE, LOAD_COURSES, SET_COURSES, NEXT_COURSES_PAGE, PREVIOUS_COURSES_PAGE, SET_COURSES_PAGE, LOAD_QUIZES, SET_QUIZES, SET_STARTED_QUIZ, SET_STARTED_QUIZ_ANSWERS, SUBMIT_STARTED_QUIZ, NEXT_QUIZES_PAGE, PREVIOUS_QUIZES_PAGE, SET_QUIZES_PAGE, LOAD_USERS, SET_USERS, NEXT_USERS_PAGE, PREVIOUS_USERS_PAGE, SET_USERS_PAGE, LOAD_MEETINGS, NEXT_MEETINGS_PAGE, PREVIOUS_MEETINGS_PAGE, SET_MEETINGS_PAGE } from './appStoreConstants';\nimport { retrieveProblems, retrieveQuizes, retrieveCourses, retrieveUsers, retrieveMeetings } from '../utils/appUtils';\nconst initialState = {\n  spinner: false,\n  userId: null,\n  password: null,\n  loggedInUser: localStorage.getItem('loggedInUser') || '',\n  loggedInUserFullName: localStorage.getItem('loggedInUserFullName') || '',\n  admin: localStorage.getItem('admin') || \"0\",\n  errorMessage: null,\n  coursesArray: [],\n  problemsArray: [],\n  meetingsArray: [],\n  currentProblemsPage: 1,\n  currentQuizesPage: 1,\n  currentCoursesPage: 1,\n  currentUsersPage: 1,\n  currentMeetingsPage: 1,\n  pageSize: 30,\n  quizesArray: [],\n  usersArray: [],\n  startedQuiz: localStorage.getItem('startedQuiz') ? JSON.parse(localStorage.getItem('startedQuiz')) : null,\n  startedQuizAnswers: localStorage.getItem('startedQuizAnswers') ? JSON.parse(localStorage.getItem('startedQuizAnswers')) : null\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_OPEN_SPINNER:\n      return {\n        spinner: true\n      };\n\n    case HIDE_SPINNER:\n      return {\n        spinner: false\n      };\n\n    case USER_ID_CHANGE:\n      return {\n        userId: action.payload\n      };\n\n    case PASSWORD_CHANGE:\n      return {\n        password: action.payload\n      };\n\n    case SET_ERROR_MESSAGE:\n      return {\n        errorMessage: action.payload\n      };\n\n    case ON_LOGIN:\n      console.log(action.payload);\n      localStorage.setItem('loggedInUser', action.payload.userId);\n      localStorage.setItem('loggedInUserFullName', data.full_name);\n      localStorage.setItem('admin', data.admin);\n      return action.payload;\n\n    case LOAD_PROBLEMS:\n      return {\n        problemsArray: action.payload,\n        spinner: false\n      };\n\n    case SET_PROBLEMS:\n      return {\n        problemsArray: action.payload\n      };\n\n    case NEXT_PROBLEMS_PAGE:\n      return {\n        currentProblemsPage: state.currentProblemsPage + 1\n      };\n\n    case PREVIOUS_PROBLEMS_PAGE:\n      return {\n        currentProblemsPage: state.currentProblemsPage - 1\n      };\n\n    case SET_PROBLEMS_PAGE:\n      return {\n        currentProblemsPage: action.payload\n      };\n\n    case LOAD_QUIZES:\n      return {\n        quizesArray: action.payload,\n        spinner: false\n      };\n\n    case SET_QUIZES:\n      return {\n        quizesArray: action.payload\n      };\n\n    case SET_STARTED_QUIZ:\n      localStorage.setItem('startedQuiz', JSON.stringify(action.payload));\n      return {\n        startedQuiz: action.payload\n      };\n\n    case SET_STARTED_QUIZ_ANSWERS:\n      localStorage.setItem('startedQuizAnswers', JSON.stringify(action.payload));\n      return {\n        startedQuizAnswers: action.payload\n      };\n\n    case SUBMIT_STARTED_QUIZ:\n      localStorage.removeItem('startedQuiz');\n      localStorage.removeItem('startedQuizAnswers');\n      return {\n        startedQuiz: null,\n        startedQuizAnswers: null\n      };\n\n    case NEXT_QUIZES_PAGE:\n      return {\n        currentQuizesPage: state.currentQuizesPage + 1\n      };\n\n    case PREVIOUS_QUIZES_PAGE:\n      return {\n        currentQuizesPage: state.currentQuizesPage - 1\n      };\n\n    case SET_QUIZES_PAGE:\n      return {\n        currentQuizesPage: action.payload\n      };\n\n    case LOAD_COURSES:\n      return {\n        coursesArray: action.payload,\n        spinner: false\n      };\n\n    case SET_COURSES:\n      return {\n        coursesArray: action.payload\n      };\n\n    case NEXT_COURSES_PAGE:\n      return {\n        currentCoursesPage: state.currentCoursesPage + 1\n      };\n\n    case PREVIOUS_COURSES_PAGE:\n      return {\n        currentCoursesPage: state.currentCoursesPage - 1\n      };\n\n    case SET_COURSES_PAGE:\n      return {\n        currentCoursesPage: action.payload\n      };\n\n    case LOAD_USERS:\n      return {\n        usersArray: action.payload,\n        spinner: false\n      };\n\n    case SET_USERS:\n      return {\n        usersArray: action.payload\n      };\n\n    case NEXT_USERS_PAGE:\n      return {\n        currentUsersPage: state.currentUsersPage + 1\n      };\n\n    case PREVIOUS_USERS_PAGE:\n      return {\n        currentUsersPage: state.currentUsersPage - 1\n      };\n\n    case SET_USERS_PAGE:\n      return {\n        currentUsersPage: action.payload\n      };\n\n    case LOAD_MEETINGS:\n      return {\n        meetingsArray: action.payload,\n        spinner: false\n      };\n\n    case NEXT_MEETINGS_PAGE:\n      return {\n        currentMeetingsPage: state.currentMeetingsPage + 1\n      };\n\n    case PREVIOUS_MEETINGS_PAGE:\n      return {\n        currentMeetingsPage: state.currentMeetingsPage - 1\n      };\n\n    case SET_MEETINGS_PAGE:\n      return {\n        currentMeetingsPage: action.payload\n      };\n\n    default:\n      return action;\n  }\n};\n\nconst asyncReducer = async (state, action) => {\n  let jsonArray;\n\n  switch (action.type) {\n    case LOAD_PROBLEMS:\n      jsonArray = await retrieveProblems(state);\n      return {\n        type: LOAD_PROBLEMS,\n        payload: jsonArray\n      };\n\n    case LOAD_QUIZES:\n      jsonArray = await retrieveQuizes(state);\n      return {\n        type: LOAD_QUIZES,\n        payload: jsonArray\n      };\n\n    case LOAD_COURSES:\n      jsonArray = await retrieveCourses(state);\n      return {\n        type: LOAD_COURSES,\n        payload: jsonArray\n      };\n\n    case LOAD_USERS:\n      jsonArray = await retrieveUsers(state);\n      return {\n        type: LOAD_USERS,\n        payload: jsonArray\n      };\n\n    case LOAD_MEETINGS:\n      jsonArray = await retrieveMeetings(state);\n      return {\n        type: LOAD_MEETINGS,\n        payload: jsonArray\n      };\n\n    default:\n      return action;\n  }\n};\n\nconst initFromServer = async ({\n  state,\n  dispatch\n}) => {\n  /*dispatch({\n    type: SHOW_OPEN_SPINNER\n  })*/\n};\n\nexport const AppStoreProvider = ({\n  children\n}) => /*#__PURE__*/React.createElement(Provider, {\n  initialState: initialState,\n  asyncReducer: asyncReducer,\n  reducer: reducer,\n  didMount: initFromServer,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 3\n  }\n}, children);\nexport const AppStoreConsumer = Consumer;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/stores/appStore.js"],"names":["React","Provider","Consumer","SHOW_OPEN_SPINNER","HIDE_SPINNER","USER_ID_CHANGE","PASSWORD_CHANGE","SET_ERROR_MESSAGE","ON_LOGIN","LOAD_PROBLEMS","SET_PROBLEMS","NEXT_PROBLEMS_PAGE","PREVIOUS_PROBLEMS_PAGE","SET_PROBLEMS_PAGE","LOAD_COURSES","SET_COURSES","NEXT_COURSES_PAGE","PREVIOUS_COURSES_PAGE","SET_COURSES_PAGE","LOAD_QUIZES","SET_QUIZES","SET_STARTED_QUIZ","SET_STARTED_QUIZ_ANSWERS","SUBMIT_STARTED_QUIZ","NEXT_QUIZES_PAGE","PREVIOUS_QUIZES_PAGE","SET_QUIZES_PAGE","LOAD_USERS","SET_USERS","NEXT_USERS_PAGE","PREVIOUS_USERS_PAGE","SET_USERS_PAGE","LOAD_MEETINGS","NEXT_MEETINGS_PAGE","PREVIOUS_MEETINGS_PAGE","SET_MEETINGS_PAGE","retrieveProblems","retrieveQuizes","retrieveCourses","retrieveUsers","retrieveMeetings","initialState","spinner","userId","password","loggedInUser","localStorage","getItem","loggedInUserFullName","admin","errorMessage","coursesArray","problemsArray","meetingsArray","currentProblemsPage","currentQuizesPage","currentCoursesPage","currentUsersPage","currentMeetingsPage","pageSize","quizesArray","usersArray","startedQuiz","JSON","parse","startedQuizAnswers","reducer","state","action","type","payload","console","log","setItem","data","full_name","stringify","removeItem","asyncReducer","jsonArray","initFromServer","dispatch","AppStoreProvider","children","AppStoreConsumer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Provider, Consumer } from 'react-quickstore';\nimport {SHOW_OPEN_SPINNER, HIDE_SPINNER,\n        USER_ID_CHANGE, PASSWORD_CHANGE, SET_ERROR_MESSAGE, ON_LOGIN,\n        LOAD_PROBLEMS, SET_PROBLEMS, NEXT_PROBLEMS_PAGE, PREVIOUS_PROBLEMS_PAGE, SET_PROBLEMS_PAGE,\n        LOAD_COURSES, SET_COURSES, NEXT_COURSES_PAGE, PREVIOUS_COURSES_PAGE, SET_COURSES_PAGE,\n        LOAD_QUIZES, SET_QUIZES, SET_STARTED_QUIZ, SET_STARTED_QUIZ_ANSWERS, SUBMIT_STARTED_QUIZ,\n        NEXT_QUIZES_PAGE, PREVIOUS_QUIZES_PAGE, SET_QUIZES_PAGE,\n        LOAD_USERS, SET_USERS, NEXT_USERS_PAGE, PREVIOUS_USERS_PAGE, SET_USERS_PAGE,\n        LOAD_MEETINGS, NEXT_MEETINGS_PAGE, PREVIOUS_MEETINGS_PAGE, SET_MEETINGS_PAGE}\n        from './appStoreConstants';\nimport {retrieveProblems, retrieveQuizes, retrieveCourses,\n        retrieveUsers, retrieveMeetings} from '../utils/appUtils';\n\nconst initialState={\n    spinner:false,\n    userId:null,\n    password:null,\n    loggedInUser:localStorage.getItem('loggedInUser') || '',\n    loggedInUserFullName: localStorage.getItem('loggedInUserFullName')||'',\n    admin:localStorage.getItem('admin')||\"0\",\n    errorMessage:null,\n    coursesArray:[],\n    problemsArray:[],\n    meetingsArray:[],\n    currentProblemsPage:1,\n    currentQuizesPage:1,\n    currentCoursesPage:1,\n    currentUsersPage:1,\n    currentMeetingsPage:1,\n    pageSize:30,\n    quizesArray:[],\n    usersArray:[],\n    startedQuiz:localStorage.getItem('startedQuiz')?JSON.parse(localStorage.getItem('startedQuiz')):null,\n    startedQuizAnswers:localStorage.getItem('startedQuizAnswers')?JSON.parse(localStorage.getItem('startedQuizAnswers')):null\n};\n\nconst reducer = (state, action)=>{\n  switch (action.type) {\n    case SHOW_OPEN_SPINNER:\n      return {spinner: true};\n    case HIDE_SPINNER:\n      return {spinner: false};\n    case USER_ID_CHANGE:\n      return {userId: action.payload};\n    case PASSWORD_CHANGE:\n      return {password: action.payload};\n    case SET_ERROR_MESSAGE:\n      return {errorMessage: action.payload};\n    case ON_LOGIN:\n      console.log(action.payload);\n      localStorage.setItem('loggedInUser', action.payload.userId);\n      localStorage.setItem('loggedInUserFullName', data.full_name);\n      localStorage.setItem('admin', data.admin);\n      return action.payload;\n    case LOAD_PROBLEMS:\n      return {problemsArray: action.payload, spinner: false};\n    case SET_PROBLEMS:\n      return {problemsArray: action.payload};\n    case NEXT_PROBLEMS_PAGE:\n        return {currentProblemsPage: state.currentProblemsPage+1};\n    case PREVIOUS_PROBLEMS_PAGE:\n        return {currentProblemsPage: state.currentProblemsPage-1};\n    case SET_PROBLEMS_PAGE:\n        return {currentProblemsPage: action.payload};\n    case LOAD_QUIZES:\n      return {quizesArray: action.payload, spinner: false};\n    case SET_QUIZES:\n      return {quizesArray: action.payload};\n    case SET_STARTED_QUIZ:\n      localStorage.setItem('startedQuiz', JSON.stringify(action.payload));\n      return {startedQuiz: action.payload};\n    case SET_STARTED_QUIZ_ANSWERS:\n      localStorage.setItem('startedQuizAnswers', JSON.stringify(action.payload));\n      return {startedQuizAnswers: action.payload};\n    case SUBMIT_STARTED_QUIZ:\n      localStorage.removeItem('startedQuiz');\n      localStorage.removeItem('startedQuizAnswers');\n      return {startedQuiz:null, startedQuizAnswers:null};\n    case NEXT_QUIZES_PAGE:\n        return {currentQuizesPage: state.currentQuizesPage+1};\n    case PREVIOUS_QUIZES_PAGE:\n        return {currentQuizesPage: state.currentQuizesPage-1};\n    case SET_QUIZES_PAGE:\n        return {currentQuizesPage: action.payload};\n    case LOAD_COURSES:\n      return {coursesArray: action.payload, spinner: false};\n    case SET_COURSES:\n      return {coursesArray: action.payload};\n    case NEXT_COURSES_PAGE:\n        return {currentCoursesPage: state.currentCoursesPage+1};\n    case PREVIOUS_COURSES_PAGE:\n        return {currentCoursesPage: state.currentCoursesPage-1};\n    case SET_COURSES_PAGE:\n        return {currentCoursesPage: action.payload};\n    case LOAD_USERS:\n        return {usersArray: action.payload, spinner: false};\n    case SET_USERS:\n        return {usersArray: action.payload};\n    case NEXT_USERS_PAGE:\n        return {currentUsersPage: state.currentUsersPage+1};\n    case PREVIOUS_USERS_PAGE:\n        return {currentUsersPage: state.currentUsersPage-1};\n    case SET_USERS_PAGE:\n        return {currentUsersPage: action.payload};\n    case LOAD_MEETINGS:\n      return {meetingsArray: action.payload, spinner: false};\n    case NEXT_MEETINGS_PAGE:\n        return {currentMeetingsPage: state.currentMeetingsPage+1};\n    case PREVIOUS_MEETINGS_PAGE:\n        return {currentMeetingsPage: state.currentMeetingsPage-1};\n    case SET_MEETINGS_PAGE:\n        return {currentMeetingsPage: action.payload};\n    default:\n      return action;\n  }\n};\n\nconst asyncReducer=async (state, action) => {\n  let jsonArray;\n  switch(action.type){\n    case LOAD_PROBLEMS:\n      jsonArray=await retrieveProblems(state);\n      return {type: LOAD_PROBLEMS, payload: jsonArray};\n    case LOAD_QUIZES:\n      jsonArray=await retrieveQuizes(state);\n      return {type: LOAD_QUIZES, payload: jsonArray};\n    case LOAD_COURSES:\n      jsonArray=await retrieveCourses(state);\n      return {type: LOAD_COURSES, payload: jsonArray};\n    case LOAD_USERS:\n      jsonArray=await retrieveUsers(state);\n      return {type: LOAD_USERS, payload: jsonArray}\n    case LOAD_MEETINGS:\n      jsonArray=await retrieveMeetings(state);\n      return {type: LOAD_MEETINGS, payload: jsonArray}\n    default:\n      return action;\n  }\n};\n\nconst initFromServer = async({state, dispatch}) => {\n  /*dispatch({\n    type: SHOW_OPEN_SPINNER\n  })*/\n};\n\nexport const AppStoreProvider=({children}) => (\n  <Provider initialState={initialState} asyncReducer={asyncReducer} reducer={reducer} didMount={initFromServer}>\n    {children}\n  </Provider>\n);\n\nexport const AppStoreConsumer=Consumer;\n"]},"metadata":{},"sourceType":"module"}