{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/components/QuizInsert.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport data from './data';\nimport { Redirect } from 'react-router-dom';\n\nclass QuizInsert extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spinner: false,\n      duration_minutes: 30,\n      description: '',\n      quizType: \"d\",\n      courseSearchKey: '',\n      selectedCourseId: '',\n      courseObjectsFiltered: [],\n      coursesAddedArray: [],\n      augmentedCourseObjects: [],\n      augmentedCourseObjectsPrior: [],\n      problemSearchKey: '',\n      problemSearchResults: [],\n      problemsAddedArray: [],\n\n      /*courseId:null,\n      courseName:'UnAssigned',*/\n      icons: data.icons\n    };\n    this.baseState = {\n      description: ''\n    };\n    this.descriptionChange = this.descriptionChange.bind(this); //this.selectChange=this.selectChange.bind(this);\n\n    this.handleQuizInsert = this.handleQuizInsert.bind(this);\n    this.durationChange = this.durationChange.bind(this);\n    this.quizTypeSelectChange = this.quizTypeSelectChange.bind(this);\n    this.checkStaticCourse = this.checkStaticCourse.bind(this);\n    this.courseSearchBoxChange = this.courseSearchBoxChange.bind(this);\n    this.courseObjectsFilteredClick = this.courseObjectsFilteredClick.bind(this);\n    this.AddCourseToCoursesArray = this.AddCourseToCoursesArray.bind(this);\n    this.problemSearchKeyChange = this.problemSearchKeyChange.bind(this);\n    this.checkStaticProblem = this.checkStaticProblem.bind(this);\n    this.removeProblemFromProblemsArray = this.removeProblemFromProblemsArray.bind(this);\n    this.addProblemToProblemsArray = this.addProblemToProblemsArray.bind(this);\n  }\n\n  quizTypeSelectChange(e) {\n    var new_quizType = e.target.value;\n    var new_quizTypeDescription = e.target.options[e.target.selectedIndex].text;\n    this.setState({\n      quizType: new_quizType\n    });\n    console.log(new_quizType);\n  }\n\n  removeProblemFromProblemsArray(e, problemId) {\n    let problemsArray = this.state.problemsAddedArray.filter(val => val.id !== problemId);\n    this.setState({\n      problemsAddedArray: problemsArray\n    }); //console.log(quizesArray);\n  }\n\n  addProblemToProblemsArray(e, probObj) {\n    console.log(probObj.type);\n    let problemsArray = [...this.state.problemsAddedArray];\n\n    if (problemsArray.filter(val => val.id === probObj.id).length > 0) {\n      alert('Problem redundant');\n    } else if (probObj.type !== this.state.quizType) {\n      alert('Quiz and Problem should of the same type');\n    } else {\n      problemsArray.push(probObj);\n      this.setState({\n        problemsAddedArray: problemsArray\n      });\n      ReactDOM.findDOMNode(this.refs.quizProblems).focus(); //alert('Problem Added');\n    }\n  }\n\n  problemSearchKeyChange(e) {\n    const strSearchKey = e.target.value;\n    var timer = setTimeout(() => {\n      this.checkStaticProblem(strSearchKey);\n    }, 1000);\n    this.setState({\n      problemSearchKey: strSearchKey\n    });\n  }\n\n  async checkStaticProblem(currentValue) {\n    if (currentValue === this.state.problemSearchKey && currentValue !== '') {\n      //console.log('static value'+currentValue);\n      var reqBody = \"searchKey=\" + encodeURIComponent(this.state.problemSearchKey);\n      let searchResults = await fetch(`/api/searchProblems`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      });\n      let searchJson = await searchResults.json(); //console.log(searchJson);\n\n      this.setState({\n        problemSearchResults: searchJson\n      });\n    } else if (currentValue === this.state.problemSearchKey && currentValue === '') {\n      this.setState({\n        problemSearchResults: []\n      });\n    }\n  }\n\n  courseObjectsFilteredClick(str, courseId, e) {\n    this.setState({\n      courseSearchKey: str,\n      selectedCourseId: courseId,\n      courseObjectsFiltered: [],\n      augmentedCourseObjectsPrior: this.state.augmentedCourseObjects,\n      augmentedCourseObjects: []\n    });\n  }\n\n  courseSearchBoxChange(e) {\n    let strSearchKey = e.target.value;\n    var timer = setTimeout(() => {\n      this.checkStaticCourse(strSearchKey);\n    }, 1000);\n    const courseObjectsFiltered = e.target.value !== '' ? this.props.coursesArray.filter(val => val.name.toUpperCase().startsWith(strSearchKey.toUpperCase())) : []; //const courseObjectsFiltered=this.props.coursesArray.filter((val)=>val.description.toUpperCase().startsWith(e.target.value.toUpperCase()));\n\n    this.setState({\n      courseSearchKey: e.target.value,\n      courseObjectsFiltered: courseObjectsFiltered\n    });\n  }\n\n  async checkStaticCourse(currentValue) {\n    if (currentValue === this.state.courseSearchKey && currentValue !== '') {\n      //console.log('static value'+currentValue);\n      var reqBody = \"searchKey=\" + encodeURIComponent(this.state.courseSearchKey);\n      let searchResults = await fetch(`/api/searchCoursesForPrefix`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      });\n      let prefixSearchResults = await searchResults.json();\n      let augmentedCourseObjects = [];\n      prefixSearchResults.forEach(ele => {\n        let len = this.state.courseObjectsFiltered.filter(val => val.id === ele.id).length;\n        if (len <= 0) augmentedCourseObjects.push(ele);\n      }); //console.log(augmentedCourseObjects);\n\n      this.setState({\n        augmentedCourseObjects: augmentedCourseObjects\n      });\n    } else if (currentValue === this.state.courseSearchKey && currentValue === '') {\n      this.setState({\n        augmentedCourseObjects: []\n      });\n    }\n  }\n\n  AddCourseToCoursesArray(e) {\n    let courseObjectsFilteredAugmented = [...this.props.coursesArray];\n    courseObjectsFilteredAugmented = courseObjectsFilteredAugmented.concat(this.state.augmentedCourseObjectsPrior);\n    const filteredArray = courseObjectsFilteredAugmented.filter(val => val.name.toUpperCase() === this.state.courseSearchKey.toUpperCase() && val.id === this.state.selectedCourseId);\n\n    if (filteredArray.length < 1) {\n      alert('Search key does not match any available  \\n\\t quiz description');\n    } else if (filteredArray.length > 1) {\n      alert('Search key matches multiple quizes\\' description!\\n\\t please choose another one');\n    } else {\n      console.log('filtered course object\\n' + JSON.stringify(filteredArray[0]));\n      let coursesArray = [...this.state.coursesAddedArray];\n      coursesArray.push(filteredArray[0]); //this.props.addCourseToCoursesArraySubmit(filteredArray[0]);\n\n      this.setState({\n        courseSearchKey: '',\n        selectedCourseId: '',\n        coursesAddedArray: coursesArray\n      });\n    }\n  }\n\n  removeCourseFromCoursesArray(e, courseId) {\n    let coursesArray = this.state.coursesAddedArray.filter(val => val.id !== courseId);\n    this.setState({\n      coursesAddedArray: coursesArray\n    });\n  }\n\n  handleQuizInsert() {\n    if (this.state.description === '') {\n      alert('Description cannot be empty');\n      return;\n    } else if (this.state.duration_minutes === '') {\n      alert('Duration cannot be empty');\n      return;\n    } else if (isNaN(this.state.duration_minutes)) {\n      alert('Duration has to be a number');\n      return;\n    } else {\n      this.props.showSpinner();\n      var reqBody = \"quizDescription=\" + encodeURIComponent(this.state.description);\n      reqBody += \"&duration_minutes=\" + encodeURIComponent(this.state.duration_minutes);\n      reqBody += \"&coursesArray=\" + encodeURIComponent(JSON.stringify(this.state.coursesAddedArray));\n      reqBody += \"&problemsArray=\" + encodeURIComponent(JSON.stringify(this.state.problemsAddedArray)); //reqBody+=\"&courseId=\"+encodeURIComponent(this.state.courseId);\n\n      reqBody += '&authorName=' + encodeURIComponent(this.props.loggedInUser);\n      fetch(`/api/insertQuizAction`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      }).then(res => res.json()).then(data => {\n        //if(data.updatestatus==\"ok\")\n        let quizesArrayCopy = [...this.props.quizesArray];\n        let obj = {\n          id: data.quizId,\n          description: this.state.description,\n          duration_minutes: this.state.duration_minutes,\n          name: this.state.courseName,\n          author_id: this.props.loggedInUser\n        };\n        quizesArrayCopy.push(obj);\n        this.props.setQuizes(quizesArrayCopy);\n        this.setState(this.baseState);\n        this.props.hideSpinner();\n        alert('Quiz inserted');\n        window.location.assign(\"http://\" + window.location.hostname + ':' + window.location.port + \"/quizesBrowse\");\n      });\n    }\n  }\n\n  durationChange(e) {\n    this.setState({\n      duration_minutes: e.target.value\n    });\n  }\n\n  descriptionChange(e) {\n    //console.log(this.state.courseId+' '+this.state.courseName);\n    const new_description = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      description: new_description\n    });\n  }\n\n  componentDidMount() {\n    this.props.loadCourses();\n    /*if(this.state.courseId===undefined && this.props.coursesArray.length>0)\n        this.setState({courseId:this.props.coursesArray[0].id, courseName:this.props.coursesArray[0].name});*/\n  }\n  /*selectChange(e){\n    //console.log(e.target.value);\n    var new_courseId=e.target.value;\n    var new_courseName=e.target.options[e.target.selectedIndex].text;\n    this.setState({courseId:new_courseId, courseName:new_courseName});\n  }*/\n\n\n  render() {\n    if (this.props.loggedInUser === '') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/errorLogin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 14\n        }\n      });\n    }\n\n    let courseObjectsFilteredAugmented = [...this.state.courseObjectsFiltered];\n    courseObjectsFilteredAugmented = courseObjectsFilteredAugmented.concat(this.state.augmentedCourseObjects);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quizInsert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"HomeLink\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"homeIcon\",\n      src: this.state.icons.home,\n      alt: \"back to home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 7\n      }\n    }, \"Insert Quiz\"), /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }\n    }, \"Quiz Type:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"quizType\",\n      onChange: this.quizTypeSelectChange,\n      name: \"quizType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"d\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 12\n      }\n    }, \"Descriptive\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"m\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 12\n      }\n    }, \"Multiple Choice\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }), \"Duration (minutes):\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"durationMinutes\",\n      style: {\n        marginLeft: '23px'\n      },\n      onChange: this.durationChange,\n      value: this.state.duration_minutes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 14\n      }\n    }), \"Quiz Description:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"quizDescription\",\n      name: \"quizDescription\",\n      type: \"text\",\n      rows: \"10\",\n      style: {\n        width: '90%'\n      },\n      onChange: this.descriptionChange,\n      value: this.state.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 16\n      }\n    }), \"Author:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"authorName\",\n      name: \"authorName\",\n      type: \"text\",\n      style: {\n        width: '100px',\n        textAlign: 'center'\n      },\n      required: \"true\",\n      value: this.props.loggedInUser,\n      readonly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }\n    }), \"Courses:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"AddToDialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"searchBox\",\n      type: \"text\",\n      name: \"searchBox\",\n      className: \"searchBox\",\n      value: this.state.courseSearchKey,\n      onChange: this.courseSearchBoxChange,\n      placeholder: \"Type first letters of quiz \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 18\n      }\n    }, courseObjectsFilteredAugmented.map(obj => /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => this.courseObjectsFilteredClick(obj.name, obj.id, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 63\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 136\n      }\n    }, obj.name.substring(0, this.state.courseSearchKey.length)), obj.name.substring(this.state.courseSearchKey.length), \"(\", obj.id, \")\")))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Add Course\",\n      onClick: e => this.AddCourseToCoursesArray(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }\n    }, this.state.coursesAddedArray !== undefined ? this.state.coursesAddedArray.map(objQ => /*#__PURE__*/React.createElement(\"div\", {\n      id: objQ.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 19\n      }\n    }, \"|\", objQ.name, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"closeBtn\",\n      onClick: e => this.removeCourseFromCoursesArray(e, objQ.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 20\n      }\n    }, \"\\xD7\"), \"\\xA0|\")) : null), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 16\n      }\n    }), \"Quiz Problems:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }\n    }, this.state.problemsAddedArray !== undefined ? this.state.problemsAddedArray.map((obj, i, arr) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 17\n        }\n      }), i === arr.length - 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        id: `par$,${obj.id}`,\n        ref: \"quizProblems\",\n        tabIndex: 0,\n        className: \"probParent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 23\n        }\n      }, \"Description\"), \":\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"button\",\n        id: 'b' + obj.id,\n        value: \"remove from quiz\",\n        onClick: e => this.removeProblemFromProblemsArray(e, obj.id),\n        className: \"EditButton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 24\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        id: 'P' + obj.id,\n        dangerouslySetInnerHTML: {\n          __html: obj.description\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 24\n        }\n      }, \"Author\"), \": \", obj.author_id) : /*#__PURE__*/React.createElement(\"div\", {\n        id: `par$,${obj.id}`,\n        className: \"probParent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 25\n        }\n      }, \"Description\"), \":\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"button\",\n        id: 'b' + obj.id,\n        value: \"remove from quiz\",\n        onClick: e => this.removeProblemFromProblemsArray(e, obj.id),\n        className: \"EditButton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        id: 'P' + obj.id,\n        dangerouslySetInnerHTML: {\n          __html: obj.description\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 26\n        }\n      }, \"Author\"), \": \", obj.author_id));\n    }) : null), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }\n    }, \"Add Problem\"), \":\", /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"problemSearchKey\",\n      className: \"searchBox\",\n      onChange: this.problemSearchKeyChange,\n      placeholder: \"type a word that is likely to be in the problem text\",\n      value: this.state.problemSearchKey,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 12\n      }\n    }), this.state.problemSearchResults !== undefined && this.state.problemSearchResults.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        fontSize: '1.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 101\n      }\n    }, \"Search Results\") : null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 13\n      }\n    }, \"this.state.problemSearchResults.map(obj=>(\", /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: `par$,${obj.id}`,\n      className: \"probParent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      id: 'a' + obj.id,\n      value: \"add to quiz\",\n      onClick: e => this.addProblemToProblemsArray(e, obj),\n      className: \"EditButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 20\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 20\n      }\n    }, \"Problem Description: \"), /*#__PURE__*/React.createElement(\"a\", {\n      href: `./problemShowSelected/${obj.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: `problemDescription$,${obj.id}`,\n      dangerouslySetInnerHTML: {\n        __html: obj.description\n      },\n      className: \"Question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 20\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 20\n      }\n    }, \"Author: \"), /*#__PURE__*/React.createElement(\"a\", {\n      href: `http://${window.location.hostname}:${window.location.port}/userShowSelected/${obj.author_id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: `author$,${obj.id}`,\n      style: {\n        marginLeft: '30px'\n      },\n      className: \"Quiz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 22\n      }\n    }, obj.author_id)), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      id: `quizId$,'${obj.id}`,\n      value: obj.quiz_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 20\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 20\n      }\n    })), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 16\n      }\n    })), \") )\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Insert Quiz\",\n      onClick: this.handleQuizInsert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 12\n      }\n    })));\n  }\n\n}\n\nexport default QuizInsert;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/components/QuizInsert.js"],"names":["React","ReactDOM","data","Redirect","QuizInsert","Component","constructor","props","state","spinner","duration_minutes","description","quizType","courseSearchKey","selectedCourseId","courseObjectsFiltered","coursesAddedArray","augmentedCourseObjects","augmentedCourseObjectsPrior","problemSearchKey","problemSearchResults","problemsAddedArray","icons","baseState","descriptionChange","bind","handleQuizInsert","durationChange","quizTypeSelectChange","checkStaticCourse","courseSearchBoxChange","courseObjectsFilteredClick","AddCourseToCoursesArray","problemSearchKeyChange","checkStaticProblem","removeProblemFromProblemsArray","addProblemToProblemsArray","e","new_quizType","target","value","new_quizTypeDescription","options","selectedIndex","text","setState","console","log","problemId","problemsArray","filter","val","id","probObj","type","length","alert","push","findDOMNode","refs","quizProblems","focus","strSearchKey","timer","setTimeout","currentValue","reqBody","encodeURIComponent","searchResults","fetch","headers","method","body","searchJson","json","str","courseId","coursesArray","name","toUpperCase","startsWith","prefixSearchResults","forEach","ele","len","courseObjectsFilteredAugmented","concat","filteredArray","JSON","stringify","removeCourseFromCoursesArray","isNaN","showSpinner","loggedInUser","then","res","quizesArrayCopy","quizesArray","obj","quizId","courseName","author_id","setQuizes","hideSpinner","window","location","assign","hostname","port","new_description","componentDidMount","loadCourses","render","home","marginLeft","width","textAlign","map","substring","undefined","objQ","i","arr","__html","fontSize","quiz_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom'\nimport data from './data';\nimport {  Redirect } from 'react-router-dom';\n\nclass QuizInsert extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state={\n      spinner:false,\n      duration_minutes:30,\n      description:'',\n      quizType: \"d\",\n      courseSearchKey: '',\n      selectedCourseId:'',\n      courseObjectsFiltered:[],\n      coursesAddedArray:[],\n      augmentedCourseObjects:[],\n      augmentedCourseObjectsPrior:[],\n      problemSearchKey:'',\n      problemSearchResults:[],\n      problemsAddedArray:[],\n      /*courseId:null,\n      courseName:'UnAssigned',*/\n      icons: data.icons\n    }\n    this.baseState={\n      description:''\n    }\n    this.descriptionChange=this.descriptionChange.bind(this);\n    //this.selectChange=this.selectChange.bind(this);\n    this.handleQuizInsert=this.handleQuizInsert.bind(this);\n    this.durationChange=this.durationChange.bind(this);\n    this.quizTypeSelectChange=this.quizTypeSelectChange.bind(this);\n\n    this.checkStaticCourse=this.checkStaticCourse.bind(this);\n    this.courseSearchBoxChange=this.courseSearchBoxChange.bind(this);\n    this.courseObjectsFilteredClick=this.courseObjectsFilteredClick.bind(this);\n    this.AddCourseToCoursesArray=this.AddCourseToCoursesArray.bind(this);\n    this.problemSearchKeyChange=this.problemSearchKeyChange.bind(this);\n    this.checkStaticProblem=this.checkStaticProblem.bind(this);\n    this.removeProblemFromProblemsArray=this.removeProblemFromProblemsArray.bind(this);\n    this.addProblemToProblemsArray=this.addProblemToProblemsArray.bind(this);\n  }\n\n  quizTypeSelectChange(e){\n    var new_quizType=e.target.value;\n    var new_quizTypeDescription=e.target.options[e.target.selectedIndex].text;\n    this.setState({quizType:new_quizType});\n    console.log(new_quizType);\n  }\n\n  removeProblemFromProblemsArray(e,problemId){\n    let problemsArray =  this.state.problemsAddedArray.filter(val=>val.id!==problemId)\n    this.setState({problemsAddedArray:problemsArray});\n    //console.log(quizesArray);\n  }\n\n  addProblemToProblemsArray(e,probObj){\n    console.log(probObj.type);\n    let problemsArray =  [...this.state.problemsAddedArray];\n    if(problemsArray.filter(val=>val.id===probObj.id).length>0){\n      alert('Problem redundant')\n    }\n    else if(probObj.type!==this.state.quizType){\n        alert('Quiz and Problem should of the same type');\n    }\n    else {\n       problemsArray.push(probObj);\n       this.setState({problemsAddedArray:problemsArray});\n       ReactDOM.findDOMNode(this.refs.quizProblems).focus();\n       //alert('Problem Added');\n    }\n  }\n\n  problemSearchKeyChange(e){\n    const strSearchKey=e.target.value;\n    var timer = setTimeout(() => {this.checkStaticProblem(strSearchKey);}, 1000);\n    this.setState({problemSearchKey: strSearchKey});\n  }\n\n  async checkStaticProblem(currentValue){\n    if(currentValue===this.state.problemSearchKey&&currentValue!==''){\n      //console.log('static value'+currentValue);\n      var reqBody=\"searchKey=\"+encodeURIComponent(this.state.problemSearchKey);\n      let searchResults=await fetch(`/api/searchProblems`, {\n              headers:{\n                'Accept':'application/json',\n                'Content-type': 'application/x-www-form-urlencoded'\n              },\n              method: 'POST',\n              body: reqBody\n            });\n      let searchJson=await searchResults.json();\n      //console.log(searchJson);\n      this.setState({problemSearchResults:searchJson});\n    }\n    else if(currentValue===this.state.problemSearchKey && currentValue===''){\n      this.setState({problemSearchResults:[]})\n    }\n  }\n\n  courseObjectsFilteredClick(str, courseId, e){\n    this.setState({courseSearchKey: str, selectedCourseId: courseId, courseObjectsFiltered: [],\n        augmentedCourseObjectsPrior: this.state.augmentedCourseObjects, augmentedCourseObjects:[]});\n  }\n\n  courseSearchBoxChange(e){\n    let strSearchKey=e.target.value;\n    var timer = setTimeout(() => {this.checkStaticCourse(strSearchKey);}, 1000);\n    const courseObjectsFiltered=e.target.value!==''?this.props.coursesArray.filter((val)=>val.name.toUpperCase().startsWith(strSearchKey.toUpperCase())):[];\n    //const courseObjectsFiltered=this.props.coursesArray.filter((val)=>val.description.toUpperCase().startsWith(e.target.value.toUpperCase()));\n    this.setState({courseSearchKey: e.target.value, courseObjectsFiltered: courseObjectsFiltered});\n  }\n\n  async checkStaticCourse(currentValue){\n    if(currentValue===this.state.courseSearchKey && currentValue!==''){\n      //console.log('static value'+currentValue);\n      var reqBody=\"searchKey=\"+encodeURIComponent(this.state.courseSearchKey);\n      let searchResults=await fetch(`/api/searchCoursesForPrefix`, {\n              headers:{\n                'Accept':'application/json',\n                'Content-type': 'application/x-www-form-urlencoded'\n              },\n              method: 'POST',\n              body: reqBody\n            });\n      let prefixSearchResults=await searchResults.json();\n\n      let augmentedCourseObjects=[];\n      prefixSearchResults.forEach(ele=>{\n        let len=this.state.courseObjectsFiltered.filter(val=>val.id===ele.id).length;\n        if(len<=0)\n          augmentedCourseObjects.push(ele);\n      })\n      //console.log(augmentedCourseObjects);\n      this.setState({augmentedCourseObjects:augmentedCourseObjects});\n    }\n    else if(currentValue===this.state.courseSearchKey && currentValue===''){\n            this.setState({augmentedCourseObjects:[]})\n    }\n  }\n\n  AddCourseToCoursesArray(e){\n        let courseObjectsFilteredAugmented=[...this.props.coursesArray];\n        courseObjectsFilteredAugmented=courseObjectsFilteredAugmented.concat(this.state.augmentedCourseObjectsPrior);\n\n        const filteredArray=courseObjectsFilteredAugmented.filter((val)=>val.name.toUpperCase()===this.state.courseSearchKey.toUpperCase()&&val.id===this.state.selectedCourseId);\n        if(filteredArray.length<1){\n          alert('Search key does not match any available  \\n\\t quiz description');\n        }\n        else if(filteredArray.length>1){\n          alert('Search key matches multiple quizes\\' description!\\n\\t please choose another one');\n        }\n        else {\n          console.log('filtered course object\\n'+JSON.stringify(filteredArray[0]));\n          let coursesArray=[...this.state.coursesAddedArray];\n          coursesArray.push(filteredArray[0]);\n          //this.props.addCourseToCoursesArraySubmit(filteredArray[0]);\n          this.setState({courseSearchKey:'', selectedCourseId:'', coursesAddedArray: coursesArray})\n        }\n  }\n\n  removeCourseFromCoursesArray(e, courseId){\n    let coursesArray=this.state.coursesAddedArray.filter(val=>val.id!==courseId);\n    this.setState({coursesAddedArray:coursesArray});\n  }\n\n  handleQuizInsert(){\n    if(this.state.description===''){\n      alert('Description cannot be empty');\n      return;\n    }\n    else if(this.state.duration_minutes===''){\n      alert('Duration cannot be empty');\n      return;\n    }\n    else if(isNaN(this.state.duration_minutes)){\n      alert('Duration has to be a number');\n      return;\n    }\n    else{\n      this.props.showSpinner();\n      var reqBody=\"quizDescription=\"+encodeURIComponent(this.state.description);\n          reqBody+=\"&duration_minutes=\"+encodeURIComponent(this.state.duration_minutes);\n          reqBody+=\"&coursesArray=\"+encodeURIComponent(JSON.stringify(this.state.coursesAddedArray));\n          reqBody+=\"&problemsArray=\"+encodeURIComponent(JSON.stringify(this.state.problemsAddedArray));\n          //reqBody+=\"&courseId=\"+encodeURIComponent(this.state.courseId);\n          reqBody+='&authorName='+encodeURIComponent(this.props.loggedInUser);\n\n      fetch(`/api/insertQuizAction`, {\n        headers:{\n          'Accept':'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      })\n      .then(res=>res.json())\n      .then(data=>{\n          //if(data.updatestatus==\"ok\")\n              let quizesArrayCopy=[...this.props.quizesArray];\n              let obj={\n                id: data.quizId,\n                description: this.state.description,\n                duration_minutes: this.state.duration_minutes,\n                name:this.state.courseName,\n                author_id:this.props.loggedInUser\n              };\n              quizesArrayCopy.push(obj);\n              this.props.setQuizes(quizesArrayCopy);\n              this.setState(this.baseState);\n              this.props.hideSpinner();\n              alert('Quiz inserted');\n              window.location.assign(\"http://\"+window.location.hostname+':'+window.location.port+\"/quizesBrowse\");\n      })\n\n    }\n\n  }\n\n  durationChange(e){\n    this.setState({duration_minutes:e.target.value})\n  }\n\n  descriptionChange(e){\n    //console.log(this.state.courseId+' '+this.state.courseName);\n    const new_description=e.target.value;\n    //console.log(e.target.value);\n    this.setState({description:new_description});\n  }\n\n  componentDidMount(){\n    this.props.loadCourses();\n    /*if(this.state.courseId===undefined && this.props.coursesArray.length>0)\n        this.setState({courseId:this.props.coursesArray[0].id, courseName:this.props.coursesArray[0].name});*/\n  }\n\n  /*selectChange(e){\n    //console.log(e.target.value);\n    var new_courseId=e.target.value;\n    var new_courseName=e.target.options[e.target.selectedIndex].text;\n    this.setState({courseId:new_courseId, courseName:new_courseName});\n  }*/\n\n  render(){\n    if(this.props.loggedInUser===''){\n      return <Redirect to=\"/errorLogin\"/>\n    }\n\n    let courseObjectsFilteredAugmented=[...this.state.courseObjectsFiltered];\n    courseObjectsFilteredAugmented=courseObjectsFilteredAugmented.concat(this.state.augmentedCourseObjects);\n\n    return (\n      <div className=\"quizInsert\">\n      <a class=\"HomeLink\" href=\"/\">\n          <img class=\"homeIcon\" src={this.state.icons.home} alt=\"back to home\"/>\n      {/*back to home*/}\n      </a>\n      <div class=\"h1\">\n        Insert Quiz\n      </div>\n        <fieldset>\n        Quiz Type:\n        <select id=\"quizType\" onChange={this.quizTypeSelectChange} name=\"quizType\">\n           <option value=\"d\">Descriptive</option>\n           <option value=\"m\">Multiple Choice</option>\n         </select>\n         <br/><br/>\n        Duration (minutes):<br/>\n        <input type=\"text\" id=\"durationMinutes\" style={{marginLeft:'23px'}}\n        onChange={this.durationChange}\n        value={this.state.duration_minutes}></input>\n        <br/><br/>\n          Quiz Description:<br/>\n          <textarea id=\"quizDescription\" name=\"quizDescription\" type=\"text\" rows=\"10\"\n          style={{width:'90%'}}\n          onChange={this.descriptionChange}\n          value={this.state.description}\n           >\n          </textarea>\n          <br/><br/>\n          Author:<br/>\n          <input id=\"authorName\" name=\"authorName\" type=\"text\" style={{width:'100px', textAlign: 'center'}}\n          required=\"true\" value={this.props.loggedInUser} readonly>\n          </input>\n          <br/>\n          <br/>\n          Courses:<br/>\n          {/*<select id=\"courseId\" onChange={this.selectChange}  name=\"courseId\" required=\"true\">\n              <option value=\"null\">UnAssigned</option>\n          {\n              this.props.coursesArray.map(obj=>(\n                <option value={obj.id}>{obj.name}</option>\n                )\n              )\n          }\n          </select>*/}\n          <div id=\"AddToDialog\">\n              <div className=\"autocomplete\">\n                 <input id=\"searchBox\" type=\"text\" name=\"searchBox\"\n                    className=\"searchBox\"\n                   value={this.state.courseSearchKey}\n                   onChange={this.courseSearchBoxChange}\n                  placeholder=\"Type first letters of quiz \"/>\n                 <div className=\"autocomplete-items\">\n                   {\n                     courseObjectsFilteredAugmented.map(obj=>(<div onClick={(e)=>this.courseObjectsFilteredClick(obj.name, obj.id, e)}><strong>{obj.name.substring(0,this.state.courseSearchKey.length)}</strong>{obj.name.substring(this.state.courseSearchKey.length)}({obj.id})</div>))\n                   }\n                 </div>\n              </div>\n              <input type=\"submit\" value=\"Add Course\" onClick={(e)=>this.AddCourseToCoursesArray(e)}/>\n          </div>\n          <br/>\n          <div>\n          {\n              this.state.coursesAddedArray!==undefined?\n              ( this.state.coursesAddedArray.map(objQ=>(\n                  <div   id={objQ.id} >|{objQ.name}\n                   <span className=\"closeBtn\"\n                     onClick={(e)=>this.removeCourseFromCoursesArray(e, objQ.id)}>&times;</span>&nbsp;|\n                  </div>\n                  )\n                )\n              ):null\n          }\n          </div>\n          <br/><br/>\n          Quiz Problems:<br/>\n          <div>\n          {\n            this.state.problemsAddedArray!==undefined?\n            ( this.state.problemsAddedArray.map((obj, i, arr)=>{\n              return (\n                <>\n                <hr/>\n                {i===arr.length-1?\n                      (<div id={`par$,${obj.id}`} ref = \"quizProblems\" tabIndex={0} className=\"probParent\">\n                      <b>Description</b>:\n                       <input type=\"button\" id={'b'+obj.id} value=\"remove from quiz\" onClick={(e)=>this.removeProblemFromProblemsArray(e,obj.id)} className=\"EditButton\"/>\n                      <span id={'P'+obj.id}\n                       dangerouslySetInnerHTML={{\n                         __html: obj.description\n                       }}/>\n                       <b>Author</b>: {obj.author_id}\n                      </div>\n                      ):\n                      (\n                        <div id={`par$,${obj.id}`} className=\"probParent\">\n                        <b>Description</b>:\n                         <input type=\"button\" id={'b'+obj.id} value=\"remove from quiz\" onClick={(e)=>this.removeProblemFromProblemsArray(e,obj.id)} className=\"EditButton\"/>\n                        <span id={'P'+obj.id}\n                         dangerouslySetInnerHTML={{\n                           __html: obj.description\n                         }}/>\n                         <b>Author</b>: {obj.author_id}\n                        </div>\n                      )\n                }\n                </>)\n            })\n            ):null\n          }\n          </div>\n          <hr/>\n          <br/>\n          <b>Add Problem</b>:\n           <div style={{textAlign: 'center'}}>\n                <input type=\"text\" id=\"problemSearchKey\" className=\"searchBox\"\n                onChange={this.problemSearchKeyChange}\n                placeholder=\"type a word that is likely to be in the problem text\"\n                value={this.state.problemSearchKey}></input>\n           </div>\n           <br/>\n           {\n             this.state.problemSearchResults!==undefined&&this.state.problemSearchResults.length>0?(<div style={{textAlign: 'center', fontSize: '1.5em'}}>Search Results</div>):null\n           }\n           {\n            <div>\n            this.state.problemSearchResults.map(obj=>(\n             <>\n             <br/>\n             <div id={`par$,${obj.id}`} className=\"probParent\">\n                   <input type=\"button\" id={'a'+obj.id} value=\"add to quiz\"\n                          onClick={(e)=>this.addProblemToProblemsArray(e,obj)}\n                          className=\"EditButton\"\n                   />\n                   <b>Problem Description: </b>\n                   <a href={`./problemShowSelected/${obj.id}`}>\n                       <div id={`problemDescription$,${obj.id}`}\n                       dangerouslySetInnerHTML={{__html: obj.description}}\n                       className=\"Question\">\n                       </div>\n                   </a>\n                   <br/>\n                   <b>Author: </b>\n                   <a href={`http://${window.location.hostname}:${window.location.port}/userShowSelected/${obj.author_id}`}>\n                     <div id={`author$,${obj.id}`} style={{marginLeft:'30px'}} className=\"Quiz\">\n                     {obj.author_id}\n                     </div>\n                   </a>\n                   <input type=\"hidden\" id={`quizId$,'${obj.id}`} value={obj.quiz_id}/>\n                   <br/>\n               </div>\n               <hr />\n               </>\n               )\n             )\n             </div>\n           }\n          <br/><br/>\n          <br/>\n           <input type=\"button\" value=\"Insert Quiz\" onClick={this.handleQuizInsert}/>\n        </fieldset>\n      </div>\n    )\n  }\n\n}\n\nexport default QuizInsert;\n"]},"metadata":{},"sourceType":"module"}