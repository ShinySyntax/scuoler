{"ast":null,"code":"import _toConsumableArray from\"/home/mathew/javascript/ischools-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/mathew/javascript/ischools-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mathew/javascript/ischools-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/mathew/javascript/ischools-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mathew/javascript/ischools-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mathew/javascript/ischools-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect}from'react-router-dom';var UserInsert=/*#__PURE__*/function(_React$Component){_inherits(UserInsert,_React$Component);var _super=_createSuper(UserInsert);function UserInsert(props){var _this;_classCallCheck(this,UserInsert);_this=_super.call(this,props);_this.state={spinner:false,userId:'',password:'',firstName:'',lastName:'',address1:'',address2:'',city:'',zip:'',phone:'',cell:'',email:''};_this.baseState=_this.state;_this.userIdChange=_this.userIdChange.bind(_assertThisInitialized(_this));_this.passwordChange=_this.passwordChange.bind(_assertThisInitialized(_this));_this.firstNameChange=_this.firstNameChange.bind(_assertThisInitialized(_this));_this.lastNameChange=_this.lastNameChange.bind(_assertThisInitialized(_this));_this.address1Change=_this.address1Change.bind(_assertThisInitialized(_this));_this.address2Change=_this.address2Change.bind(_assertThisInitialized(_this));_this.cityChange=_this.cityChange.bind(_assertThisInitialized(_this));_this.zipChange=_this.zipChange.bind(_assertThisInitialized(_this));_this.phoneChange=_this.phoneChange.bind(_assertThisInitialized(_this));_this.cellChange=_this.cellChange.bind(_assertThisInitialized(_this));_this.emailChange=_this.emailChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(UserInsert,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;if(this.state.userId===''||this.state.password===''){alert('UserId/Password cannot be empty');return;}else{this.props.showSpinner();var reqBody='userId='+encodeURIComponent(this.state.userId);reqBody+='&password='+encodeURIComponent(this.state.password);reqBody+='&firstName='+encodeURIComponent(this.state.firstName);reqBody+='&lastName='+encodeURIComponent(this.state.lastName);reqBody+='&address1='+encodeURIComponent(this.state.address1);reqBody+='&address2='+encodeURIComponent(this.state.address2);reqBody+='&city='+encodeURIComponent(this.state.city);reqBody+='&zip='+encodeURIComponent(this.state.zip);reqBody+='&phone='+encodeURIComponent(this.state.phone);reqBody+='&cell='+encodeURIComponent(this.state.cell);reqBody+='&email='+encodeURIComponent(this.state.email);fetch(\"/api/insertUserAction\",{headers:{'Accept':'application/json','Content-type':'application/x-www-form-urlencoded'},method:'POST',body:reqBody}).then(function(res){return res.json();}).then(function(data){//if(data.updatestatus==\"ok\")\nvar usersArrayCopy=_toConsumableArray(_this2.props.usersArray);var obj={id:_this2.state.userId,password:_this2.state.password,first_name:_this2.state.firstName,last_name:_this2.state.lastName,address1:_this2.state.address1,address2:_this2.state.address2,city:_this2.state.city,zip:_this2.state.zip,phone:_this2.state.phone,mobile:_this2.state.cell,email:_this2.state.email};usersArrayCopy.push(obj);_this2.props.setUsers(usersArrayCopy);_this2.setState(_this2.baseState);_this2.props.hideSpinner();alert('User inserted');window.location.assign(\"http://\"+window.location.hostname+':'+window.location.port);});}}},{key:\"emailChange\",value:function emailChange(e){this.setState({email:e.target.value});}},{key:\"cellChange\",value:function cellChange(e){this.setState({cell:e.target.value});}},{key:\"phoneChange\",value:function phoneChange(e){this.setState({phone:e.target.value});}},{key:\"zipChange\",value:function zipChange(e){this.setState({zip:e.target.value});}},{key:\"cityChange\",value:function cityChange(e){this.setState({city:e.target.value});}},{key:\"address2Change\",value:function address2Change(e){this.setState({address2:e.target.value});}},{key:\"address1Change\",value:function address1Change(e){this.setState({address1:e.target.value});}},{key:\"lastNameChange\",value:function lastNameChange(e){this.setState({lastName:e.target.value});}},{key:\"firstNameChange\",value:function firstNameChange(e){this.setState({firstName:e.target.value});}},{key:\"passwordChange\",value:function passwordChange(e){this.setState({password:e.target.value});}},{key:\"userIdChange\",value:function userIdChange(e){this.setState({userId:e.target.value});}},{key:\"render\",value:function render(){if(this.props.loggedInUser===''){return/*#__PURE__*/React.createElement(Redirect,{to:\"/errorLogin\"});}return/*#__PURE__*/React.createElement(\"div\",{id:\"UserInsert\"},/*#__PURE__*/React.createElement(\"a\",{class:\"HomeLink\",href:\"/\"},\"back to home\"),/*#__PURE__*/React.createElement(\"div\",{class:\"h1\"},\"Register User\"),/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{id:\"flexColLeft\"},/*#__PURE__*/React.createElement(\"br\",null),\"User Id:\",/*#__PURE__*/React.createElement(\"input\",{id:\"userId\",name:\"userId\",style:{marginLeft:'0.5cm'},type:\"text\",value:this.state.userId,onChange:this.userIdChange}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Password:\",/*#__PURE__*/React.createElement(\"input\",{id:\"password\",name:\"password\",type:\"password\",value:this.state.password,onChange:this.passwordChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"First Name:\",/*#__PURE__*/React.createElement(\"input\",{id:\"firstName\",name:\"firstName\",type:\"text\",rows:\"10\",size:\"18\",value:this.state.firstName,onChange:this.firstNameChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Last Name:\",/*#__PURE__*/React.createElement(\"input\",{id:\"lastName\",name:\"lastName\",type:\"text\",rows:\"10\",size:\"19\",value:this.state.lastName,onChange:this.lastNameChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Phone:\",/*#__PURE__*/React.createElement(\"input\",{id:\"phone\",name:\"phone\",style:{marginLeft:'0.5cm'},type:\"text\",value:this.state.phone,onChange:this.phoneChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Cell num:\",/*#__PURE__*/React.createElement(\"input\",{id:\"cell\",name:\"cell\",type:\"text\",value:this.state.cell,onChange:this.cellChange})),\" \",/*#__PURE__*/React.createElement(\"div\",{id:\"flexColRight\"},/*#__PURE__*/React.createElement(\"br\",null),\"Address1:\",/*#__PURE__*/React.createElement(\"input\",{id:\"address1\",name:\"address1\",type:\"text\",value:this.state.address1,onChange:this.address1Change}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Address2:\",/*#__PURE__*/React.createElement(\"input\",{id:\"address2\",name:\"address2\",type:\"text\",value:this.state.address2,onChange:this.address2Change}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"City:\",/*#__PURE__*/React.createElement(\"input\",{style:{marginLeft:'1cm'},id:\"city\",name:\"city\",type:\"text\",value:this.state.city,onChange:this.cityChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Zip:\",/*#__PURE__*/React.createElement(\"input\",{style:{marginLeft:'1.2cm'},id:\"zip\",name:\"zip\",type:\"text\",value:this.state.zip,onChange:this.zipChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Email:\",/*#__PURE__*/React.createElement(\"input\",{style:{marginLeft:'1cm'},id:\"email\",name:\"email\",type:\"text\",value:this.state.email,onChange:this.emailChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",style:{width:'20%'},value:\"submit\",onClick:this.handleSubmit})),\" \")));}}]);return UserInsert;}(React.Component);export default UserInsert;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/components/UserInsert.js"],"names":["React","Redirect","UserInsert","props","state","spinner","userId","password","firstName","lastName","address1","address2","city","zip","phone","cell","email","baseState","userIdChange","bind","passwordChange","firstNameChange","lastNameChange","address1Change","address2Change","cityChange","zipChange","phoneChange","cellChange","emailChange","handleSubmit","e","alert","showSpinner","reqBody","encodeURIComponent","fetch","headers","method","body","then","res","json","data","usersArrayCopy","usersArray","obj","id","first_name","last_name","mobile","push","setUsers","setState","hideSpinner","window","location","assign","hostname","port","target","value","loggedInUser","marginLeft","width","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {  Redirect } from 'react-router-dom';\n\nclass UserInsert extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state={\n      spinner:false,\n      userId:'',\n      password:'',\n      firstName:'',\n      lastName:'',\n      address1:'',\n      address2:'',\n      city:'',\n      zip:'',\n      phone:'',\n      cell:'',\n      email:''\n    }\n    this.baseState=this.state;\n    this.userIdChange=this.userIdChange.bind(this);\n    this.passwordChange=this.passwordChange.bind(this);\n    this.firstNameChange=this.firstNameChange.bind(this);\n    this.lastNameChange=this.lastNameChange.bind(this);\n    this.address1Change=this.address1Change.bind(this);\n    this.address2Change=this.address2Change.bind(this);\n    this.cityChange=this.cityChange.bind(this);\n    this.zipChange=this.zipChange.bind(this);\n    this.phoneChange=this.phoneChange.bind(this);\n    this.cellChange=this.cellChange.bind(this);\n    this.emailChange=this.emailChange.bind(this);\n    this.handleSubmit=this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e){\n    if(this.state.userId===''||this.state.password===''){\n      alert('UserId/Password cannot be empty');\n      return;\n    }\n    else{\n      this.props.showSpinner();\n      var reqBody='userId='+encodeURIComponent(this.state.userId);\n      reqBody+='&password='+encodeURIComponent(this.state.password);\n      reqBody+='&firstName='+encodeURIComponent(this.state.firstName);\n      reqBody+='&lastName='+encodeURIComponent(this.state.lastName);\n      reqBody+='&address1='+encodeURIComponent(this.state.address1);\n      reqBody+='&address2='+encodeURIComponent(this.state.address2);\n      reqBody+='&city='+encodeURIComponent(this.state.city);\n      reqBody+='&zip='+encodeURIComponent(this.state.zip);\n      reqBody+='&phone='+encodeURIComponent(this.state.phone);\n      reqBody+='&cell='+encodeURIComponent(this.state.cell);\n      reqBody+='&email='+encodeURIComponent(this.state.email);\n\n      fetch(`/api/insertUserAction`, {\n        headers:{\n          'Accept':'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      })\n      .then(res=>res.json())\n      .then(data=>{\n          //if(data.updatestatus==\"ok\")\n              let usersArrayCopy=[...this.props.usersArray];\n              let obj={\n                id:this.state.userId,\n                password:this.state.password,\n                first_name: this.state.firstName,\n                last_name: this.state.lastName,\n                address1: this.state.address1,\n                address2: this.state.address2,\n                city:this.state.city,\n                zip:this.state.zip,\n                phone:this.state.phone,\n                mobile:this.state.cell,\n                email:this.state.email\n              };\n              usersArrayCopy.push(obj);\n              this.props.setUsers(usersArrayCopy);\n              this.setState(this.baseState);\n              this.props.hideSpinner();\n              alert('User inserted');\n              window.location.assign(\"http://\"+window.location.hostname+':'+window.location.port);\n      })\n\n    }\n  }\n\n  emailChange(e){\n    this.setState({email:e.target.value})\n  }\n\n  cellChange(e){\n    this.setState({cell:e.target.value})\n  }\n\n  phoneChange(e){\n    this.setState({phone:e.target.value})\n  }\n\n  zipChange(e){\n    this.setState({zip:e.target.value})\n  }\n\n  cityChange(e){\n    this.setState({city:e.target.value})\n  }\n\n  address2Change(e){\n    this.setState({address2:e.target.value})\n  }\n\n  address1Change(e){\n    this.setState({address1:e.target.value})\n  }\n\n  lastNameChange(e){\n    this.setState({lastName:e.target.value})\n  }\n\n  firstNameChange(e){\n    this.setState({firstName:e.target.value})\n  }\n\n  passwordChange(e){\n    this.setState({password:e.target.value})\n  }\n\n  userIdChange(e){\n    this.setState({userId:e.target.value})\n  }\n\n  render(){\n    if(this.props.loggedInUser===''){\n      return <Redirect to=\"/errorLogin\"/>\n    }\n    return (\n      <div id=\"UserInsert\">\n          <a class=\"HomeLink\" href=\"/\">back to home</a>\n          <div class=\"h1\">\n          Register User\n          </div>\n          <fieldset>\n            <div className=\"row\">\n                <div id=\"flexColLeft\">\n                        <br/>User Id:\n                        <input id=\"userId\" name=\"userId\" style={{marginLeft:'0.5cm'}} type=\"text\"\n                        value={this.state.userId}\n                        onChange={this.userIdChange}>\n                        </input> <br/><br/>\n                        Password:\n                        <input id=\"password\" name=\"password\" type=\"password\"\n                        value={this.state.password}\n                        onChange={this.passwordChange}>\n                        </input><br/><br/>\n                        First Name:\n                        <input id=\"firstName\" name=\"firstName\" type=\"text\" rows=\"10\" size=\"18\"\n                        value={this.state.firstName}\n                        onChange={this.firstNameChange}\n                        ></input><br/><br/>\n                        Last Name:\n                        <input id=\"lastName\" name=\"lastName\" type=\"text\" rows=\"10\" size=\"19\"\n                        value={this.state.lastName}\n                        onChange={this.lastNameChange}>\n                        </input><br/><br/>\n                        Phone:\n                        <input id=\"phone\" name=\"phone\" style={{marginLeft:'0.5cm'}} type=\"text\"\n                        value={this.state.phone}\n                        onChange={this.phoneChange}\n                        ></input><br/><br/>\n                          Cell num:\n                         <input id=\"cell\" name=\"cell\" type=\"text\"\n                         value={this.state.cell}\n                         onChange={this.cellChange}\n                         ></input>\n                </div> {/*end of flexColLeft*/}\n                <div id=\"flexColRight\">\n                       <br/>Address1:\n                       <input id=\"address1\" name=\"address1\" type=\"text\"\n                       value={this.state.address1}\n                       onChange={this.address1Change}\n                       ></input><br/><br/>\n                       Address2:\n                      <input id=\"address2\" name=\"address2\" type=\"text\"\n                      value={this.state.address2}\n                      onChange={this.address2Change}\n                        ></input><br/><br/>\n                      City:\n                      <input style={{marginLeft:'1cm'}} id=\"city\" name=\"city\" type=\"text\"\n                      value={this.state.city}\n                      onChange={this.cityChange}\n                       ></input><br/><br/>\n                      Zip:\n                      <input style={{marginLeft:'1.2cm'}} id=\"zip\" name=\"zip\" type=\"text\"\n                      value={this.state.zip}\n                      onChange={this.zipChange}\n                      ></input><br/><br/>\n                       Email:\n                       <input style={{marginLeft:'1cm'}} id=\"email\" name=\"email\" type=\"text\"\n                       value={this.state.email}\n                       onChange={this.emailChange}\n                        >\n                       </input><br/><br/>\n                        <input type=\"submit\" style={{width: '20%'}} value=\"submit\"\n                        onClick={this.handleSubmit}/>\n                                      </div> {/*end of flexColRight*/}\n                                  </div>{/*end of row*/}\n          </fieldset>\n      </div>\n    )\n  }\n\n}\n\nexport default UserInsert;\n"]},"metadata":{},"sourceType":"module"}