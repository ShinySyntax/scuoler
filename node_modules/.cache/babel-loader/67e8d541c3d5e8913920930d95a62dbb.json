{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/components/ProblemAddToQuizDialog.js\";\nimport React from 'react';\nimport '../css/AddToDialog.css';\n\nclass ProblemAddToQuizDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchKey: '',\n      objectsFiltered: []\n    };\n    this.searchBoxChange = this.searchBoxChange.bind(this);\n    this.objectsFilteredClick = this.objectsFilteredClick.bind(this);\n    this.AddToDialogSubmit = this.AddToDialogSubmit.bind(this);\n  }\n\n  objectsFilteredClick(str, e) {\n    this.setState({\n      searchKey: str,\n      objectsFiltered: []\n    });\n  }\n\n  AddToDialogSubmit(e) {\n    const filteredArray = this.props.objectsArray.filter(val => val.description.toUpperCase() === this.state.searchKey.toUpperCase());\n\n    if (filteredArray.length < 1) {\n      alert('Search key does not match any available  \\n\\t quiz description');\n    } else if (filteredArray.length > 1) {\n      alert('Search key matches multiple quizes\\' description!\\n\\t please choose another one');\n    } else {\n      //console.log('source problem object\\n'+JSON.stringify(this.props.sourceObject));\n      //console.log('filterd quiz object\\n'+JSON.stringify(filteredArray[0]));\n      var reqBody = \"problemId=\" + encodeURIComponent(this.props.sourceObject.id);\n      reqBody += \"&quizId=\" + encodeURIComponent(filteredArray[0].id);\n      fetch(`/api/addProblemToQuiz`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n\n        if (data.addstatus === \"redundant\") {\n          alert('problem already in quiz');\n        } else if (data.addstatus === \"ok\") {\n          alert('problem added to quiz');\n        }\n      });\n      this.props.handleDismiss();\n    }\n  }\n\n  searchBoxChange(e) {\n    //const countriesFiltered=e.target.value!==''?this.state.countries.filter((val)=>val.toUpperCase().startsWith(e.target.value.toUpperCase())):[];\n    //this.setState({searchKey: e.target.value, searchAugments: countriesFiltered});\n    const objectsFiltered = e.target.value !== '' ? this.props.objectsArray.filter(val => val.description.toUpperCase().startsWith(e.target.value.toUpperCase())) : [];\n    this.setState({\n      searchKey: e.target.value,\n      objectsFiltered: objectsFiltered\n    });\n  }\n\n  render() {\n    const visibilityClassName = this.props.show ? \"simple-dialog-overlay simple-dialog-display-block\" : \"simple-dialog-overlay simple-dialog-display-none\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: visibilityClassName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"simple-dialog\",\n      id: \"AddToDialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"x\",\n      onClick: this.props.handleDismiss,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 16\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 16\n      }\n    }, this.props.titleMessage), /*#__PURE__*/React.createElement(\"hr\", {\n      class: \"rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderStyle: 'solid',\n        color: 'darkgray'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, this.props.sourceTitleMessage), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 22\n      }\n    }, \"Description:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: `Description$,${this.props.sourceObject !== undefined ? this.props.sourceObject.id : ''}`,\n      dangerouslySetInnerHTML: {\n        __html: this.props.sourceObject !== undefined ? this.props.sourceObject.description : \"\"\n      },\n      className: \"Question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }\n    }, \"Options:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 22\n      }\n    }), \" 1) \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 31\n      }\n    }, this.props.sourceObject !== null ? this.props.sourceObject.option1 : ''), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 22\n      }\n    }), \" 2) \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 31\n      }\n    }, this.props.sourceObject !== null ? this.props.sourceObject.option2 : ''), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 22\n      }\n    }), \" 3) \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 31\n      }\n    }, this.props.sourceObject !== null ? this.props.sourceObject.option3 : ''), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }\n    }), \" 4) \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 31\n      }\n    }, this.props.sourceObject !== null ? this.props.sourceObject.option4 : ''), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 28\n      }\n    }, \"...\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"searchBox\",\n      type: \"text\",\n      name: \"searchBox\",\n      value: this.state.searchKey,\n      onChange: this.searchBoxChange,\n      placeholder: \"search key\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, this.state.objectsFiltered.map(obj => /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => this.objectsFilteredClick(obj.description, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 58\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 124\n      }\n    }, obj.description.substring(0, this.state.searchKey.length)), obj.description.substring(this.state.searchKey.length))))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: this.props.submitMessage,\n      onClick: this.AddToDialogSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 16\n      }\n    })));\n  }\n\n}\n\nexport default ProblemAddToQuizDialog;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/components/ProblemAddToQuizDialog.js"],"names":["React","ProblemAddToQuizDialog","Component","constructor","props","state","searchKey","objectsFiltered","searchBoxChange","bind","objectsFilteredClick","AddToDialogSubmit","str","e","setState","filteredArray","objectsArray","filter","val","description","toUpperCase","length","alert","reqBody","encodeURIComponent","sourceObject","id","fetch","headers","method","body","then","res","json","data","console","log","addstatus","handleDismiss","target","value","startsWith","render","visibilityClassName","show","titleMessage","borderStyle","color","sourceTitleMessage","undefined","__html","option1","option2","option3","option4","map","obj","substring","submitMessage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../css/AddToDialog.css';\n\nclass ProblemAddToQuizDialog extends React.Component{\n\n  constructor(props){\n      super(props);\n      this.state={\n           searchKey: '',\n           objectsFiltered:[]\n      };\n\n      this.searchBoxChange=this.searchBoxChange.bind(this);\n      this.objectsFilteredClick=this.objectsFilteredClick.bind(this);\n      this.AddToDialogSubmit=this.AddToDialogSubmit.bind(this);\n    }\n\n\n    objectsFilteredClick(str, e){\n      this.setState({searchKey: str, objectsFiltered: []})\n    }\n\n    AddToDialogSubmit(e){\n          const filteredArray=this.props.objectsArray.filter((val)=>val.description.toUpperCase()===this.state.searchKey.toUpperCase());\n          if(filteredArray.length<1){\n            alert('Search key does not match any available  \\n\\t quiz description');\n          }\n          else if(filteredArray.length>1){\n            alert('Search key matches multiple quizes\\' description!\\n\\t please choose another one');\n          }\n          else {\n            //console.log('source problem object\\n'+JSON.stringify(this.props.sourceObject));\n            //console.log('filterd quiz object\\n'+JSON.stringify(filteredArray[0]));\n\n            var reqBody=\"problemId=\"+encodeURIComponent(this.props.sourceObject.id);\n            reqBody+=\"&quizId=\"+encodeURIComponent(filteredArray[0].id);\n            fetch(`/api/addProblemToQuiz`, {\n              headers:{\n                'Accept':'application/json',\n                'Content-type': 'application/x-www-form-urlencoded'\n              },\n              method: 'POST',\n              body: reqBody\n            })\n            .then(res=>res.json())\n            .then(data=>{\n               console.log(data);\n                if(data.addstatus===\"redundant\"){\n                    alert('problem already in quiz');\n                }\n                else if(data.addstatus===\"ok\") {\n                    alert('problem added to quiz');\n                }\n            })\n\n            this.props.handleDismiss();\n          }\n    }\n\n  searchBoxChange(e){\n    //const countriesFiltered=e.target.value!==''?this.state.countries.filter((val)=>val.toUpperCase().startsWith(e.target.value.toUpperCase())):[];\n    //this.setState({searchKey: e.target.value, searchAugments: countriesFiltered});\n    const objectsFiltered=e.target.value!==''?this.props.objectsArray.filter((val)=>val.description.toUpperCase().startsWith(e.target.value.toUpperCase())):[];\n    this.setState({searchKey: e.target.value, objectsFiltered: objectsFiltered});\n  }\n\n  render(){\n    const visibilityClassName=this.props.show\n    ? \"simple-dialog-overlay simple-dialog-display-block\"\n    : \"simple-dialog-overlay simple-dialog-display-none\";\n\n    return (\n        <div className={visibilityClassName}>\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"/>\n           <div className=\"simple-dialog\" id=\"AddToDialog\">\n               <button id = \"x\" onClick={this.props.handleDismiss}>\n                X\n               </button>\n               <h2>{this.props.titleMessage}</h2>\n               <hr class=\"rounded\"/>\n               <div style={{borderStyle: 'solid', color:'darkgray'}}>\n                    <h2>{this.props.sourceTitleMessage}</h2>\n                     <b>Description:</b><br/>\n                     <div id={`Description$,${this.props.sourceObject!==undefined?this.props.sourceObject.id:''}`}\n                     dangerouslySetInnerHTML={{__html: this.props.sourceObject!==undefined?this.props.sourceObject.description:\"\"}}\n                     className=\"Question\"></div>\n                     <br/>\n                     <b>Options:</b>\n                     <br/> 1) <label>{this.props.sourceObject!==null?this.props.sourceObject.option1:''}</label>\n                     <br/> 2) <label>{this.props.sourceObject!==null?this.props.sourceObject.option2:''}</label>\n                     <br/> 3) <label>{this.props.sourceObject!==null?this.props.sourceObject.option3:''}</label>\n                     <br/> 4) <label>{this.props.sourceObject!==null?this.props.sourceObject.option4:''}</label>\n                      <br/><strong>...</strong>\n               </div>\n\n               <br/>\n               <div className=\"autocomplete\">\n                  <input id=\"searchBox\" type=\"text\" name=\"searchBox\"\n                  value={this.state.searchKey}\n                  onChange={this.searchBoxChange} placeholder=\"search key\"/>\n                  <div className=\"autocomplete-items\">\n                  {\n                    this.state.objectsFiltered.map(obj=>(<div onClick={(e)=>this.objectsFilteredClick(obj.description, e)}><strong>{obj.description.substring(0,this.state.searchKey.length)}</strong>{obj.description.substring(this.state.searchKey.length)}</div>))\n                  }\n                  </div>\n               </div>\n               <input type=\"submit\" value={this.props.submitMessage} onClick={this.AddToDialogSubmit}/>\n            </div>\n        </div>\n    )\n  }\n}\n\nexport default ProblemAddToQuizDialog;\n"]},"metadata":{},"sourceType":"module"}