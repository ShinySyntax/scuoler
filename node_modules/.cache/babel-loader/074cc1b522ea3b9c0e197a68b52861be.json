{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/components/MeetingShowSelected.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport socketIOClient from \"socket.io-client\";\nimport data from \"./data\";\nimport '../css/Chat.css';\nimport VideoExt from './chat/VideoExt';\nimport SocketX from './chat/SocketX';\nimport PeerConnectionExt from './chat/PeerConnectionExt';\nconst ICE_SERVERS = [{\n  urls: 'turn:numb.viagenie.ca',\n  credential: 'muazkh',\n  username: 'webrtc@live.com'\n}, {\n  url: 'turn:192.158.29.39:3478?transport=tcp',\n  credential: 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n  username: '28224511:1379330808'\n}, {\n  url: 'turn:turn.anyfirewall.com:443?transport=tcp',\n  credential: 'webrtc',\n  username: 'webrtc'\n}, {\n  url: 'turn:13.250.13.83:3478?transport=tcp',\n  credential: 'YzYNCouZM1mhqhmseWk6',\n  username: 'YzYNCouZM1mhqhmseWk6'\n}, {\n  urls: 'stun:stun.l.google.com:19302'\n},\n/*{ urls: 'stun:stun1.l.google.com:19302' },\n{ urls: 'stun:stun2.l.google.com:19302' },\n{ urls: 'stun:stun3.l.google.com:19302' },\n{ urls: 'stun:stun4.l.google.com:19302' },*/\n{\n  urls: 'stun:stun.ekiga.net'\n}];\n\nclass MeetingShowSelected extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSocketConnect = () => {\n      if (this.socket) {\n        this.socket.emit(\"map\", {\n          user: this.props.loggedInUserFullName\n        });\n        console.log(this.socket + ' mapped to ' + this.props.loggedInUserFullName);\n      }\n    };\n\n    this.state = {\n      meetingObj: {},\n      icons: data.icons\n    };\n    this.peerConnection = new RTCPeerConnection({\n      iceServers: ICE_SERVERS\n    }); //this.socket = socketIOClient(ENDPOINT);\n\n    this.socket = socketIOClient();\n    this.displayMediaOptions = {\n      video: {\n        cursor: \"always\"\n      },\n      audio: {\n        echoCancellation: true,\n        noiseSuppression: true\n      }\n    };\n    this.camMediaOptions = {\n      video: true,\n      audio: {\n        echoCancellation: true,\n        noiseSuppression: true\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      params\n    } = this.props.match;\n    this.props.showSpinner();\n    var reqBody = \"meetingId=\" + encodeURIComponent(params.id) + ', ' + encodeURIComponent(params.organiserId);\n    this.socket = socketIOClient(\"/\" + params.id);\n    console.log(reqBody);\n    this.props.hideSpinner();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, \"Meeting Show Selected\", /*#__PURE__*/React.createElement(SocketX, {\n      socket: this.socket,\n      onSocketConnect: this.onSocketConnect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 8\n      }\n    }));\n  }\n\n}\n\nexport default MeetingShowSelected;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/components/MeetingShowSelected.js"],"names":["React","Redirect","socketIOClient","data","VideoExt","SocketX","PeerConnectionExt","ICE_SERVERS","urls","credential","username","url","MeetingShowSelected","Component","constructor","props","onSocketConnect","socket","emit","user","loggedInUserFullName","console","log","state","meetingObj","icons","peerConnection","RTCPeerConnection","iceServers","displayMediaOptions","video","cursor","audio","echoCancellation","noiseSuppression","camMediaOptions","componentDidMount","params","match","showSpinner","reqBody","encodeURIComponent","id","organiserId","hideSpinner","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAUC,QAAV,QAA0B,kBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAO,iBAAP;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,iBAAP,MAA8B,0BAA9B;AAEA,MAAMC,WAAW,GAAC,CAChB;AACEC,EAAAA,IAAI,EAAE,uBADR;AAEEC,EAAAA,UAAU,EAAE,QAFd;AAGEC,EAAAA,QAAQ,EAAE;AAHZ,CADgB,EAMhB;AACIC,EAAAA,GAAG,EAAE,uCADT;AAEIF,EAAAA,UAAU,EAAE,8BAFhB;AAGIC,EAAAA,QAAQ,EAAE;AAHd,CANgB,EAWhB;AACIC,EAAAA,GAAG,EAAE,6CADT;AAEIF,EAAAA,UAAU,EAAE,QAFhB;AAGIC,EAAAA,QAAQ,EAAE;AAHd,CAXgB,EAgBhB;AACIC,EAAAA,GAAG,EAAE,sCADT;AAEIF,EAAAA,UAAU,EAAE,sBAFhB;AAGIC,EAAAA,QAAQ,EAAE;AAHd,CAhBgB,EAqBhB;AAAEF,EAAAA,IAAI,EAAE;AAAR,CArBgB;AAsBhB;;;;AAIA;AAAEA,EAAAA,IAAI,EAAE;AAAR,CA1BgB,CAAlB;;AA6BA,MAAMI,mBAAN,SAAkCZ,KAAK,CAACa,SAAxC,CAAiD;AAC/CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SA2BlBC,eA3BkB,GA2BF,MAAI;AAClB,UAAG,KAAKC,MAAR,EAAe;AACb,aAAKA,MAAL,CAAYC,IAAZ,CAAiB,KAAjB,EAAwB;AACtBC,UAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWK;AADK,SAAxB;AAGAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,MAAL,GAAY,aAAZ,GAA0B,KAAKF,KAAL,CAAWK,oBAAjD;AACD;AACF,KAlCiB;;AAEhB,SAAKG,KAAL,GAAW;AACTC,MAAAA,UAAU,EAAC,EADF;AAETC,MAAAA,KAAK,EAAEtB,IAAI,CAACsB;AAFH,KAAX;AAIA,SAAKC,cAAL,GAAsB,IAAIC,iBAAJ,CAAsB;AAAEC,MAAAA,UAAU,EAAErB;AAAd,KAAtB,CAAtB,CANgB,CAOhB;;AACA,SAAKU,MAAL,GAAcf,cAAc,EAA5B;AACA,SAAK2B,mBAAL,GAA2B;AACzBC,MAAAA,KAAK,EAAE;AACLC,QAAAA,MAAM,EAAE;AADH,OADkB;AAIzBC,MAAAA,KAAK,EAAE;AACLC,QAAAA,gBAAgB,EAAE,IADb;AAELC,QAAAA,gBAAgB,EAAE;AAFb;AAJkB,KAA3B;AASA,SAAKC,eAAL,GAAqB;AACnBL,MAAAA,KAAK,EAAE,IADY;AAEnBE,MAAAA,KAAK,EAAE;AACLC,QAAAA,gBAAgB,EAAE,IADb;AAELC,QAAAA,gBAAgB,EAAE;AAFb;AAFY,KAArB;AAOD;;AAWDE,EAAAA,iBAAiB,GAAE;AACjB,UAAM;AAACC,MAAAA;AAAD,QAAU,KAAKtB,KAAL,CAAWuB,KAA3B;AAEA,SAAKvB,KAAL,CAAWwB,WAAX;AACA,QAAIC,OAAO,GAAC,eAAaC,kBAAkB,CAACJ,MAAM,CAACK,EAAR,CAA/B,GAA2C,IAA3C,GAAgDD,kBAAkB,CAACJ,MAAM,CAACM,WAAR,CAA9E;AACA,SAAK1B,MAAL,GAAcf,cAAc,CAAC,MAAImC,MAAM,CAACK,EAAZ,CAA5B;AACArB,IAAAA,OAAO,CAACC,GAAR,CAAYkB,OAAZ;AACA,SAAKzB,KAAL,CAAW6B,WAAX;AACD;;AAEDC,EAAAA,MAAM,GAAE;AACN,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEC,oBAAC,OAAD;AACC,MAAA,MAAM,EAAE,KAAK5B,MADd;AAEC,MAAA,eAAe,EAAE,KAAKD,eAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADF;AASD;;AAzD8C;;AA4DjD,eAAeJ,mBAAf","sourcesContent":["import React from 'react';\nimport {  Redirect } from 'react-router-dom';\nimport socketIOClient from \"socket.io-client\";\nimport data from \"./data\";\nimport '../css/Chat.css';\nimport VideoExt from './chat/VideoExt';\nimport SocketX from './chat/SocketX';\nimport PeerConnectionExt from './chat/PeerConnectionExt';\n\nconst ICE_SERVERS=[\n  {\n    urls: 'turn:numb.viagenie.ca',\n    credential: 'muazkh',\n    username: 'webrtc@live.com'\n  },\n  {\n      url: 'turn:192.158.29.39:3478?transport=tcp',\n      credential: 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n      username: '28224511:1379330808'\n  },\n  {\n      url: 'turn:turn.anyfirewall.com:443?transport=tcp',\n      credential: 'webrtc',\n      username: 'webrtc'\n  },\n  {\n      url: 'turn:13.250.13.83:3478?transport=tcp',\n      credential: 'YzYNCouZM1mhqhmseWk6',\n      username: 'YzYNCouZM1mhqhmseWk6'\n  },\n  { urls: 'stun:stun.l.google.com:19302' },\n  /*{ urls: 'stun:stun1.l.google.com:19302' },\n  { urls: 'stun:stun2.l.google.com:19302' },\n  { urls: 'stun:stun3.l.google.com:19302' },\n  { urls: 'stun:stun4.l.google.com:19302' },*/\n  { urls: 'stun:stun.ekiga.net'}\n];\n\nclass MeetingShowSelected extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      meetingObj:{},\n      icons: data.icons\n    }\n    this.peerConnection = new RTCPeerConnection({ iceServers: ICE_SERVERS });\n    //this.socket = socketIOClient(ENDPOINT);\n    this.socket = socketIOClient();\n    this.displayMediaOptions = {\n      video: {\n        cursor: \"always\"\n      },\n      audio: {\n        echoCancellation: true,\n        noiseSuppression: true\n      }\n    };\n    this.camMediaOptions={\n      video: true,\n      audio: {\n        echoCancellation: true,\n        noiseSuppression: true\n      }\n    };\n  }\n\n  onSocketConnect=()=>{\n    if(this.socket){\n      this.socket.emit(\"map\", {\n        user: this.props.loggedInUserFullName\n      });\n      console.log(this.socket+' mapped to '+this.props.loggedInUserFullName);\n    }\n  }\n\n  componentDidMount(){\n    const {params}= this.props.match;\n\n    this.props.showSpinner();\n    var reqBody=\"meetingId=\"+encodeURIComponent(params.id)+', '+encodeURIComponent(params.organiserId);\n    this.socket = socketIOClient(\"/\"+params.id);\n    console.log(reqBody);\n    this.props.hideSpinner();\n  }\n\n  render(){\n    return (\n      <div>\n      Meeting Show Selected\n       <SocketX\n        socket={this.socket}\n        onSocketConnect={this.onSocketConnect}\n        />\n      </div>\n    )\n  }\n}\n\nexport default MeetingShowSelected;\n"]},"metadata":{},"sourceType":"module"}