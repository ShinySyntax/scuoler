{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools-react/client/src/components/ProblemInsert.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport data from \"./data\";\nimport { showSpinner, hideSpinner, setProblems } from '../stores/appStoreActions';\n\nclass ProblemInsert extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      quizSearchKey: '',\n      selectedQuizId: '',\n      quizObjectsFiltered: [],\n      augmentedQuizObjects: [],\n      augmentedQuizObjectsPrior: [],\n      quizesAddedArray: [],\n\n      /*quiz_id:null,\n      quizType:null,\n      quiz_description:\"UnAssigned\",*/\n      description: \"\",\n      solution: \"\",\n      option1: \"\",\n      option2: \"\",\n      option3: \"\",\n      option4: \"\",\n      answerkey: \"\",\n      problemType: \"d\",\n      icons: data.icons\n    }; //this.baseState=this.state;\n    //this.quizSelectChange=this.quizSelectChange.bind(this);\n\n    this.descriptionChange = this.descriptionChange.bind(this);\n    this.solutionChange = this.solutionChange.bind(this);\n    this.option1Change = this.option1Change.bind(this);\n    this.option2Change = this.option2Change.bind(this);\n    this.option3Change = this.option3Change.bind(this);\n    this.option4Change = this.option4Change.bind(this);\n    this.answerkeyChange = this.answerkeyChange.bind(this);\n    this.handleProblemInsert = this.handleProblemInsert.bind(this);\n    this.problemTypeSelectChange = this.problemTypeSelectChange.bind(this);\n    this.quizSearchBoxChange = this.quizSearchBoxChange.bind(this);\n    this.quizObjectsFilteredClick = this.quizObjectsFilteredClick.bind(this);\n    this.checkStatic = this.checkStatic.bind(this);\n    this.AddQuizToQuizesArray = this.AddQuizToQuizesArray.bind(this);\n    this.removeQuizFromQuizesArray = this.removeQuizFromQuizesArray.bind(this);\n  }\n  /*quizSelectChange(e){\n    let new_quiz_id=e.target.value;\n    let new_quiz_description=e.target.options[e.target.selectedIndex].text;\n    let new_quiz_type=e.target.options[e.target.selectedIndex].attributes.quiztype.value;\n    this.setState({quiz_id:new_quiz_id, quiz_description:new_quiz_description,\n                  quizType: new_quiz_type});\n  }*/\n\n\n  quizObjectsFilteredClick(description, id, type, e) {\n    this.setState({\n      quizSearchKey: description,\n      selectedQuizId: id,\n      selectedQuizType: type,\n      quizObjectsFiltered: [],\n      augmentedQuizObjectsPrior: this.state.augmentedQuizObjects,\n      augmentedQuizObjects: []\n    });\n  }\n\n  async checkStatic(currentValue) {\n    if (currentValue === this.state.quizSearchKey && currentValue !== '') {\n      //console.log('static value'+currentValue);\n      var reqBody = \"searchKey=\" + encodeURIComponent(currentValue);\n      let searchResults = await fetch(`/api/searchQuizesForPrefix`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      });\n      let prefixSearchResults = await searchResults.json();\n      let augmentedObjects = [];\n      prefixSearchResults.forEach(ele => {\n        let len = this.state.quizObjectsFiltered.filter(val => val.id === ele.id).length;\n        if (len <= 0) augmentedObjects.push(ele);\n      }); //console.log(augmentedObjects);\n\n      this.setState({\n        augmentedQuizObjects: augmentedObjects\n      });\n    }\n  }\n\n  quizSearchBoxChange(e) {\n    let globalState = this.props.state;\n    let strSearchKey = e.target.value;\n    var timer = setTimeout(() => {\n      this.checkStatic(strSearchKey);\n    }, 1000);\n    let quizObjectsFiltered = e.target.value !== '' ? globalState.quizesArray.filter(val => val.description.toUpperCase().startsWith(strSearchKey.toUpperCase())) : []; //const quizObjectsFiltered=this.props.quizesArray.filter((val)=>val.description.toUpperCase().startsWith(e.target.value.toUpperCase()));\n\n    this.setState({\n      quizSearchKey: strSearchKey,\n      quizObjectsFiltered: quizObjectsFiltered\n    });\n  }\n\n  AddQuizToQuizesArray(e) {\n    let globalState = this.props.state;\n    let quizObjectsFilteredAugmented = [...globalState.quizesArray];\n    quizObjectsFilteredAugmented = quizObjectsFilteredAugmented.concat(this.state.augmentedQuizObjectsPrior);\n    const filteredArray = quizObjectsFilteredAugmented.filter(val => val.description.toUpperCase() === this.state.quizSearchKey.toUpperCase() && val.id === this.state.selectedQuizId);\n\n    if (filteredArray.length < 1) {\n      alert('Search key does not match any available  \\n\\t quiz description');\n    } else if (filteredArray.length > 1) {\n      alert('Search key matches multiple quizes\\' description!\\n\\t please choose another one');\n    }\n\n    if (filteredArray[0].type !== this.state.problemType) {\n      alert('Quiz and Problem should of the same type');\n      this.setState({\n        quizSearchKey: '',\n        selectedQuizId: '',\n        augmentedQuizObjectsPrior: []\n      });\n    } else {\n      let quizesArrayCopy = [...globalState.quizesAddedArray]; //console.log('filterd quiz object\\n'+JSON.stringify(filteredArray[0]));\n\n      quizesArrayCopy.push(filteredArray[0]);\n      this.setState({\n        quizesAddedArray: quizesArrayCopy,\n        quizSearchKey: '',\n        selectedQuizId: '',\n        augmentedQuizObjectsPrior: []\n      });\n    }\n  }\n\n  removeQuizFromQuizesArray(e, quizId) {\n    let quizesArray = this.state.quizesAddedArray.filter(val => val.id !== quizId);\n    this.setState({\n      quizesAddedArray: quizesArray\n    }); //console.log(quizesArray);\n  }\n\n  problemTypeSelectChange(e) {\n    var new_problemType = e.target.value;\n    var new_problemTypeDescription = e.target.options[e.target.selectedIndex].text;\n    this.setState({\n      problemType: new_problemType\n    }); //console.log(new_problemType);\n  }\n\n  descriptionChange(e) {\n    const new_description = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      description: new_description\n    });\n  }\n\n  solutionChange(e) {\n    const new_solution = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      solution: new_solution\n    });\n  }\n\n  answerkeyChange(e) {\n    const new_answerkey = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      answerkey: new_answerkey\n    });\n  }\n\n  option1Change(e) {\n    const new_option1 = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      option1: new_option1\n    });\n  }\n\n  option2Change(e) {\n    const new_option2 = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      option2: new_option2\n    });\n  }\n\n  option3Change(e) {\n    const new_option3 = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      option3: new_option3\n    });\n  }\n\n  option4Change(e) {\n    const new_option4 = e.target.value; //console.log(e.target.value);\n\n    this.setState({\n      option4: new_option4\n    });\n  }\n\n  handleProblemInsert(e) {\n    let dispatch = this.props.dispatch;\n    let globalState = this.props.state;\n\n    if (this.state.problemType === \"m\" && ![1, 2, 3, 4].includes(parseInt(this.state.answerkey))) {\n      alert('Answer key should be numeric value in (1,2,3,4) for problem type (Multiple Choice)');\n      return;\n    }\n    /*else if(this.state.quizType!==null&&this.state.quizType!==this.state.problemType){\n      alert('Error! selected quiz and problem should  be of the same types');\n      return;\n    }*/\n    else {\n        showSpinner(dispatch);\n        var reqBody = 'probDescription=' + encodeURIComponent(this.state.description);\n        reqBody += '&option1=' + encodeURIComponent(this.state.option1);\n        reqBody += '&option2=' + encodeURIComponent(this.state.option2);\n        reqBody += '&option3=' + encodeURIComponent(this.state.option3);\n        reqBody += '&option4=' + encodeURIComponent(this.state.option4);\n        reqBody += '&problemType=' + encodeURIComponent(this.state.problemType);\n        reqBody += '&answerKey=' + encodeURIComponent(this.state.answerkey);\n        reqBody += '&quizesArray=' + encodeURIComponent(JSON.stringify(this.state.quizesAddedArray)); //reqBody+='&quizId='+encodeURIComponent(this.state.quiz_id);\n\n        var solution = this.state.solution.replace(/%20/g, '+');\n        reqBody += '&ansDescription=' + encodeURIComponent(solution);\n        reqBody += '&authorName=' + encodeURIComponent(globalState.loggedInUser);\n        fetch(`/api/insertProblemAction`, {\n          headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/x-www-form-urlencoded'\n          },\n          method: 'POST',\n          body: reqBody\n        }).then(res => res.json()).then(data => {\n          let problemsArrayCopy = [...globalState.problemsArray];\n          let obj = {\n            id: data.problemId,\n            //quiz_id: this.state.quiz_id,\n            //quiz_description: this.state.quiz_description,\n            description: this.state.description,\n            solution: this.state.solution,\n            option1: this.state.option1,\n            option2: this.state.option2,\n            option3: this.state.option3,\n            option4: this.state.option4,\n            answerKey: this.state.answerkey,\n            author_id: this.props.loggedInUser\n          };\n          problemsArrayCopy.push(obj);\n          setProblems(problemsArrayCopy, dispatch);\n          this.setState({\n            description: \"\",\n            solution: \"\",\n            option1: \"\",\n            option2: \"\",\n            option3: \"\",\n            option4: \"\",\n            answerkey: \"\"\n          });\n          hideSpinner(dispatch); //if(data.updatestatus==\"ok\")\n\n          alert('problem inserted');\n          window.location.assign(\"https://\" + window.location.hostname + ':' + window.location.port + \"/problemsBrowse\");\n        });\n      } //end of else\n\n  }\n\n  render() {\n    if (this.props.loggedInUser === '') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/errorLogin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 14\n        }\n      });\n    }\n\n    let quizObjectsFilteredAugmented = [...this.state.quizObjectsFiltered];\n    quizObjectsFilteredAugmented = quizObjectsFilteredAugmented.concat(this.state.augmentedQuizObjects);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"InsertWindow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"HomeLink\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"homeIcon\",\n      src: this.state.icons.home,\n      alt: \"back to home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }\n    }, \"Insert Problem\"), /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"flexColLeft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 19\n      }\n    }, \"Problem Type:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"problemType\",\n      onChange: this.problemTypeSelectChange,\n      name: \"problemType\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"d\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 25\n      }\n    }, \"Descriptive\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"m\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 25\n      }\n    }, \"Multiple Choice\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 28\n      }\n    }), \"Problem Description:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 43\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"probDescription\",\n      name: \"probDescription\",\n      rows: \"10\",\n      type: \"text\",\n      style: {\n        width: '90%'\n      },\n      value: this.state.description,\n      onChange: this.descriptionChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 34\n      }\n    }), \"Answer Description:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 42\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"ansDescription\",\n      name: \"ansDescription\",\n      rows: \"10\",\n      type: \"text\",\n      style: {\n        width: '90%'\n      },\n      value: this.state.solution,\n      onChange: this.solutionChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 28\n      }\n    }), \"Quizes:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"AddToDialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"searchBox\",\n      type: \"text\",\n      name: \"searchBox\",\n      value: this.state.quizSearchKey,\n      onChange: this.quizSearchBoxChange,\n      placeholder: \"Type first letters of quiz \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 30\n      }\n    }, quizObjectsFilteredAugmented.map(obj => /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => this.quizObjectsFilteredClick(obj.description, obj.id, obj.type, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 71\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 159\n      }\n    }, obj.description.substring(0, this.state.quizSearchKey.length)), obj.description.substring(this.state.quizSearchKey.length), \"(\", obj.id, \")\")))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Add Quiz\",\n      onClick: e => this.AddQuizToQuizesArray(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 23\n      }\n    }, this.state.quizesAddedArray !== undefined ? this.state.quizesAddedArray.map(objQ => /*#__PURE__*/React.createElement(\"div\", {\n      id: objQ.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 31\n      }\n    }, \"| \", objQ.description, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"closeBtn\",\n      onClick: e => this.removeQuizFromQuizesArray(e, objQ.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 32\n      }\n    }, \"\\xD7\"), \"\\xA0|\")) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"flexColRight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 19\n      }\n    }, this.state.problemType === \"m\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 34\n      }\n    }), \"Option1: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        width: '100px'\n      },\n      onChange: this.option1Change,\n      id: \"option1\",\n      value: this.state.option1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 67\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 72\n      }\n    }), \"Option2: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        width: '100px'\n      },\n      onChange: this.option2Change,\n      id: \"option2\",\n      value: this.state.option2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 71\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 76\n      }\n    }), \"Option3: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        width: '100px'\n      },\n      onChange: this.option3Change,\n      id: \"option3\",\n      value: this.state.option3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 71\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 76\n      }\n    }), \"Option4: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        width: '100px'\n      },\n      onChange: this.option4Change,\n      id: \"option4\",\n      value: this.state.option4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 73\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 78\n      }\n    }), \"Answer Key: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"answerKey\",\n      onChange: this.answerkeyChange,\n      style: {\n        width: '100px'\n      },\n      value: this.state.answerkey,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 25\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 25\n      }\n    }), \"Author:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"authorName\",\n      name: \"authorName\",\n      type: \"text\",\n      style: {\n        width: '100px'\n      },\n      value: this.props.loggedInUser,\n      readonly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 25\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 39\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 44\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Insert Problem\",\n      onClick: this.handleProblemInsert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'block',\n        paddingTop: '30px',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'block',\n        paddingTop: '10px',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 16\n      }\n    })));\n  }\n\n  componentDidMount() {\n    this.props.loadQuizes();\n    /*if(this.state.quiz_id===undefined&& this.props.quizesArray.length>0)\n        this.setState({quiz_id:this.props.quizesArray[0].id, quiz_description:this.props.quizesArray[0].description});*/\n  }\n\n}\n\nexport default ProblemInsert;","map":{"version":3,"sources":["/home/mathew/javascript/ischools-react/client/src/components/ProblemInsert.js"],"names":["React","Redirect","data","showSpinner","hideSpinner","setProblems","ProblemInsert","Component","constructor","props","state","quizSearchKey","selectedQuizId","quizObjectsFiltered","augmentedQuizObjects","augmentedQuizObjectsPrior","quizesAddedArray","description","solution","option1","option2","option3","option4","answerkey","problemType","icons","descriptionChange","bind","solutionChange","option1Change","option2Change","option3Change","option4Change","answerkeyChange","handleProblemInsert","problemTypeSelectChange","quizSearchBoxChange","quizObjectsFilteredClick","checkStatic","AddQuizToQuizesArray","removeQuizFromQuizesArray","id","type","e","setState","selectedQuizType","currentValue","reqBody","encodeURIComponent","searchResults","fetch","headers","method","body","prefixSearchResults","json","augmentedObjects","forEach","ele","len","filter","val","length","push","globalState","strSearchKey","target","value","timer","setTimeout","quizesArray","toUpperCase","startsWith","quizObjectsFilteredAugmented","concat","filteredArray","alert","quizesArrayCopy","quizId","new_problemType","new_problemTypeDescription","options","selectedIndex","text","new_description","new_solution","new_answerkey","new_option1","new_option2","new_option3","new_option4","dispatch","includes","parseInt","JSON","stringify","replace","loggedInUser","then","res","problemsArrayCopy","problemsArray","obj","problemId","answerKey","author_id","window","location","assign","hostname","port","render","home","width","map","substring","undefined","objQ","display","paddingTop","componentDidMount","loadQuizes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {  Redirect } from 'react-router-dom';\nimport data from \"./data\";\nimport {showSpinner, hideSpinner, setProblems} from '../stores/appStoreActions';\n\nclass ProblemInsert extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state={\n      quizSearchKey:'',\n      selectedQuizId:'',\n      quizObjectsFiltered:[],\n      augmentedQuizObjects:[],\n      augmentedQuizObjectsPrior:[],\n      quizesAddedArray:[],\n      /*quiz_id:null,\n      quizType:null,\n      quiz_description:\"UnAssigned\",*/\n      description:\"\",\n      solution:\"\",\n      option1:\"\",\n      option2:\"\",\n      option3:\"\",\n      option4:\"\",\n      answerkey:\"\",\n      problemType: \"d\",\n      icons: data.icons\n    }\n    //this.baseState=this.state;\n    //this.quizSelectChange=this.quizSelectChange.bind(this);\n    this.descriptionChange=this.descriptionChange.bind(this);\n    this.solutionChange=this.solutionChange.bind(this);\n    this.option1Change=this.option1Change.bind(this);\n    this.option2Change=this.option2Change.bind(this);\n    this.option3Change=this.option3Change.bind(this);\n    this.option4Change=this.option4Change.bind(this);\n    this.answerkeyChange=this.answerkeyChange.bind(this);\n    this.handleProblemInsert=this.handleProblemInsert.bind(this);\n    this.problemTypeSelectChange=this.problemTypeSelectChange.bind(this);\n    this.quizSearchBoxChange=this.quizSearchBoxChange.bind(this);\n    this.quizObjectsFilteredClick=this.quizObjectsFilteredClick.bind(this);\n    this.checkStatic=this.checkStatic.bind(this);\n    this.AddQuizToQuizesArray=this.AddQuizToQuizesArray.bind(this);\n    this.removeQuizFromQuizesArray=this.removeQuizFromQuizesArray.bind(this);\n  }\n\n  /*quizSelectChange(e){\n    let new_quiz_id=e.target.value;\n    let new_quiz_description=e.target.options[e.target.selectedIndex].text;\n    let new_quiz_type=e.target.options[e.target.selectedIndex].attributes.quiztype.value;\n    this.setState({quiz_id:new_quiz_id, quiz_description:new_quiz_description,\n                  quizType: new_quiz_type});\n  }*/\n\n  quizObjectsFilteredClick(description, id, type, e){\n    this.setState({quizSearchKey: description, selectedQuizId:id, selectedQuizType:type, quizObjectsFiltered: [],\n      augmentedQuizObjectsPrior: this.state.augmentedQuizObjects, augmentedQuizObjects:[]})\n  }\n\n  async checkStatic(currentValue){\n    if(currentValue===this.state.quizSearchKey&&currentValue!==''){\n      //console.log('static value'+currentValue);\n      var reqBody=\"searchKey=\"+encodeURIComponent(currentValue);\n      let searchResults=await fetch(`/api/searchQuizesForPrefix`, {\n              headers:{\n                'Accept':'application/json',\n                'Content-type': 'application/x-www-form-urlencoded'\n              },\n              method: 'POST',\n              body: reqBody\n            });\n      let prefixSearchResults=await searchResults.json();\n\n      let augmentedObjects=[];\n      prefixSearchResults.forEach(ele=>{\n        let len=this.state.quizObjectsFiltered.filter(val=>val.id===ele.id).length;\n        if(len<=0)\n          augmentedObjects.push(ele);\n      })\n      //console.log(augmentedObjects);\n      this.setState({augmentedQuizObjects:augmentedObjects});\n    }\n  }\n\n  quizSearchBoxChange(e){\n    let globalState=this.props.state;\n    let strSearchKey=e.target.value;\n    var timer = setTimeout(() => {this.checkStatic(strSearchKey);}, 1000);\n    let quizObjectsFiltered=e.target.value!==''?globalState.quizesArray.filter((val)=>val.description.toUpperCase().startsWith(strSearchKey.toUpperCase())):[];\n    //const quizObjectsFiltered=this.props.quizesArray.filter((val)=>val.description.toUpperCase().startsWith(e.target.value.toUpperCase()));\n    this.setState({quizSearchKey: strSearchKey, quizObjectsFiltered: quizObjectsFiltered});\n  }\n\n  AddQuizToQuizesArray(e){\n        let globalState=this.props.state;\n        let quizObjectsFilteredAugmented=[...globalState.quizesArray];\n        quizObjectsFilteredAugmented=quizObjectsFilteredAugmented.concat(this.state.augmentedQuizObjectsPrior);\n\n        const filteredArray=quizObjectsFilteredAugmented.filter((val)=>val.description.toUpperCase()===this.state.quizSearchKey.toUpperCase()&&val.id===this.state.selectedQuizId);\n        if(filteredArray.length<1){\n          alert('Search key does not match any available  \\n\\t quiz description');\n        }\n        else if(filteredArray.length>1){\n          alert('Search key matches multiple quizes\\' description!\\n\\t please choose another one');\n        }\n\n        if(filteredArray[0].type!==this.state.problemType){\n            alert('Quiz and Problem should of the same type');\n            this.setState({quizSearchKey: '', selectedQuizId: '',\n              augmentedQuizObjectsPrior: []})\n        }\n        else {\n          let quizesArrayCopy=[...globalState.quizesAddedArray];\n          //console.log('filterd quiz object\\n'+JSON.stringify(filteredArray[0]));\n          quizesArrayCopy.push(filteredArray[0]);\n          this.setState({quizesAddedArray: quizesArrayCopy, quizSearchKey: '', selectedQuizId: '',\n            augmentedQuizObjectsPrior: []});\n        }\n  }\n\n  removeQuizFromQuizesArray(e,quizId){\n    let quizesArray=this.state.quizesAddedArray.filter(val=>val.id!==quizId);\n    this.setState({quizesAddedArray:quizesArray});\n    //console.log(quizesArray);\n  }\n\n  problemTypeSelectChange(e){\n    var new_problemType=e.target.value;\n    var new_problemTypeDescription=e.target.options[e.target.selectedIndex].text;\n    this.setState({problemType:new_problemType});\n    //console.log(new_problemType);\n  }\n\n  descriptionChange(e){\n    const new_description=e.target.value;\n    //console.log(e.target.value);\n    this.setState({description:new_description});\n  }\n\n  solutionChange(e){\n    const new_solution=e.target.value;\n    //console.log(e.target.value);\n    this.setState({solution:new_solution});\n  }\n\n  answerkeyChange(e){\n    const new_answerkey=e.target.value;\n    //console.log(e.target.value);\n    this.setState({answerkey:new_answerkey});\n  }\n\n  option1Change(e){\n    const new_option1=e.target.value;\n    //console.log(e.target.value);\n    this.setState({option1:new_option1});\n  }\n\n  option2Change(e){\n    const new_option2=e.target.value;\n    //console.log(e.target.value);\n    this.setState({option2:new_option2});\n  }\n\n  option3Change(e){\n    const new_option3=e.target.value;\n    //console.log(e.target.value);\n    this.setState({option3:new_option3});\n  }\n\n  option4Change(e){\n    const new_option4=e.target.value;\n    //console.log(e.target.value);\n    this.setState({option4:new_option4});\n  }\n\n  handleProblemInsert(e){\n     let dispatch=this.props.dispatch;\n     let globalState=this.props.state;\n     if(this.state.problemType===\"m\" && ![1,2,3,4].includes(parseInt(this.state.answerkey))){\n       alert('Answer key should be numeric value in (1,2,3,4) for problem type (Multiple Choice)');\n       return;\n     }\n     /*else if(this.state.quizType!==null&&this.state.quizType!==this.state.problemType){\n       alert('Error! selected quiz and problem should  be of the same types');\n       return;\n     }*/\n     else{\n       showSpinner(dispatch);\n       var reqBody='probDescription='+encodeURIComponent(this.state.description);\n       reqBody+='&option1='+encodeURIComponent(this.state.option1);\n       reqBody+='&option2='+encodeURIComponent(this.state.option2);\n       reqBody+='&option3='+encodeURIComponent(this.state.option3);\n       reqBody+='&option4='+encodeURIComponent(this.state.option4);\n       reqBody+='&problemType='+encodeURIComponent(this.state.problemType);\n       reqBody+='&answerKey='+encodeURIComponent(this.state.answerkey);\n       reqBody+='&quizesArray='+encodeURIComponent(JSON.stringify(this.state.quizesAddedArray));\n       //reqBody+='&quizId='+encodeURIComponent(this.state.quiz_id);\n\n       var solution=this.state.solution.replace(/%20/g, '+');\n       reqBody+='&ansDescription='+encodeURIComponent(solution);\n       reqBody+='&authorName='+encodeURIComponent(globalState.loggedInUser);\n\n       fetch(`/api/insertProblemAction`, {\n         headers:{\n           'Accept':'application/json',\n           'Content-type': 'application/x-www-form-urlencoded'\n         },\n         method: 'POST',\n         body: reqBody\n       })\n       .then(res=>res.json())\n       .then(data=>{\n             let problemsArrayCopy=[...globalState.problemsArray];\n             let obj={\n               id: data.problemId,\n               //quiz_id: this.state.quiz_id,\n               //quiz_description: this.state.quiz_description,\n               description:this.state.description,\n               solution:this.state.solution,\n               option1:this.state.option1,\n               option2:this.state.option2,\n               option3:this.state.option3,\n               option4:this.state.option4,\n               answerKey:this.state.answerkey,\n               author_id:this.props.loggedInUser\n             };\n             problemsArrayCopy.push(obj);\n             setProblems(problemsArrayCopy, dispatch);\n             this.setState({\n                           description:\"\",\n                           solution:\"\",\n                           option1:\"\",\n                           option2:\"\",\n                           option3:\"\",\n                           option4:\"\",\n                           answerkey:\"\"}\n                         );\n            hideSpinner(dispatch);\n           //if(data.updatestatus==\"ok\")\n               alert('problem inserted');\n               window.location.assign(\"https://\"+window.location.hostname+':'+window.location.port+\"/problemsBrowse\");\n       })\n     }//end of else\n\n  }\n\n  render(){\n\n    if(this.props.loggedInUser===''){\n      return <Redirect to=\"/errorLogin\"/>\n    }\n    let quizObjectsFilteredAugmented=[...this.state.quizObjectsFiltered];\n    quizObjectsFilteredAugmented=quizObjectsFilteredAugmented.concat(this.state.augmentedQuizObjects);\n\n    return (\n      <div class=\"InsertWindow\">\n          <a class=\"HomeLink\" href=\"/\">\n              <img class=\"homeIcon\" src={this.state.icons.home} alt=\"back to home\"/>\n          {/*back to home*/}\n          </a>\n          <div class=\"h1\">\n            Insert Problem\n          </div>\n          <fieldset>\n              <div className=\"row\">\n                  <div id=\"flexColLeft\">\n                     Problem Type:\n                     <select id=\"problemType\" onChange={this.problemTypeSelectChange} name=\"problemType\">\n                        <option value=\"d\">Descriptive</option>\n                        <option value=\"m\">Multiple Choice</option>\n                      </select>\n                      <br/><br/>\n                      Problem Description:<br/>\n                      <textarea id=\"probDescription\" name=\"probDescription\" rows=\"10\" type=\"text\" style={{width:'90%'}}\n                      value={this.state.description}\n                      onChange={this.descriptionChange}\n                      >\n                      </textarea><br/>\n                      Answer Description:<br/>\n                      <textarea id=\"ansDescription\" name=\"ansDescription\" rows=\"10\" type=\"text\" style={{width:'90%'}}\n                      value={this.state.solution}\n                      onChange={this.solutionChange}\n                      >\n                      </textarea>\n                      <br/><br/>\n                      Quizes:\n                      <br/><br/>\n                      <div id=\"AddToDialog\">\n                          <div className=\"autocomplete\">\n                             <input id=\"searchBox\" type=\"text\" name=\"searchBox\"\n                             value={this.state.quizSearchKey}\n                             onChange={this.quizSearchBoxChange} placeholder=\"Type first letters of quiz \"/>\n                             <div className=\"autocomplete-items\">\n                             {\n                               quizObjectsFilteredAugmented.map(obj=>(<div onClick={(e)=>this.quizObjectsFilteredClick(obj.description, obj.id, obj.type, e)}><strong>{obj.description.substring(0,this.state.quizSearchKey.length)}</strong>{obj.description.substring(this.state.quizSearchKey.length)}({obj.id})</div>))\n                             }\n                             </div>\n                          </div>\n                          <input type=\"submit\" value=\"Add Quiz\" onClick={(e)=>this.AddQuizToQuizesArray(e)}/>\n                      </div>\n                      <br/>\n                      <div>\n                      {\n                          this.state.quizesAddedArray!==undefined?\n                          ( this.state.quizesAddedArray.map(objQ=>(\n                              <div id={objQ.id}>| {objQ.description}\n                               <span className=\"closeBtn\"\n                                 onClick={(e)=>this.removeQuizFromQuizesArray(e, objQ.id)}>&times;</span>&nbsp;|\n                              </div>\n                              )\n                            )\n                          ):null\n                      }\n                      </div>\n                      {/*<select id=\"quizId\" onChange={this.quizSelectChange} name=\"quizId\">\n                          <option value=\"null\" quiztype=\"null\">UnAssigned</option>\n                      {\n                          this.props.quizesArray.map((objQ, index)=>(\n                                     <option value={objQ.id} quiztype={objQ.type}>{objQ.description}</option>\n                            )\n                          )\n                      }\n                      </select>*/}\n                  </div>\n                  <div id=\"flexColRight\">\n                          {this.state.problemType===\"m\"?(<>\n                            <br/><br/>\n                        Option1: <input type=\"text\" style={{width:'100px'}}\n                         onChange={this.option1Change}\n                         id=\"option1\" value={this.state.option1}/><br/><br/>\n                        Option2: <input type=\"text\" style={{width:'100px'}}\n                             onChange={this.option2Change}\n                             id=\"option2\" value={this.state.option2}/><br/><br/>\n                        Option3: <input type=\"text\" style={{width:'100px'}}\n                             onChange={this.option3Change}\n                             id=\"option3\" value={this.state.option3}/><br/><br/>\n                        Option4: <input type=\"text\" style={{width:'100px'}}\n                               onChange={this.option4Change}\n                               id=\"option4\" value={this.state.option4}/><br/><br/>\n                        Answer Key: <br/>\n                        <input type=\"text\" id=\"answerKey\"\n                        onChange={this.answerkeyChange}\n                        style={{width:'100px'}} value={this.state.answerkey}/></>):null}\n                        <br/>\n                        <br/>\n                        Author:<br/>\n                        <input id=\"authorName\" name=\"authorName\" type=\"text\" style={{width:'100px'}}\n                        value={this.props.loggedInUser} readonly>\n                        </input> <br/><br/><br/>\n                        <input type=\"button\"  value=\"Insert Problem\" onClick={this.handleProblemInsert}/>\n                  </div>\n              </div>\n              <div style={{display:'block', paddingTop:'30px', width:'100%'}}>\n\n               </div>\n               <div style={{display:'block', paddingTop:'10px', width:'100%'}}>\n\n               </div>\n           </fieldset>\n      </div>\n    )\n  }\n\n  componentDidMount(){\n    this.props.loadQuizes();\n    /*if(this.state.quiz_id===undefined&& this.props.quizesArray.length>0)\n        this.setState({quiz_id:this.props.quizesArray[0].id, quiz_description:this.props.quizesArray[0].description});*/\n\n  }\n\n\n}\n\nexport default ProblemInsert;\n"]},"metadata":{},"sourceType":"module"}