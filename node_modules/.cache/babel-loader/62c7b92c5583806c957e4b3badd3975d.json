{"ast":null,"code":"var _jsxFileName = \"/home/mathew/javascript/ischools/src/components/UserInsert.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport data from './data';\nimport { showSpinner, hideSpinner, setUsers } from '../stores/appStoreActions';\n\nclass UserInsert extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spinner: false,\n      userId: '',\n      password: '',\n      firstName: '',\n      lastName: '',\n      address1: '',\n      address2: '',\n      city: '',\n      zip: '',\n      phone: '',\n      cell: '',\n      email: '',\n      sex_male: true,\n      profile_image_url: null,\n      image_urls_for_delete: [],\n      avatar: data.avatar,\n      icons: data.icons\n    };\n    this.baseState = this.state;\n    this.userIdChange = this.userIdChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.firstNameChange = this.firstNameChange.bind(this);\n    this.lastNameChange = this.lastNameChange.bind(this);\n    this.address1Change = this.address1Change.bind(this);\n    this.address2Change = this.address2Change.bind(this);\n    this.profileImageChange = this.profileImageChange.bind(this);\n    this.cityChange = this.cityChange.bind(this);\n    this.zipChange = this.zipChange.bind(this);\n    this.phoneChange = this.phoneChange.bind(this);\n    this.cellChange = this.cellChange.bind(this);\n    this.emailChange = this.emailChange.bind(this);\n    this.selectChange = this.selectChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.setBaseState = this.setBaseState.bind(this);\n  }\n\n  handleSubmit(e) {\n    let dispatch = this.props.dispatch;\n    let globalState = this.props.state;\n\n    if (this.state.userId === '' || this.state.password === '') {\n      alert('UserId/Password cannot be empty');\n      return;\n    } else {\n      showSpinner(dispatch);\n      var reqBody = 'userId=' + encodeURIComponent(this.state.userId.trim());\n      reqBody += '&password=' + encodeURIComponent(this.state.password);\n      reqBody += '&firstName=' + encodeURIComponent(this.state.firstName);\n      reqBody += '&lastName=' + encodeURIComponent(this.state.lastName);\n      reqBody += '&address1=' + encodeURIComponent(this.state.address1);\n      reqBody += '&address2=' + encodeURIComponent(this.state.address2);\n      reqBody += '&city=' + encodeURIComponent(this.state.city);\n      reqBody += '&zip=' + encodeURIComponent(this.state.zip);\n      reqBody += '&phone=' + encodeURIComponent(this.state.phone);\n      reqBody += '&cell=' + encodeURIComponent(this.state.cell);\n      reqBody += '&email=' + encodeURIComponent(this.state.email);\n      reqBody += '&sex_male=' + encodeURIComponent(this.state.sex_male);\n      reqBody += '&profile_image_url=' + encodeURIComponent(this.state.profile_image_url);\n      reqBody += '&image_urls_for_delete=' + encodeURIComponent(JSON.stringify(this.state.image_urls_for_delete));\n      fetch(`/api/insertUserAction`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      }).then(res => {\n        if (res.ok) return res.json();\n        throw new Error('Something went wrong with the last request, please try again or contact the maintenance team.');\n      }).then(data => {\n        //if(data.updatestatus==\"ok\")\n        let usersArrayCopy = [...globalState.usersArray];\n        let obj = {\n          id: this.state.userId,\n          password: this.state.password,\n          first_name: this.state.firstName,\n          last_name: this.state.lastName,\n          address1: this.state.address1,\n          address2: this.state.address2,\n          city: this.state.city,\n          zip: this.state.zip,\n          phone: this.state.phone,\n          mobile: this.state.cell,\n          email: this.state.email,\n          profile_image_url: this.state.profile_image_url,\n          sex_male: this.state.sex_male\n        };\n        usersArrayCopy.push(obj);\n        setUsers(usersArrayCopy, dispatch);\n        this.setState(this.baseState);\n        hideSpinner(dispatch);\n        alert('User inserted');\n        window.location.assign(\"https://\" + window.location.hostname + ':' + window.location.port);\n      }).catch(error => {\n        this.setBaseState();\n        alert(' ' + error);\n      });\n    }\n  }\n\n  setBaseState() {\n    this.setState(this.baseState);\n    hideSpinner(this.props.dispatch);\n  }\n\n  emailChange(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  cellChange(e) {\n    this.setState({\n      cell: e.target.value\n    });\n  }\n\n  phoneChange(e) {\n    this.setState({\n      phone: e.target.value\n    });\n  }\n\n  zipChange(e) {\n    this.setState({\n      zip: e.target.value\n    });\n  }\n\n  cityChange(e) {\n    this.setState({\n      city: e.target.value\n    });\n  }\n\n  address2Change(e) {\n    this.setState({\n      address2: e.target.value\n    });\n  }\n\n  address1Change(e) {\n    this.setState({\n      address1: e.target.value\n    });\n  }\n\n  lastNameChange(e) {\n    this.setState({\n      lastName: e.target.value\n    });\n  }\n\n  firstNameChange(e) {\n    this.setState({\n      firstName: e.target.value\n    });\n  }\n\n  passwordChange(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  userIdChange(e) {\n    this.setState({\n      userId: e.target.value\n    });\n  }\n\n  selectChange(e) {\n    var new_sex_male = e.target.value === \"true\" ? true : false;\n    this.setState({\n      sex_male: new_sex_male\n    });\n  }\n\n  profileImageChange(e) {\n    const files = Array.from(e.target.files);\n    const uploadFile = files[0];\n    const allowedTypes = ['image/png', 'image/jpeg', 'image/gif', 'image/svg', 'image/bmp'];\n\n    if (allowedTypes.every(type => uploadFile.type !== type)) {\n      alert('File type not supported (Only png/jpg/gif allowed)');\n      return;\n    } else if (uploadFile.size > 150000) {\n      alert(`'${uploadFile.name}' is too large, please pick a smaller file`);\n      return;\n    } //console.log(uploadFile);\n\n\n    const formData = new FormData();\n    formData.append(0, uploadFile);\n    fetch(`/api/profileImageUpload`, {\n      method: 'POST',\n      body: formData\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      let image_urls_for_delete = this.state.image_urls_for_delete === undefined ? [] : [...this.state.image_urls_for_delete];\n      if (this.state.profile_image_url !== null) image_urls_for_delete.push(this.state.profile_image_url);\n      this.setState({\n        profile_image_url: data.secure_url,\n        image_urls_for_delete: image_urls_for_delete\n      });\n    });\n  }\n\n  render() {\n    let globalState = this.props.state;\n\n    if (globalState.loggedInUser !== '') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/errorLogin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"UserInsert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"HomeLink\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"homeIcon\",\n      src: this.state.icons.home,\n      alt: \"back to home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }\n    }, \"Register User\"), /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileParent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"ProfileUpload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.profile_image_url != null ? this.state.profile_image_url : this.state.sex_male == true ? this.state.avatar.male : this.state.avatar.female,\n      alt: \"Avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileCardOverlayInsert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, this.state.profile_image_url != null ? \"Update Image\" : \"Upload Image\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"ProfileUpload\",\n      onChange: this.profileImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 16\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"flexColLeft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, \"User Id:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"userId\",\n      name: \"userId\",\n      type: \"text\",\n      value: this.state.userId,\n      onChange: this.userIdChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 20\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 28\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"password\",\n      name: \"password\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.passwordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 27\n      }\n    }, \"First Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"firstName\",\n      name: \"firstName\",\n      type: \"text\",\n      value: this.state.firstName,\n      onChange: this.firstNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 27\n      }\n    }, \"Last Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"lastName\",\n      name: \"lastName\",\n      type: \"text\",\n      value: this.state.lastName,\n      onChange: this.lastNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 27\n      }\n    }, \"Phone:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"phone\",\n      name: \"phone\",\n      type: \"text\",\n      value: this.state.phone,\n      onChange: this.phoneChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 27\n      }\n    }, \"Cell num:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"cell\",\n      name: \"cell\",\n      type: \"text\",\n      value: this.state.cell,\n      onChange: this.cellChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 26\n      }\n    }))), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"flexColRight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 25\n      }\n    }, \"Address1:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"address1\",\n      name: \"address1\",\n      type: \"text\",\n      value: this.state.address1,\n      onChange: this.address1Change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 23\n      }\n    }, \"Address2:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"address2\",\n      name: \"address2\",\n      type: \"text\",\n      value: this.state.address2,\n      onChange: this.address2Change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 23\n      }\n    }, \"City:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"city\",\n      name: \"city\",\n      type: \"text\",\n      value: this.state.city,\n      onChange: this.cityChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 25\n      }\n    }, \"Zip:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"zip\",\n      name: \"zip\",\n      type: \"text\",\n      value: this.state.zip,\n      onChange: this.zipChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"email\",\n      name: \"email\",\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.emailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 26\n      }\n    }, \"Sex:\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"sex\",\n      onChange: this.selectChange,\n      name: \"sex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 30\n      }\n    }, \"Male\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 30\n      }\n    }, \"Female\"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        textAlign: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      style: {\n        width: '20%'\n      },\n      value: \"submit\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 25\n      }\n    }))), \" \")));\n  }\n\n}\n\nexport default UserInsert;","map":{"version":3,"sources":["/home/mathew/javascript/ischools/src/components/UserInsert.js"],"names":["React","Redirect","data","showSpinner","hideSpinner","setUsers","UserInsert","Component","constructor","props","state","spinner","userId","password","firstName","lastName","address1","address2","city","zip","phone","cell","email","sex_male","profile_image_url","image_urls_for_delete","avatar","icons","baseState","userIdChange","bind","passwordChange","firstNameChange","lastNameChange","address1Change","address2Change","profileImageChange","cityChange","zipChange","phoneChange","cellChange","emailChange","selectChange","handleSubmit","setBaseState","e","dispatch","globalState","alert","reqBody","encodeURIComponent","trim","JSON","stringify","fetch","headers","method","body","then","res","ok","json","Error","usersArrayCopy","usersArray","obj","id","first_name","last_name","mobile","push","setState","window","location","assign","hostname","port","catch","error","target","value","new_sex_male","files","Array","from","uploadFile","allowedTypes","every","type","size","name","formData","FormData","append","console","log","undefined","secure_url","render","loggedInUser","home","male","female","width","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {  Redirect } from 'react-router-dom';\nimport data from './data';\nimport {showSpinner, hideSpinner, setUsers} from '../stores/appStoreActions';\n\nclass UserInsert extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state={\n      spinner:false,\n      userId:'',\n      password:'',\n      firstName:'',\n      lastName:'',\n      address1:'',\n      address2:'',\n      city:'',\n      zip:'',\n      phone:'',\n      cell:'',\n      email:'',\n      sex_male: true,\n      profile_image_url:null,\n      image_urls_for_delete:[],\n      avatar: data.avatar,\n      icons: data.icons\n    }\n    this.baseState=this.state;\n    this.userIdChange=this.userIdChange.bind(this);\n    this.passwordChange=this.passwordChange.bind(this);\n    this.firstNameChange=this.firstNameChange.bind(this);\n    this.lastNameChange=this.lastNameChange.bind(this);\n    this.address1Change=this.address1Change.bind(this);\n    this.address2Change=this.address2Change.bind(this);\n    this.profileImageChange=this.profileImageChange.bind(this);\n    this.cityChange=this.cityChange.bind(this);\n    this.zipChange=this.zipChange.bind(this);\n    this.phoneChange=this.phoneChange.bind(this);\n    this.cellChange=this.cellChange.bind(this);\n    this.emailChange=this.emailChange.bind(this);\n    this.selectChange=this.selectChange.bind(this);\n    this.handleSubmit=this.handleSubmit.bind(this);\n    this.setBaseState=this.setBaseState.bind(this);\n  }\n\n  handleSubmit(e){\n    let dispatch=this.props.dispatch;\n    let globalState=this.props.state;\n    if(this.state.userId===''||this.state.password===''){\n      alert('UserId/Password cannot be empty');\n      return;\n    }\n    else{\n      showSpinner(dispatch);\n      var reqBody='userId='+encodeURIComponent(this.state.userId.trim());\n      reqBody+='&password='+encodeURIComponent(this.state.password);\n      reqBody+='&firstName='+encodeURIComponent(this.state.firstName);\n      reqBody+='&lastName='+encodeURIComponent(this.state.lastName);\n      reqBody+='&address1='+encodeURIComponent(this.state.address1);\n      reqBody+='&address2='+encodeURIComponent(this.state.address2);\n      reqBody+='&city='+encodeURIComponent(this.state.city);\n      reqBody+='&zip='+encodeURIComponent(this.state.zip);\n      reqBody+='&phone='+encodeURIComponent(this.state.phone);\n      reqBody+='&cell='+encodeURIComponent(this.state.cell);\n      reqBody+='&email='+encodeURIComponent(this.state.email);\n      reqBody+='&sex_male='+encodeURIComponent(this.state.sex_male);\n      reqBody+='&profile_image_url='+encodeURIComponent(this.state.profile_image_url);\n      reqBody+='&image_urls_for_delete='+encodeURIComponent(JSON.stringify(this.state.image_urls_for_delete));\n\n      fetch(`/api/insertUserAction`, {\n        headers:{\n          'Accept':'application/json',\n          'Content-type': 'application/x-www-form-urlencoded'\n        },\n        method: 'POST',\n        body: reqBody\n      })\n      .then(res=>{\n                  if(res.ok)\n                    return res.json();\n\n                  throw new Error('Something went wrong with the last request, please try again or contact the maintenance team.');\n                 })\n      .then(data=>{\n          //if(data.updatestatus==\"ok\")\n              let usersArrayCopy=[...globalState.usersArray];\n              let obj={\n                id:this.state.userId,\n                password:this.state.password,\n                first_name: this.state.firstName,\n                last_name: this.state.lastName,\n                address1: this.state.address1,\n                address2: this.state.address2,\n                city:this.state.city,\n                zip:this.state.zip,\n                phone:this.state.phone,\n                mobile:this.state.cell,\n                email:this.state.email,\n                profile_image_url: this.state.profile_image_url,\n                sex_male: this.state.sex_male\n              };\n              usersArrayCopy.push(obj);\n              setUsers(usersArrayCopy, dispatch);\n              this.setState(this.baseState);\n              hideSpinner(dispatch);\n              alert('User inserted');\n              window.location.assign(\"https://\"+window.location.hostname+':'+window.location.port);\n      })\n      .catch(error=>{\n        this.setBaseState();\n        alert(' '+ error);\n      });\n\n    }\n  }\n\n  setBaseState(){\n    this.setState(this.baseState);\n    hideSpinner(this.props.dispatch);\n  }\n\n  emailChange(e){\n    this.setState({email:e.target.value})\n  }\n\n  cellChange(e){\n    this.setState({cell:e.target.value})\n  }\n\n  phoneChange(e){\n    this.setState({phone:e.target.value})\n  }\n\n  zipChange(e){\n    this.setState({zip:e.target.value})\n  }\n\n  cityChange(e){\n    this.setState({city:e.target.value})\n  }\n\n  address2Change(e){\n    this.setState({address2:e.target.value})\n  }\n\n  address1Change(e){\n    this.setState({address1:e.target.value})\n  }\n\n  lastNameChange(e){\n    this.setState({lastName:e.target.value})\n  }\n\n  firstNameChange(e){\n    this.setState({firstName:e.target.value})\n  }\n\n  passwordChange(e){\n    this.setState({password:e.target.value})\n  }\n\n  userIdChange(e){\n    this.setState({userId:e.target.value})\n  }\n\n  selectChange(e){\n    var new_sex_male=e.target.value===\"true\"?true:false;\n    this.setState({sex_male:new_sex_male});\n  }\n\n  profileImageChange(e){\n    const files = Array.from(e.target.files);\n    const uploadFile=files[0];\n    const allowedTypes = ['image/png', 'image/jpeg', 'image/gif', 'image/svg', 'image/bmp'];\n\n    if (allowedTypes.every(type => uploadFile.type !== type)) {\n       alert('File type not supported (Only png/jpg/gif allowed)');\n       return;\n    }\n    else if (uploadFile.size > 150000) {\n       alert(`'${uploadFile.name}' is too large, please pick a smaller file`);\n       return;\n    }\n\n    //console.log(uploadFile);\n\n    const formData = new FormData();\n     formData.append(0, uploadFile);\n\n     fetch(`/api/profileImageUpload`, {\n       method: 'POST',\n       body: formData\n     })\n     .then(res=>res.json())\n     .then(data=>{\n       console.log(data);\n\n       let image_urls_for_delete=this.state.image_urls_for_delete===undefined?[]:[...this.state.image_urls_for_delete];\n       if(this.state.profile_image_url!==null)\n         image_urls_for_delete.push(this.state.profile_image_url);\n\n       this.setState({profile_image_url: data.secure_url, image_urls_for_delete: image_urls_for_delete});\n     });\n  }\n\n  render(){\n    let globalState=this.props.state;\n    if(globalState.loggedInUser!==''){\n      return <Redirect to=\"/errorLogin\"/>\n    }\n    return (\n      <div id=\"UserInsert\">\n      <a class=\"HomeLink\" href=\"/\">\n          <img className=\"homeIcon\" src={this.state.icons.home} alt=\"back to home\"/>\n          {/*back to home*/}\n      </a>\n          <div class=\"h1\">\n          Register User\n          </div>\n          <fieldset>\n          <br/><br/>\n          <div className=\"profileParent\">\n              <div className=\"profileCard\">\n                <label htmlFor='ProfileUpload'>\n                <img src={this.state.profile_image_url!=null?this.state.profile_image_url: ( this.state.sex_male==true?this.state.avatar.male:this.state.avatar.female)} alt=\"Avatar\"/>\n                <div className=\"profileCardOverlayInsert\">{this.state.profile_image_url!=null?\"Update Image\": \"Upload Image\"}\n                </div>\n               </label>\n               <input type='file' id='ProfileUpload' onChange={this.profileImageChange} />\n              </div>\n          </div>\n          <br/>\n            <div className=\"row\">\n                <div id=\"flexColLeft\">\n                  <div className=\"line\">\n                        <label>User Id:</label>\n                        <input id=\"userId\" name=\"userId\"  type=\"text\"\n                        value={this.state.userId}\n                        onChange={this.userIdChange}>\n                        </input>\n                   </div>\n                   <br/>\n                  <div className=\"line\">\n                           <label>\n                        Password:</label>\n                        <input id=\"password\" name=\"password\" type=\"password\"\n                        value={this.state.password}\n                        onChange={this.passwordChange}>\n                        </input>\n                  </div><br/>\n                  <div className=\"line\">\n                          <label>\n                        First Name:\n                         </label>\n                        <input id=\"firstName\" name=\"firstName\" type=\"text\"\n                        value={this.state.firstName}\n                        onChange={this.firstNameChange}\n                        ></input>\n                  </div>\n                  <br/>\n                  <div className=\"line\">\n                          <label>\n                        Last Name:\n                         </label>\n                        <input id=\"lastName\" name=\"lastName\" type=\"text\"\n                        value={this.state.lastName}\n                        onChange={this.lastNameChange}>\n                        </input>\n                  </div>\n                  <br/>\n                  <div className=\"line\">\n                          <label>\n                        Phone:\n                        </label>\n                        <input id=\"phone\" name=\"phone\"  type=\"text\"\n                        value={this.state.phone}\n                        onChange={this.phoneChange}\n                        ></input>\n                  </div>\n                  <br/>\n                  <div className=\"line\">\n                          <label>\n                          Cell num:\n                          </label>\n                         <input id=\"cell\" name=\"cell\" type=\"text\"\n                         value={this.state.cell}\n                         onChange={this.cellChange}\n                         ></input>\n                  </div>\n                </div> {/*end of flexColLeft*/}\n                <br/>\n                <div id=\"flexColRight\" >\n                    <div className=\"line\">\n                        <label>Address1:</label>\n                       <input id=\"address1\" name=\"address1\" type=\"text\"\n                       value={this.state.address1}\n                       onChange={this.address1Change}\n                       ></input>\n                    </div>\n                    <br/>\n                    <div className=\"line\">\n                      <label>\n                       Address2:\n                       </label>\n                      <input id=\"address2\" name=\"address2\" type=\"text\"\n                      value={this.state.address2}\n                      onChange={this.address2Change}\n                        ></input>\n                    </div>\n                        <br/>\n                    <div className=\"line\">\n                      <label>\n                        City:\n                      </label>\n                        <input  id=\"city\" name=\"city\" type=\"text\"\n                        value={this.state.city}\n                        onChange={this.cityChange}\n                         ></input>\n                    </div>\n                    <br/>\n                    <div className=\"line\">\n                        <label>\n                      Zip:\n                      </label>\n                      <input  id=\"zip\" name=\"zip\" type=\"text\"\n                      value={this.state.zip}\n                      onChange={this.zipChange}\n                      ></input>\n                    </div>\n                    <br/>\n                    <div className=\"line\">\n                        <label>\n                       Email:\n                       </label>\n                       <input  id=\"email\" name=\"email\" type=\"text\"\n                       value={this.state.email}\n                       onChange={this.emailChange}\n                        >\n                       </input>\n                    </div>\n                    <br/>\n                    <div className=\"line\">\n                         <label>\n                       Sex:\n                        </label>\n                         <select id=\"sex\"\n                         onChange={this.selectChange} name=\"sex\">\n                             <option value=\"true\">Male</option>\n                             <option value=\"false\">Female</option>\n                         </select>\n                    </div>\n                    <div style={{width: '100%', textAlign: 'right'}}>\n                        <input type=\"submit\" style={{width: '20%'}} value=\"submit\"\n                        onClick={this.handleSubmit}/>\n                    </div>\n                </div> {/*end of flexColRight*/}\n              </div>{/*end of row*/}\n          </fieldset>\n      </div>\n    )\n  }\n\n}\n\nexport default UserInsert;\n"]},"metadata":{},"sourceType":"module"}